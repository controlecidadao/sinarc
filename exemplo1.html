<html>
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
        
            <script src="./pyvis/templates/lib/bindings/utils.js"></script>
            <link rel="stylesheet" href="./pyvis/templates/lib/vis-9.1.2/vis-network.css" />
            <script src="./pyvis/templates/lib/vis-9.1.2/vis-network.min.js" ></script>
            
        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link href="./pyvis/templates/lib/vis-9.1.2/bootstrap.min.css" rel="stylesheet" />
        <script src="./pyvis/templates/lib/vis-9.1.2/bootstrap.bundle.min.js" ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 800px;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             
             #loadingBar {
                 position:absolute;
                 top:0px;
                 left:0px;
                 width: 100%;
                 height: 800px;
                 background-color:rgba(200,200,200,0.8);
                 -webkit-transition: all 0.5s ease;
                 -moz-transition: all 0.5s ease;
                 -ms-transition: all 0.5s ease;
                 -o-transition: all 0.5s ease;
                 transition: all 0.5s ease;
                 opacity:1;
             }

             #bar {
                 position:absolute;
                 top:0px;
                 left:0px;
                 width:20px;
                 height:20px;
                 margin:auto auto auto auto;
                 border-radius:11px;
                 border:2px solid rgba(30,30,30,0.05);
                 background: rgb(0, 173, 246); /* Old browsers */
                 box-shadow: 2px 0px 4px rgba(0,0,0,0.4);
             }

             #border {
                 position:absolute;
                 top:10px;
                 left:10px;
                 width:500px;
                 height:23px;
                 margin:auto auto auto auto;
                 box-shadow: 0px 0px 4px rgba(0,0,0,0.2);
                 border-radius:10px;
             }

             #text {
                 position:absolute;
                 top:8px;
                 left:530px;
                 width:30px;
                 height:50px;
                 margin:auto auto auto auto;
                 font-size:22px;
                 color: #000000;
             }

             div.outerBorder {
                 position:relative;
                 top:400px;
                 width:600px;
                 height:44px;
                 margin:auto auto auto auto;
                 border:8px solid rgba(0,0,0,0.1);
                 background: rgb(252,252,252); /* Old browsers */
                 background: -moz-linear-gradient(top,  rgba(252,252,252,1) 0%, rgba(237,237,237,1) 100%); /* FF3.6+ */
                 background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(252,252,252,1)), color-stop(100%,rgba(237,237,237,1))); /* Chrome,Safari4+ */
                 background: -webkit-linear-gradient(top,  rgba(252,252,252,1) 0%,rgba(237,237,237,1) 100%); /* Chrome10+,Safari5.1+ */
                 background: -o-linear-gradient(top,  rgba(252,252,252,1) 0%,rgba(237,237,237,1) 100%); /* Opera 11.10+ */
                 background: -ms-linear-gradient(top,  rgba(252,252,252,1) 0%,rgba(237,237,237,1) 100%); /* IE10+ */
                 background: linear-gradient(to bottom,  rgba(252,252,252,1) 0%,rgba(237,237,237,1) 100%); /* W3C */
                 filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fcfcfc', endColorstr='#ededed',GradientType=0 ); /* IE6-9 */
                 border-radius:72px;
                 box-shadow: 0px 0px 10px rgba(0,0,0,0.2);
             }
             

             

             
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
            <div id="loadingBar">
              <div class="outerBorder">
                <div id="text">0%</div>
                <div id="border">
                  <div id="bar"></div>
                </div>
              </div>
            </div>
        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([
  {
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PF_***133798**-RENATA DE MORAES",
    "image": "images\\pf_mulher.png",
    "label": "RENATA DE MORAES",
    "shape": "image",
    "size": 21,
    "title": "RENATA DE MORAES (PF_***133798**)\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 1):\n--> PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Administrador)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "color": {
      "border": "red",
      "background": "transparent",
      "hover": {
        "background": "transparent",
        "border": "red"
      },
      "highlight": {
        "background": "rgba(0, 255, 0, 0.3)",
        "border": "red"
      }
    },
    "borderWidth": 4,
    "shapeProperties": {
      "useBorderWithImage": true,
      "borderDashes": [
        15,
        5
      ]
    },
    "borderWidthSelected": 4,
    "id": "PJ_02363619000196",
    "image": "images\\pj_brasil_ativa.png",
    "label": "SERGET MOBILIDADE VIARIA LTDA",
    "shape": "image",
    "size": 100,
    "title": "SERGET MOBILIDADE VIARIA LTDA (PJ_02363619000196)\nSERGET\nRUA DOM LUIS FELIPE DE ORLEANS, 426 - VILA MARIA BAIXA - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 55):\n--> EM_comercial@serget.com.br\n--> EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP\n--> PJ_ALIANCA VIARIA MS - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO ALIANCA VIARIA - BA - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO ALIANCA VIARIA - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO ALIANCA VIARIA GO E MS - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO BRAVIAS - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO CG SEGURA - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO CIDADE MORENA - CAMPO GRANDE-MS - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO CMT - CUIABA MONITORAMENTO DE TRANSITO - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO CMT CUIABA MONITORAMENTO DE TRANSITO/2020 - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO DATAPROCES-GO - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO GERENCIAMENTO DO TRANSITO DE VILA VELHA - GETRAN. - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO GRU-SINALIZACAO - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO GUARDA BEM - SERGET - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO JARSER - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO MOBILIDADE SUL - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO MONITORA PIRA - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO MONITRAN - MONITORAMENTO ELETRONICO DE TRANSITO - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO MONITRAN GRU - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO MOVI-GRU - CONSORCIO MOBILIDADE VIARIA GUARULHOS - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO MT TUR - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO OSASCO MAIS SEGURA - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO PAULISTA DE FISCALIZACAO - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO PIRA SEGURA - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO PROCESSAMENTO E TECNOLOGIA - CPT - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO RODOVIA SEGURA - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO S. J. S SINAL - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO SAO PAULO INTELIGENTE - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO SDE - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO SERCONTEC MATO GROSSO - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO SINAL GRU - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO SINAL MT - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO SINAL RO - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO SPTRANSITO - MONITORAMENTO E FISCALIZACAO ELETRONICA - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO TRANSEG GRU - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO VARZEA MT - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO VIARIO GRANDE JUNDIAI - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO VIAS ALENCARINAS - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO VIAS CAPITAL - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO VIAS CAPITAL 2020 - Baixada - (Sociedade Consorciada)\n--> PJ_CTS - CONSORCIO TRANSITO SEGURO - Baixada - (Sociedade Consorciada)\n--> PJ_CTS - CONSORCIO TRANSITO SEGURO 2022 - Ativa - (Sociedade Consorciada)\n--> PJ_SERGET MOBILIDADE VIARIA LTDA - SCP - Ativa - (Sócio Ostensivo)\n--> PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L1 - Baixada - (Sociedade Consorciada)\n--> PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L2 - Baixada - (Sociedade Consorciada)\n--> PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L3 - Baixada - (Sociedade Consorciada)\n--> PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L4 - Baixada - (Sociedade Consorciada)\n--> PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L5 - Baixada - (Sociedade Consorciada)\n--> TE_11 26362727\n--> TE_11 33892727\n<-- PF_MOISES DE MORAES (Administrador)\n<-- PF_RENATA DE MORAES (Administrador)\n<-- PJ_LUX AQUILA PARTICIPACOES S.A. - Ativa - (Sócio)\n<-- PJ_N.L PARTICIPACOES LTDA - Ativa - (Sócio)",
    "value": 55,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "mass": 407.8909167902615
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_03146137000147",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO GERENCIAMENTO DO TRANSITO DE VILA VELHA - GETRAN.",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO GERENCIAMENTO DO TRANSITO DE VILA VELHA - GETRAN. (PJ_03146137000147)\nRODOVIA CARLOS LINDEMBERG, 1514 - ARIBIRI - VILA VELHA - ES\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EN_CARLOS LINDEMBERG 1514-VILA VELHA-ES\n--> TE_27 3249050\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_11504152000148",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO BRAVIAS",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO BRAVIAS (PJ_11504152000148)\nAVENIDA ESTRADA DA ARROZEIRA, 820 - CENTRO - ELDORADO DO SUL - RS\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_fiscal@escriteccontabil.com.br\n--> EN_ARROZEIRA ESTRADA 820-ELDORADO DO SUL-RS\n--> TE_51 33424355\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_14417796000197",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO SDE",
    "shape": "image",
    "size": 26,
    "title": "CONSORCIO SDE (PJ_14417796000197)\nCONSORCIO SDE\nRUA DOM LUIS FELIPE DE ORLEANS, 426 - VILA MARIA BAIXA - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_moises.moraes@serget.com.br\n--> EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_17071550000102",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO JARSER",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO JARSER (PJ_17071550000102)\n********\nRUA SANSAO ALVES DOS SANTOS, 20 - ANDAR 2-BROOKLIN NOVO - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EN_ALVES ANDAR SANSAO SANTOS 20 2-SAO PAULO-SP\n--> TE_11 55072007\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_17990510000156",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO VIARIO GRANDE JUNDIAI",
    "shape": "image",
    "size": 23,
    "title": "CONSORCIO VIARIO GRANDE JUNDIAI (PJ_17990510000156)\nALAMEDA ARAGUAIA, 933 - ANDAR 5 CONJ 51 SUB CONJ 1-ALPHAVILLE - BARUERI - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_jacqueline.panontin@serget.com.br\n--> TE_11 26362727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_19388662000109",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO ALIANCA VIARIA GO E MS",
    "shape": "image",
    "size": 23,
    "title": "CONSORCIO ALIANCA VIARIA GO E MS (PJ_19388662000109)\nRUA DOUTOR OSCAR GUIMARAES, 3750 - JARDIM NOVO AEROPORTO - TRES LAGOAS - MS\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 5):\n--> EM_espaulocontabil@yahoo.com.br\n--> TE_67 30425722\n--> TE_67 30426867\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_19388666000197",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO ALIANCA VIARIA",
    "shape": "image",
    "size": 27,
    "title": "CONSORCIO ALIANCA VIARIA (PJ_19388666000197)\nRUA GOIANIA, 048 - VILA BOA BRANCO - VILA BOA - GO\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 6):\n--> EM_financeiro@sinape.com.br\n--> TE_16 36358856\n--> TE_16 36643478\n--> TE_16 36646274\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 5,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_19887098000179",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO SPTRANSITO - MONITORAMENTO E FISCALIZACAO ELETRONICA",
    "shape": "image",
    "size": 23,
    "title": "CONSORCIO SPTRANSITO - MONITORAMENTO E FISCALIZACAO ELETRONICA (PJ_19887098000179)\nRUA AUGUSTA, 1836 - ANDAR 8-CERQUEIRA CESAR - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_eliane@slmassessoriacontabil.com.br\n--> TE_11 38316032\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_20190209000172",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO GUARDA BEM - SERGET",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO GUARDA BEM - SERGET (PJ_20190209000172)\nCONSORCIO GUARDA BEM - SERGET\nAVENIDA PRESIDENTE KENNEDY, 3903 - ANEXO: GALPAO C;-ROCHDALE - OSASCO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 5):\n--> EM_jorgemarco.rodrigues1@gmail.com\n--> TE_11 21085591\n--> TE_11 36865591\n--> TE_11 36867458\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_20655625000107",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO CMT - CUIABA MONITORAMENTO DE TRANSITO",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO CMT - CUIABA MONITORAMENTO DE TRANSITO (PJ_20655625000107)\nRUA CURUCA, 473 - VILA MARIA BAIXA - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EN_CURUCA 473-SAO PAULO-SP\n--> TE_11 36671213\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_21113837000117",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO MT TUR",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO MT TUR (PJ_21113837000117)\nAVENIDA FERNANDO CORREA DA COSTA, 8212 - SAO FRANCISCO - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 2):\n--> TE_65 36653088\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_21611768000171",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO MONITRAN - MONITORAMENTO ELETRONICO DE TRANSITO",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO MONITRAN - MONITORAMENTO ELETRONICO DE TRANSITO (PJ_21611768000171)\nCONSORCIO MONITRAN\nSETOR SAAN QUADRA 4, S/N - LOTE: 566 PARTE A;-ZONA INDUSTRIAL - BRASILIA - DF\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 2):\n--> TE_61 33637403\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_22041471000180",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO VIAS CAPITAL",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO VIAS CAPITAL (PJ_22041471000180)\nRUA JULIANO LUCCHI, 134 - JARDIM ELDORADO - PALHOCA - SC\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 5):\n--> EN_JULIANO LUCCHI 134-PALHOCA-SC\n--> TE_48 21063000\n--> TE_48 21063005\n--> TE_48 21063008\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_22095351000166",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO VIAS ALENCARINAS",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO VIAS ALENCARINAS (PJ_22095351000166)\nCONSORCIO VIAS ALENCARINAS\nRODOVIA BR-116, 10000 - : B - KM 09;-JANGURUSSU - FORTALEZA - CE\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_ailson@trana.com.br\n--> EN_B BR KM 116 10000 9-FORTALEZA-CE\n--> TE_85 40061200\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_22103852000147",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO ALIANCA VIARIA - BA",
    "shape": "image",
    "size": 23,
    "title": "CONSORCIO ALIANCA VIARIA - BA (PJ_22103852000147)\nRUA SAO FRANCISCO, 521 - JARDIM OURO BRANCO - BARREIRAS - BA\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 5):\n--> EM_c.parana.ba@hotmail.com\n--> EN_FRANCISCO SAO 521-BARREIRAS-BA\n--> TE_77 36118445\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_25250406000153",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CTS - CONSORCIO TRANSITO SEGURO",
    "shape": "image",
    "size": 23,
    "title": "CTS - CONSORCIO TRANSITO SEGURO (PJ_25250406000153)\nCTS - CONSORCIO TRANSITO SEGURO\nRUA U, SN - RUA 21 LOTE 07 AO 13 QUADRA 2/7-DISTRITO INDUSTRIAL - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 5):\n--> EM_comercial@tecnoviasmt.com.br\n--> EN_AO LOTE QUADRA RUA U 21 7 13 2 7-CUIABA-MT\n--> TE_11 33892727\n--> TE_65 30289500\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_26643588000195",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO MOVI-GRU - CONSORCIO MOBILIDADE VIARIA GUARULHOS",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO MOVI-GRU - CONSORCIO MOBILIDADE VIARIA GUARULHOS (PJ_26643588000195)\nRUA DOM LUIS FELIPE DE ORLEANS, 426 - VILA MARIA BAIXA - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_srf.legal@meirafernandes.com.br\n--> EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP\n--> TE_11 35135000\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_28503496000135",
    "image": "images\\pj_brasil_ativa.png",
    "label": "SERGET MOBILIDADE VIARIA LTDA - SCP",
    "shape": "image",
    "size": 23,
    "title": "SERGET MOBILIDADE VIARIA LTDA - SCP (PJ_28503496000135)\nAVENIDA QUEIROZ FILHO, 1700 - BLOCO A SALA 902-VILA HAMBURGUESA - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 2):\n--> TE_11 38316032\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sócio Ostensivo)",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_31368259000113",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO CIDADE MORENA - CAMPO GRANDE-MS",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO CIDADE MORENA - CAMPO GRANDE-MS (PJ_31368259000113)\nCONSORCIO CIDADE MORENA\nRUA INAJA, 366 - CENTRO - PINHAIS - PR\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_contabilidade@perkons.com\n--> EN_INAJA 366-PINHAIS-PR\n--> TE_41 35443232\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_31549874000126",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO PROCESSAMENTO E TECNOLOGIA - CPT",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO PROCESSAMENTO E TECNOLOGIA - CPT (PJ_31549874000126)\nQUADRA SAUS QUADRA 1, S/N - BLOCO N LOJA 101 EDIF TERRA BRASILIS PARTE H-ASA SUL - BRASILIA - DF\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 1):\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_31688915000165",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO GRU-SINALIZACAO",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO GRU-SINALIZACAO (PJ_31688915000165)\nRUA DOM LUIS FELIPE DE ORLEANS, N426 - VILA MARIA BAIXA - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_jacqueline.ponontin@serget.com.br\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_37590732000199",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO CMT CUIABA MONITORAMENTO DE TRANSITO/2020",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO CMT CUIABA MONITORAMENTO DE TRANSITO/2020 (PJ_37590732000199)\nCONSORCIO CMT CUIABA MONITORAMENTO DE TRANSITO/2020\nAVENIDA FERNANDO CORREA DA COSTA, 248 - PISO SUPERIOR SALA 05-POCAO - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> TE_11 33892727\n--> TE_11 35135000\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_39568322000177",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO VIAS CAPITAL 2020",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO VIAS CAPITAL 2020 (PJ_39568322000177)\nCONSORCIO VIAS CAPITAL\nRUA JULIANO LUCCHI, 134 - JARDIM ELDORADO - PALHOCA - SC\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_jair@sinasc.com.br\n--> EN_JULIANO LUCCHI 134-PALHOCA-SC\n--> TE_48 21063000\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_39808214000124",
    "image": "images\\pj_brasil_inativa.png",
    "label": "SMC - CONSORCIO RODOVIAS SEGURAS MT - L5",
    "shape": "image",
    "size": 26,
    "title": "SMC - CONSORCIO RODOVIAS SEGURAS MT - L5 (PJ_39808214000124)\nSMC - CONSORCIO RODOVIAS SEGURAS MT\nRUA U, SN - RUA 21 LOTE 07 AO 13 QUADRA 2/7 SALA SMC-DISTRITO INDUSTRIAL - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com.br\n--> EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_39841452000131",
    "image": "images\\pj_brasil_inativa.png",
    "label": "SMC - CONSORCIO RODOVIAS SEGURAS MT - L1",
    "shape": "image",
    "size": 26,
    "title": "SMC - CONSORCIO RODOVIAS SEGURAS MT - L1 (PJ_39841452000131)\nSMC - CONSORCIO RODOVIAS SEGURAS MT\nRUA U, SN - RUA 21 LOTE 07 AO 13 QUADRA 2/7 SALA SMC-DISTRITO INDUSTRIAL - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com.br\n--> EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT\n--> TE_65 36254410\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_39841467000108",
    "image": "images\\pj_brasil_inativa.png",
    "label": "SMC - CONSORCIO RODOVIAS SEGURAS MT - L2",
    "shape": "image",
    "size": 26,
    "title": "SMC - CONSORCIO RODOVIAS SEGURAS MT - L2 (PJ_39841467000108)\nSMC - CONSORCIO RODOVIAS SEGURAS MT\nRUA U, SN - RUA 21 LOTE 07 AO 13 QUADRA 2/7 SALA SMC-DISTRITO INDUSTRIAL - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com.br\n--> EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_39912350000160",
    "image": "images\\pj_brasil_inativa.png",
    "label": "SMC - CONSORCIO RODOVIAS SEGURAS MT - L4",
    "shape": "image",
    "size": 26,
    "title": "SMC - CONSORCIO RODOVIAS SEGURAS MT - L4 (PJ_39912350000160)\nSMC - CONSORCIO RODOVIAS SEGURAS MT\nRUA U, SN - RUA 21 LOTE 07 AO 13 QUADRA 2/7 SALA SMC-DISTRITO INDUSTRIAL - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com.br\n--> EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT\n--> TE_65 41415031\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_39912386000143",
    "image": "images\\pj_brasil_inativa.png",
    "label": "SMC - CONSORCIO RODOVIAS SEGURAS MT - L3",
    "shape": "image",
    "size": 26,
    "title": "SMC - CONSORCIO RODOVIAS SEGURAS MT - L3 (PJ_39912386000143)\nSMC - CONSORCIO RODOVIAS SEGURAS MT\nRUA U, SN - RUA 21 LOTE 07 AO 13 QUADRA 2/7 SALA SMC-DISTRITO INDUSTRIAL - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com.br\n--> EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT\n--> TE_65 41415031\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_42422233000122",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO SINAL GRU",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO SINAL GRU (PJ_42422233000122)\nRUA TAGUA, 206 - 208-LIBERDADE - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com\n--> EN_TAGUA 206 208-SAO PAULO-SP\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_43455189000110",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO SINAL RO",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO SINAL RO (PJ_43455189000110)\nRUA PRUDENTE DE MORAES, 2528 - SALA 01 PISO 01-CENTRO - PORTO VELHO - RO\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_comercial@serget.com.br\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_43698648000196",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO MOBILIDADE SUL",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO MOBILIDADE SUL (PJ_43698648000196)\nRODOVIA PR-423, S/N - CAMPO DO MEIO - CAMPO LARGO - PR\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_sitran@sitran.com.br\n--> EN_PRAIA 423-CAMPO LARGO-PR\n--> TE_31 33893900\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_44661720000173",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO DATAPROCES-GO",
    "shape": "image",
    "size": 26,
    "title": "CONSORCIO DATAPROCES-GO (PJ_44661720000173)\nRUA DOM LUIS FELIPE DE ORLEANS, 426 - VILA MARIA BAIXA - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_jacqueline.ponontin@serget.com.br\n--> EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_45036083000107",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CTS - CONSORCIO TRANSITO SEGURO 2022",
    "shape": "image",
    "size": 26,
    "title": "CTS - CONSORCIO TRANSITO SEGURO 2022 (PJ_45036083000107)\nCTS - CONSORCIO TRANSITO SEGURO 2022\nRUA U, SN - RUA 21 LOTE 7 AO 13 QUADRA 2/7 SALA CTS-DISTRITO INDUSTRIAL - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com.br\n--> EN_AO CTS LOTE QUADRA RUA SALA U 21 7 13 2 7-CUIABA-MT\n--> TE_65 36254410\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_46495989000152",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO RODOVIA SEGURA",
    "shape": "image",
    "size": 26,
    "title": "CONSORCIO RODOVIA SEGURA (PJ_46495989000152)\nCONSORCIO RODOVIA SEGURA\nRUA U, SN - RUA 21 LOTE 7 AO 13 QUADRA 2/7 SALA CTS-DISTRITO INDUSTRIAL - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com.br\n--> EN_AO CTS LOTE QUADRA RUA SALA U 21 7 13 2 7-CUIABA-MT\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_46797505000120",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO S. J. S SINAL",
    "shape": "image",
    "size": 26,
    "title": "CONSORCIO S. J. S SINAL (PJ_46797505000120)\nRUA DOM LUIS FELIPE DE ORLEANS, 426 - VILA MARIA BAIXA - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com\n--> EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_47701262000147",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO MONITRAN GRU",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO MONITRAN GRU (PJ_47701262000147)\nAVENIDA BRIGADEIRO FARIA LIMA, 3287 - COCAIA - GUARULHOS - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_comercial@serget.com.br\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_47783811000170",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO SERCONTEC MATO GROSSO",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO SERCONTEC MATO GROSSO (PJ_47783811000170)\nCONSORCIO SERCONTEC MATO GROSSO\nRUA U, SN - RUA 21 LOTE 7 AO 13 QUADRA 2/7 SL CONS SERCONTEC-DISTRITO INDUSTRIAL - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_comercial@serget.com.br\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_48700605000111",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO VARZEA MT",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO VARZEA MT (PJ_48700605000111)\nCONSORCIO VARZEA MT\nRUA HAVANA (RES ALAMEDA), 23 - QUADRA199 LOTE 231-PONTE NOVA - VARZEA GRANDE - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_comercial@serget.com.br\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_50870028000158",
    "image": "images\\pj_brasil_ativa.png",
    "label": "ALIANCA VIARIA MS",
    "shape": "image",
    "size": 24,
    "title": "ALIANCA VIARIA MS (PJ_50870028000158)\nALIANCA VIARIA MS\nRUA ROMALINO ALVES DE ALBRES, 1486 - QUADRA0000004 LOTE 0000004 SETOR 00003 79210000-ALTOS DA CIDADE - ANASTACIO - MS\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_53060957000190",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO SAO PAULO INTELIGENTE",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO SAO PAULO INTELIGENTE (PJ_53060957000190)\nAVENIDA PRESIDENTE ALTINO, 1925 - GALPAO2 BLOCO C-JAGUARE - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 6):\n--> EM_fiscal@tecnologiagto.com.br\n--> EN_ALTINO BLOCO C GALPAO PRESIDENTE 1925 2-SAO PAULO-SP\n--> TE_11 38316032\n--> TE_11 38316033\n--> TE_11 38316034\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_55892124000110",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO PIRA SEGURA",
    "shape": "image",
    "size": 26,
    "title": "CONSORCIO PIRA SEGURA (PJ_55892124000110)\nRUA ANTONIO ALCANTARA MACHADO, 331 - VILA PACAEMBU - PIRACICABA - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com.br\n--> EN_ALCANTARA ANTONIO MACHADO 331-PIRACICABA-SP\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_56932533000166",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO MONITORA PIRA",
    "shape": "image",
    "size": 26,
    "title": "CONSORCIO MONITORA PIRA (PJ_56932533000166)\nRUA ANTONIO ALCANTARA MACHADO, 331 - VILA PACAEMBU - PIRACICABA - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_comercial@serget.com.br\n--> EN_ALCANTARA ANTONIO MACHADO 331-PIRACICABA-SP\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_56943390000198",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO SINAL MT",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO SINAL MT (PJ_56943390000198)\nCONSORCIO SINAL MT\nAVENIDA GENERAL VALE, 182 - SALA 309 D-POCAO - CUIABA - MT\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_comercial@serget.com.br\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_57931070000180",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO OSASCO MAIS SEGURA",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO OSASCO MAIS SEGURA (PJ_57931070000180)\nOSASCO MAIS SEGURA\nRUA MARIA APARECIDA PRADO, 110 - JARDIM SANTA MARIA - JACAREI - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EN_APARECIDA MARIA PRADO 110-JACAREI-SP\n--> TE_12 21341414\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_59088144000194",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO PAULISTA DE FISCALIZACAO",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO PAULISTA DE FISCALIZACAO (PJ_59088144000194)\nAVENIDA PRESIDENTE ALTINO, 1925 - JAGUARE - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 5):\n--> EM_fiscal@tecnologiagto.com.br\n--> EN_ALTINO PRESIDENTE 1925-SAO PAULO-SP\n--> TE_11 38316032\n--> TE_11 59041787\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_62357503000176",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO TRANSEG GRU",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO TRANSEG GRU (PJ_62357503000176)\nAVENIDA BRIGADEIRO FARIA LIMA, 1478 - ANDAR 20 CONJ 2004-COCAIA - GUARULHOS - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 2):\n--> TE_11 94108885\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_62783861000140",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO CG SEGURA",
    "shape": "image",
    "size": 26,
    "title": "CONSORCIO CG SEGURA (PJ_62783861000140)\nRUA DOM LUIS FELIPE DE ORLEANS, 426 - VILA MARIA BAIXA - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_moises.moraes@serget.com.br\n--> EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP\n--> TE_11 33892727\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EM_comercial@serget.com.br",
    "image": "images\\email.png",
    "label": "comercial@serget.com.br",
    "shape": "image",
    "size": 42,
    "title": "comercial@serget.com.br\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 15):\n<-- PJ_CONSORCIO MONITORA PIRA\n<-- PJ_CONSORCIO MONITRAN GRU\n<-- PJ_CONSORCIO PIRA SEGURA\n<-- PJ_CONSORCIO RODOVIA SEGURA\n<-- PJ_CONSORCIO SERCONTEC MATO GROSSO\n<-- PJ_CONSORCIO SINAL MT\n<-- PJ_CONSORCIO SINAL RO\n<-- PJ_CONSORCIO VARZEA MT\n<-- PJ_CTS - CONSORCIO TRANSITO SEGURO 2022\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L1\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L2\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L3\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L4\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L5",
    "value": 15,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 58.09475019311125
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP",
    "image": "images\\endereco.png",
    "label": "SAO PAULO - SP",
    "shape": "image",
    "size": 29,
    "title": "DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 6):\n<-- PJ_CONSORCIO CG SEGURA\n<-- PJ_CONSORCIO DATAPROCES-GO\n<-- PJ_CONSORCIO MOVI-GRU - CONSORCIO MOBILIDADE VIARIA GUARULHOS\n<-- PJ_CONSORCIO S. J. S SINAL\n<-- PJ_CONSORCIO SDE\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA",
    "value": 6,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_11 26362727",
    "image": "images\\telefone.png",
    "label": "11 26362727",
    "shape": "image",
    "size": 23,
    "title": "11 26362727\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO VIARIO GRANDE JUNDIAI\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_11 33892727",
    "image": "images\\telefone.png",
    "label": "11 33892727",
    "shape": "image",
    "size": 49,
    "title": "11 33892727\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 20):\n<-- PJ_ALIANCA VIARIA MS\n<-- PJ_CONSORCIO CG SEGURA\n<-- PJ_CONSORCIO CMT CUIABA MONITORAMENTO DE TRANSITO/2020\n<-- PJ_CONSORCIO DATAPROCES-GO\n<-- PJ_CONSORCIO GRU-SINALIZACAO\n<-- PJ_CONSORCIO MONITORA PIRA\n<-- PJ_CONSORCIO MONITRAN GRU\n<-- PJ_CONSORCIO PIRA SEGURA\n<-- PJ_CONSORCIO RODOVIA SEGURA\n<-- PJ_CONSORCIO S. J. S SINAL\n<-- PJ_CONSORCIO SDE\n<-- PJ_CONSORCIO SERCONTEC MATO GROSSO\n<-- PJ_CONSORCIO SINAL GRU\n<-- PJ_CONSORCIO SINAL MT\n<-- PJ_CONSORCIO SINAL RO\n<-- PJ_CONSORCIO VARZEA MT\n<-- PJ_CTS - CONSORCIO TRANSITO SEGURO\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L2\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L5",
    "value": 20,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 89.44271909999159
  },
  {
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PF_***201908**-MOISES DE MORAES",
    "image": "images\\pf_homem.png",
    "label": "MOISES DE MORAES",
    "shape": "image",
    "size": 21,
    "title": "MOISES DE MORAES (PF_***201908**)\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 1):\n--> PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Administrador)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_52201596000191",
    "image": "images\\pj_brasil_ativa.png",
    "label": "N.L PARTICIPACOES LTDA",
    "shape": "image",
    "size": 21,
    "title": "N.L PARTICIPACOES LTDA (PJ_52201596000191)\nN.L PARTICIPACOES\nRUA BICOS DE PAPAGAIO, 180 - NOVA CEREJEIRA - ATIBAIA - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 1):\n--> PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sócio)",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_59739356000194",
    "image": "images\\pj_brasil_ativa.png",
    "label": "LUX AQUILA PARTICIPACOES S.A.",
    "shape": "image",
    "size": 21,
    "title": "LUX AQUILA PARTICIPACOES S.A. (PJ_59739356000194)\nRUA ARACAJU, 209 - ANDAR TERREO SALA 2 CXPST 504-MOURA - GRAMADO - RS\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_contato@ber.adv.br\n--> PJ_SERGET MOBILIDADE VIARIA LTDA - Ativa - (Sócio)\n--> TE_51 30393500",
    "value": 1,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EM_moises.moraes@serget.com.br",
    "image": "images\\email.png",
    "label": "moises.moraes@serget.com.br",
    "shape": "image",
    "size": 23,
    "title": "moises.moraes@serget.com.br\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO CG SEGURA\n<-- PJ_CONSORCIO SDE",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EN_ALVES ANDAR SANSAO SANTOS 20 2-SAO PAULO-SP",
    "image": "images\\endereco.png",
    "label": "SAO PAULO - SP",
    "shape": "image",
    "size": 23,
    "title": "ALVES ANDAR SANSAO SANTOS 20 2-SAO PAULO-SP\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO JARSER\n<-- PJ_CONSORCIO JSM .",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_11 55072007",
    "image": "images\\telefone.png",
    "label": "11 55072007",
    "shape": "image",
    "size": 23,
    "title": "11 55072007\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO JARSER\n<-- PJ_CONSORCIO JSM .",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EM_financeiro@sinape.com.br",
    "image": "images\\email.png",
    "label": "financeiro@sinape.com.br",
    "shape": "image",
    "size": 27,
    "title": "financeiro@sinape.com.br\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 5):\n<-- PJ_AGUIA DOS MARES PARTICIPACOES LTDA\n<-- PJ_CONSORCIO ALIANCA VIARIA\n<-- PJ_CONSORCIO OPERACOES VIARIAS\n<-- PJ_CONSORCIO SINAPE FAIXA\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA",
    "value": 5,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_16 36358856",
    "image": "images\\telefone.png",
    "label": "16 36358856",
    "shape": "image",
    "size": 23,
    "title": "16 36358856\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO ALIANCA VIARIA\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_16 36646274",
    "image": "images\\telefone.png",
    "label": "16 36646274",
    "shape": "image",
    "size": 30,
    "title": "16 36646274\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 7):\n<-- PJ_AGUIA DOS MARES PARTICIPACOES LTDA\n<-- PJ_CONSORCIO ALIANCA VIARIA\n<-- PJ_CONSORCIO OPERACOES VIARIAS\n<-- PJ_CONSORCIO SINAPE FAIXA\n<-- PJ_SINAIS VERTICAIS INDUSTRIA E COMERCIO LTDA\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA\n<-- PJ_YORK SERVICOS LTDA",
    "value": 7,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_11 38316032",
    "image": "images\\telefone.png",
    "label": "11 38316032",
    "shape": "image",
    "size": 26,
    "title": "11 38316032\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 4):\n<-- PJ_CONSORCIO PAULISTA DE FISCALIZACAO\n<-- PJ_CONSORCIO SAO PAULO INTELIGENTE\n<-- PJ_CONSORCIO SPTRANSITO - MONITORAMENTO E FISCALIZACAO ELETRONICA\n<-- PJ_SERGET MOBILIDADE VIARIA LTDA - SCP",
    "value": 4,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EN_JULIANO LUCCHI 134-PALHOCA-SC",
    "image": "images\\endereco.png",
    "label": "PALHOCA - SC",
    "shape": "image",
    "size": 23,
    "title": "JULIANO LUCCHI 134-PALHOCA-SC\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO VIAS CAPITAL\n<-- PJ_CONSORCIO VIAS CAPITAL 2020",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_48 21063000",
    "image": "images\\telefone.png",
    "label": "48 21063000",
    "shape": "image",
    "size": 23,
    "title": "48 21063000\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO VIAS CAPITAL\n<-- PJ_CONSORCIO VIAS CAPITAL 2020",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_11 35135000",
    "image": "images\\telefone.png",
    "label": "11 35135000",
    "shape": "image",
    "size": 23,
    "title": "11 35135000\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO CMT CUIABA MONITORAMENTO DE TRANSITO/2020\n<-- PJ_CONSORCIO MOVI-GRU - CONSORCIO MOBILIDADE VIARIA GUARULHOS",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EM_jacqueline.ponontin@serget.com.br",
    "image": "images\\email.png",
    "label": "jacqueline.ponontin@serget.com.br",
    "shape": "image",
    "size": 23,
    "title": "jacqueline.ponontin@serget.com.br\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO DATAPROCES-GO\n<-- PJ_CONSORCIO GRU-SINALIZACAO",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT",
    "image": "images\\endereco.png",
    "label": "CUIABA - MT",
    "shape": "image",
    "size": 27,
    "title": "AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 5):\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L1\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L2\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L3\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L4\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L5",
    "value": 5,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_65 36254410",
    "image": "images\\telefone.png",
    "label": "65 36254410",
    "shape": "image",
    "size": 23,
    "title": "65 36254410\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CTS - CONSORCIO TRANSITO SEGURO 2022\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L1",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_65 41415031",
    "image": "images\\telefone.png",
    "label": "65 41415031",
    "shape": "image",
    "size": 23,
    "title": "65 41415031\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L3\n<-- PJ_SMC - CONSORCIO RODOVIAS SEGURAS MT - L4",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EM_comercial@serget.com",
    "image": "images\\email.png",
    "label": "comercial@serget.com",
    "shape": "image",
    "size": 23,
    "title": "comercial@serget.com\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO S. J. S SINAL\n<-- PJ_CONSORCIO SINAL GRU",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EN_AO CTS LOTE QUADRA RUA SALA U 21 7 13 2 7-CUIABA-MT",
    "image": "images\\endereco.png",
    "label": "CUIABA - MT",
    "shape": "image",
    "size": 23,
    "title": "AO CTS LOTE QUADRA RUA SALA U 21 7 13 2 7-CUIABA-MT\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO RODOVIA SEGURA\n<-- PJ_CTS - CONSORCIO TRANSITO SEGURO 2022",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EM_fiscal@tecnologiagto.com.br",
    "image": "images\\email.png",
    "label": "fiscal@tecnologiagto.com.br",
    "shape": "image",
    "size": 23,
    "title": "fiscal@tecnologiagto.com.br\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO PAULISTA DE FISCALIZACAO\n<-- PJ_CONSORCIO SAO PAULO INTELIGENTE",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EN_ALCANTARA ANTONIO MACHADO 331-PIRACICABA-SP",
    "image": "images\\endereco.png",
    "label": "PIRACICABA - SP",
    "shape": "image",
    "size": 23,
    "title": "ALCANTARA ANTONIO MACHADO 331-PIRACICABA-SP\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO MONITORA PIRA\n<-- PJ_CONSORCIO PIRA SEGURA",
    "value": 2,
    "z_group": 1,
    "z_group_total": 2,
    "z_novo": 1,
    "mass": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "color": {
      "border": "red",
      "background": "transparent",
      "hover": {
        "background": "transparent",
        "border": "red"
      },
      "highlight": {
        "background": "rgba(0, 255, 0, 0.3)",
        "border": "red"
      }
    },
    "borderWidth": 4,
    "shapeProperties": {
      "useBorderWithImage": true
    },
    "borderWidthSelected": 4,
    "id": "PJ_34023887000155",
    "image": "images\\pj_brasil_ativa.png",
    "label": "SINAPE SINALIZACAO VIARIA LTDA",
    "shape": "image",
    "size": 56,
    "title": "SINAPE SINALIZACAO VIARIA LTDA (PJ_34023887000155)\nSINAPE\nRUA DOMINGOS ZARA, 80 - DISTRITO INDUSTRIAL - BRODOWSKI - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 25):\n--> EM_financeiro@sinape.com.br\n--> EN_DOMINGOS ZARA 80-BRODOWSKI-SP\n--> PJ_ALIANCA VIARIA MS - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO 3 S MINAS - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO 5A - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO ALIANCA VIARIA - BA - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO ALIANCA VIARIA - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO ALIANCA VIARIA GO E MS - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO JS - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO JSM . - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO MTS SINALIZACAO - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO OPERACOES VIARIAS - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO SIGNASUL/SINAPE - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO SINAPE FAIXA - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO SINAPENG - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO SMART VIAS RJ - Ativa - (Sociedade Consorciada)\n--> PJ_CONSORCIO SS NATAL - Baixada - (Sociedade Consorciada)\n--> PJ_CONSORCIO SS SUSTENTAVEL - Baixada - (Sociedade Consorciada)\n--> PJ_SINAIS VERTICAIS INDUSTRIA E COMERCIO LTDA - Ativa - (Sócio)\n--> PJ_YORK SERVICOS LTDA - Ativa - (Sócio)\n--> TE_16 36358856\n--> TE_16 36646274\n<-- PF_ROBERTO MASSAYUKI NISHIMURA (rep-sócio-Procurador)\n<-- PF_THIAGO NISHIMURA (Administrador)\n<-- PJ_AGUIA DOS MARES PARTICIPACOES LTDA - Ativa - (Sócio)",
    "value": 25,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "mass": 125
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_11414504000174",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO 5A",
    "shape": "image",
    "size": 26,
    "title": "CONSORCIO 5A (PJ_11414504000174)\nRUA JOSE OLINTO FONTES, 158 - SALA: 02;-ELDORADO - CONTAGEM - MG\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_rmbh@terra.com.br\n--> TE_31 32221545\n--> TE_31 32711471\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_12217379000175",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO SIGNASUL/SINAPE",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO SIGNASUL/SINAPE (PJ_12217379000175)\nSIGNASUL/SINAPE\nAVENIDA PROTASIO ALVES, 5851 - VILA JARDIM - PORTO ALEGRE - RS\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EN_ALVES PROTASIO 5851-PORTO ALEGRE-RS\n--> TE_51 33343836\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_12632230000152",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO JSM .",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO JSM . (PJ_12632230000152)\nRUA SANSAO ALVES DOS SANTOS, 20 - ANDAR 2-BROOKLIN NOVO - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EN_ALVES ANDAR SANSAO SANTOS 20 2-SAO PAULO-SP\n--> TE_11 55072007\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_14133732000164",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO SINAPENG",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO SINAPENG (PJ_14133732000164)\nCONSORCIO SINAPE - MENG\nRUA MEXICO, 41 - SALA 1901-CASTELO - RIO DE JANEIRO - RJ\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 1):\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_18336225000189",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO 3 S MINAS",
    "shape": "image",
    "size": 26,
    "title": "CONSORCIO 3 S MINAS (PJ_18336225000189)\nRUA A, 850 - SALA: 07;-CDI JATOBA (BARREIRO) - BELO HORIZONTE - MG\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_rmbh@terra.com.br\n--> TE_31 32221545\n--> TE_31 32711471\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_18580626000180",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO MTS SINALIZACAO",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO MTS SINALIZACAO (PJ_18580626000180)\nCONSORCIO MTS SINALIZACAO\nRUA TAGUA, 200 - LIBERDADE - SAO PAULO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_gustavo@meng.com.br\n--> TE_11 33855600\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_27870980000130",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO SS NATAL",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO SS NATAL (PJ_27870980000130)\nRUA NESTOR GUISSO, S/N - BOA VISTA II - SERRA - ES\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_cerutti.contabil@terra.com.br\n--> TE_27 33191399\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_28029634000196",
    "image": "images\\pj_brasil_ativa.png",
    "label": "YORK SERVICOS LTDA",
    "shape": "image",
    "size": 23,
    "title": "YORK SERVICOS LTDA (PJ_28029634000196)\nAVENIDA DAS AMERICAS, 00700 - BLC 6 SAL 156-BARRA DA TIJUCA - RIO DE JANEIRO - RJ\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_financeiro@yorkservicos.com.br\n--> EN_AMERICAS BLC SAL 700 6 156-RIO DE JANEIRO-RJ\n--> TE_16 36646274\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sócio)",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_30371534000195",
    "image": "images\\pj_brasil_inativa.png",
    "label": "CONSORCIO SS SUSTENTAVEL",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO SS SUSTENTAVEL (PJ_30371534000195)\nRUA NESTOR GUISSO, S/Nº - BOA VISTA II - SERRA - ES\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_cerutti.contabil@terra.com.br\n--> TE_27 33191399\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_33045382000129",
    "image": "images\\pj_brasil_ativa.png",
    "label": "SINAIS VERTICAIS INDUSTRIA E COMERCIO LTDA",
    "shape": "image",
    "size": 23,
    "title": "SINAIS VERTICAIS INDUSTRIA E COMERCIO LTDA (PJ_33045382000129)\nRUA DOMINGOS ZARA, 100 - DISTRITO INDUSTRIAL - BRODOWSKI - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 2):\n--> TE_16 36646274\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sócio)",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_43721157000119",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO SINAPE FAIXA",
    "shape": "image",
    "size": 24,
    "title": "CONSORCIO SINAPE FAIXA (PJ_43721157000119)\nAVENIDA SANTA ANA, 57 - JARDIM SANTA PAULA - IBIPORA - PR\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 3):\n--> EM_financeiro@sinape.com.br\n--> TE_16 36646274\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 3,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_44762529000118",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO OPERACOES VIARIAS",
    "shape": "image",
    "size": 26,
    "title": "CONSORCIO OPERACOES VIARIAS (PJ_44762529000118)\nRUA DOMINGOS ZARA, 80 - DISTRITO INDUSTRIAL - BRODOWSKI - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_financeiro@sinape.com.br\n--> EN_DOMINGOS ZARA 80-BRODOWSKI-SP\n--> TE_16 36646274\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 4,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_47732562000193",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO JS",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO JS (PJ_47732562000193)\nRUA ARIOSTO MOTTA, 340 - A-CIDADE JARDIM GUAPIMIRIM - GUAPIMIRIM - RJ\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 2):\n--> EM_legalizacao@gma3.com.br\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_63929274000180",
    "image": "images\\pj_brasil_ativa.png",
    "label": "CONSORCIO SMART VIAS RJ",
    "shape": "image",
    "size": 21,
    "title": "CONSORCIO SMART VIAS RJ (PJ_63929274000180)\nAVENIDA JUSCELINO KUBITSCHEK DE OLIVEIRA, 154 - CENTRO - VOTORANTIM - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_cjd@splice.com.br\n--> EN_JUSCELINO KUBITSCHEK OLIVEIRA 154-VOTORANTIM-SP\n--> TE_15 33538400\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sociedade Consorciada)",
    "value": 1,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EN_DOMINGOS ZARA 80-BRODOWSKI-SP",
    "image": "images\\endereco.png",
    "label": "BRODOWSKI - SP",
    "shape": "image",
    "size": 23,
    "title": "DOMINGOS ZARA 80-BRODOWSKI-SP\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO OPERACOES VIARIAS\n<-- PJ_SINAPE SINALIZACAO VIARIA LTDA",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EM_rmbh@terra.com.br",
    "image": "images\\email.png",
    "label": "rmbh@terra.com.br",
    "shape": "image",
    "size": 23,
    "title": "rmbh@terra.com.br\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO 3 S MINAS\n<-- PJ_CONSORCIO 5A",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_31 32221545",
    "image": "images\\telefone.png",
    "label": "31 32221545",
    "shape": "image",
    "size": 23,
    "title": "31 32221545\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO 3 S MINAS\n<-- PJ_CONSORCIO 5A",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_31 32711471",
    "image": "images\\telefone.png",
    "label": "31 32711471",
    "shape": "image",
    "size": 23,
    "title": "31 32711471\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO 3 S MINAS\n<-- PJ_CONSORCIO 5A",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "EM_cerutti.contabil@terra.com.br",
    "image": "images\\email.png",
    "label": "cerutti.contabil@terra.com.br",
    "shape": "image",
    "size": 23,
    "title": "cerutti.contabil@terra.com.br\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO SS NATAL\n<-- PJ_CONSORCIO SS SUSTENTAVEL",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "font": {
      "color": "#777777"
    },
    "id": "TE_27 33191399",
    "image": "images\\telefone.png",
    "label": "27 33191399",
    "shape": "image",
    "size": 23,
    "title": "27 33191399\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 2):\n<-- PJ_CONSORCIO SS NATAL\n<-- PJ_CONSORCIO SS SUSTENTAVEL",
    "value": 2,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0,
    "mass": 1
  },
  {
    "algoritmos": "Betweenness Centrality: SERGET MOBILIDADE VIARIA LTDA\nCloseness Centrality:      SERGET MOBILIDADE VIARIA LTDA\nEigenvector Centrality:   SERGET MOBILIDADE VIARIA LTDA\nDegree Centrality:          SERGET MOBILIDADE VIARIA LTDA\nPagerank (Bidirecional): SERGET MOBILIDADE VIARIA LTDA\n\n#####  BETWEENNESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 2118.0\n2) SINAPE SINALIZACAO VIARIA LTDA: 1023.0\n3) CONSORCIO ALIANCA VIARIA GO E MS: 216.0\n#####  CLOSENESS CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.663\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.507\n3) CONSORCIO ALIANCA VIARIA: 0.507\n#####  EIGENVECTOR CENTRALITY  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.698\n2) CONSORCIO ALIANCA VIARIA GO E MS: 0.111\n3) CONSORCIO ALIANCA VIARIA: 0.111\n#####  PAGERANK (ARESTAS BIDIRECIONAIS)  #####\n1) SERGET MOBILIDADE VIARIA LTDA: 0.329\n2) SINAPE SINALIZACAO VIARIA LTDA: 0.133\n3) CONSORCIO ALIANCA VIARIA GO E MS: 0.013",
    "camadas_solicitadas": 1,
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PJ_28659956000119",
    "image": "images\\pj_brasil_ativa.png",
    "label": "AGUIA DOS MARES PARTICIPACOES LTDA",
    "shape": "image",
    "size": 24,
    "title": "AGUIA DOS MARES PARTICIPACOES LTDA (PJ_28659956000119)\nAVENIDA GIUSEPPE CILENTO, 1215 - APT 84-JARDIM BOTANICO - RIBEIRAO PRETO - SP\n\nNÓ - Distância Alvo: -\n GRAFO - Nós: 158, Arestas: 236, Camadas Solicitadas: 1, Conectado: Sim\nMensagem: \n Nós Adjacentes (Grau 4):\n--> EM_financeiro@sinape.com.br\n--> EN_APARTAMENTO CILENTO GIUSEPPE 1215 84-RIBEIRAO PRETO-SP\n--> PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Sócio)\n--> TE_16 36646274",
    "value": 3,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PF_***127448**-ROBERTO MASSAYUKI NISHIMURA",
    "image": "images\\pf_homem.png",
    "label": "ROBERTO MASSAYUKI NISHIMURA",
    "shape": "image",
    "size": 21,
    "title": "ROBERTO MASSAYUKI NISHIMURA (PF_***127448**)\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 1):\n--> PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (rep-sócio-Procurador)",
    "value": 1,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  },
  {
    "font": {
      "color": "#777777",
      "bold": false
    },
    "id": "PF_***541197**-THIAGO NISHIMURA",
    "image": "images\\pf_homem.png",
    "label": "THIAGO NISHIMURA",
    "shape": "image",
    "size": 21,
    "title": "THIAGO NISHIMURA (PF_***541197**)\n\nNÓ - Distância Alvo: -\nNós Adjacentes (Grau 1):\n--> PJ_SINAPE SINALIZACAO VIARIA LTDA - Ativa - (Administrador)",
    "value": 1,
    "z_group": 2,
    "z_group_total": 2,
    "z_novo": 0
  }
]);
                  edges = new vis.DataSet([
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PF_***133798**-RENATA DE MORAES",
    "label": "Administrador",
    "title": "Administrador",
    "to": "PJ_02363619000196",
    "width": 1,
    "id": "8c0cb08d-23e0-41fe-a8b3-69d71f76e3f0"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_03146137000147",
    "width": 1,
    "id": "76baf7b6-120a-47ce-815b-b260cf3a8de7"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_11504152000148",
    "width": 1,
    "id": "1c83db24-4cee-4b54-a9bd-0df5a97b6695"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_14417796000197",
    "width": 1,
    "id": "58fb8ed5-fb2d-491d-ac08-ffc9b4d9257c"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_17071550000102",
    "width": 1,
    "id": "e1ff23c6-45c6-46d4-a197-1084eea1ff3d"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_17990510000156",
    "width": 1,
    "id": "b697b1a3-e530-4028-b0e5-2f93c5a18424"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "color": "#1ac938",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_19388662000109",
    "value": 12,
    "width": 1,
    "id": "7ec59fb5-07a0-4df5-a742-c5a45d09139b"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "color": "#8b2be2",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_19388666000197",
    "value": 12,
    "width": 1,
    "id": "3027ec0a-803e-4a5e-9371-5f226019b8b2"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_19887098000179",
    "width": 1,
    "id": "ecd49885-34f4-47ce-b7e3-942bafaa0450"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_20190209000172",
    "width": 1,
    "id": "7a4bb6e4-7373-4c38-8f3a-6b20f9642952"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_20655625000107",
    "width": 1,
    "id": "c2126bd1-f61d-4563-b0e1-d272984cae55"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_21113837000117",
    "width": 1,
    "id": "dcbf29f7-3807-4b0d-9019-248192fbbe13"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_21611768000171",
    "width": 1,
    "id": "c9956c6c-aff1-4e0b-b6a6-2708bbf40c35"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_22041471000180",
    "width": 1,
    "id": "3148a575-1fda-4d13-b708-8ddab518f2a9"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_22095351000166",
    "width": 1,
    "id": "ff955628-8127-4cb6-bd94-126d8cf5f08d"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "color": "#9f4800",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_22103852000147",
    "value": 12,
    "width": 1,
    "id": "3079cf3c-bf92-4821-a5f3-8702b1347bec"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_25250406000153",
    "width": 1,
    "id": "6c189aac-063a-429c-bd8c-e7d4b4bf518f"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_26643588000195",
    "width": 1,
    "id": "b2ff26f5-0c81-402b-81ef-0f6fbd1c0dcb"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sócio Ostensivo",
    "title": "Sócio Ostensivo",
    "to": "PJ_28503496000135",
    "width": 1,
    "id": "35a433e3-4ee5-44e4-8ae2-f6fa0fd50c8c"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_31368259000113",
    "width": 1,
    "id": "fc18526e-e03e-4724-9266-79aa912e9ebd"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_31549874000126",
    "width": 1,
    "id": "f6030a27-10d9-4f74-a7ca-737fc3526c47"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_31688915000165",
    "width": 1,
    "id": "888c7262-3abd-4cbb-9a8e-493b12179494"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_37590732000199",
    "width": 1,
    "id": "279bfd77-17f4-40bb-93f5-dbfd7a12c0d2"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_39568322000177",
    "width": 1,
    "id": "d68f7181-36a3-45d6-b987-cc0509ed1e54"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_39808214000124",
    "width": 1,
    "id": "30255165-7a38-4880-945e-3ffb3c381ae4"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_39841452000131",
    "width": 1,
    "id": "601bbd87-0bd6-4219-8e99-2f550a12d2cb"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_39841467000108",
    "width": 1,
    "id": "2429af17-3e20-47b7-bdb0-4ff9a5f988aa"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_39912350000160",
    "width": 1,
    "id": "4c735b0e-cdda-464d-9c97-fef0f823bb43"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_39912386000143",
    "width": 1,
    "id": "6a8960f9-bb6f-4556-8f56-c0f7bb4047ad"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_42422233000122",
    "width": 1,
    "id": "d19dac93-743e-4acd-a6a8-668cf64b7eec"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_43455189000110",
    "width": 1,
    "id": "3e5904f8-9b63-4d29-9176-a916c38d6527"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_43698648000196",
    "width": 1,
    "id": "66ec4891-c09e-4484-9ee5-ab3aa60ee6da"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_44661720000173",
    "width": 1,
    "id": "a620f792-2272-4b20-abd4-6d093f9a8390"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_45036083000107",
    "width": 1,
    "id": "9b139506-319d-426c-a526-6f48a3c2af48"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_46495989000152",
    "width": 1,
    "id": "6fae5270-558e-43a6-867c-976ddeed2126"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_46797505000120",
    "width": 1,
    "id": "a0fb2698-1f3d-498d-b7ba-7df9df4a6155"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_47701262000147",
    "width": 1,
    "id": "e5d743a1-8890-43cb-a340-cd94ff5801fb"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_47783811000170",
    "width": 1,
    "id": "9054a86f-3ff1-4a08-9299-38ae98fc73fc"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_48700605000111",
    "width": 1,
    "id": "4017765c-f409-49e3-83be-63d9516be7a2"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "color": "#f14cc1",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_50870028000158",
    "value": 12,
    "width": 1,
    "id": "61f4e14c-218b-42f2-8999-444c50a022ae"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_53060957000190",
    "width": 1,
    "id": "3529eac8-41ad-4912-b306-f3b752d94803"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_55892124000110",
    "width": 1,
    "id": "da0d2541-8141-4404-b6ff-e02831e0473b"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_56932533000166",
    "width": 1,
    "id": "d4a69f15-dbee-45e7-9122-df2128c8a2b0"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_56943390000198",
    "width": 1,
    "id": "c8680ae7-02e2-4f5d-b209-3c2d8738bdea"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_57931070000180",
    "width": 1,
    "id": "c5725e35-0c91-4e9c-a8f5-9b637e23a50d"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_59088144000194",
    "width": 1,
    "id": "f256eb04-d8cb-4be1-95b2-f728ebaeb553"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_62357503000176",
    "width": 1,
    "id": "43bf9683-2e02-4223-9bb9-207943eff5a7"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_62783861000140",
    "width": 1,
    "id": "6d75bc0f-c607-4a25-841c-0c52e417d851"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "a7168c6e-adc3-46bd-ac61-71cef4dd2bfb"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "",
    "to": "EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP",
    "width": 1,
    "id": "7da7756f-3236-417a-8bd4-fb201411e361"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "",
    "to": "TE_11 26362727",
    "width": 1,
    "id": "ea8ec98a-e217-48a8-9d31-b407f06d3a35"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_02363619000196",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "73f11efc-7c29-41ad-8140-31bded5cd7f2"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PF_***201908**-MOISES DE MORAES",
    "label": "Administrador",
    "title": "Administrador",
    "to": "PJ_02363619000196",
    "width": 1,
    "id": "bfb310e2-1812-4d72-a26c-a99f2b7a3cb9"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_52201596000191",
    "label": "Sócio",
    "title": "Sócio",
    "to": "PJ_02363619000196",
    "width": 1,
    "id": "71fa4be0-940f-4964-b4c2-3c3e7a936519"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_59739356000194",
    "label": "Sócio",
    "title": "Sócio",
    "to": "PJ_02363619000196",
    "width": 1,
    "id": "6feb349d-e87f-4c7d-b179-f91927439b9b"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_14417796000197",
    "label": "",
    "to": "EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP",
    "width": 1,
    "id": "4b6bdada-147a-47af-a3d0-8b85c99cd826"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_14417796000197",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "d4a82f81-e078-4c19-b3dd-602cb8b3cb62"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_14417796000197",
    "label": "",
    "to": "EM_moises.moraes@serget.com.br",
    "width": 1,
    "id": "00270d7d-9057-49f9-a7a2-d4375b9d8a18"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_17071550000102",
    "label": "",
    "to": "EN_ALVES ANDAR SANSAO SANTOS 20 2-SAO PAULO-SP",
    "width": 1,
    "id": "8a84c9a3-78a5-4301-b70f-b7d3469fd2e7"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_17071550000102",
    "label": "",
    "to": "TE_11 55072007",
    "width": 1,
    "id": "d057f027-3aaf-42ee-93b2-8692eb08a6da"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_17990510000156",
    "label": "",
    "to": "TE_11 26362727",
    "width": 1,
    "id": "aaa8eac7-04aa-40d5-ab2f-a893200ca174"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_19388666000197",
    "label": "",
    "to": "EM_financeiro@sinape.com.br",
    "width": 1,
    "id": "0b947218-edda-448d-b653-329527390f36"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_19388666000197",
    "label": "",
    "to": "TE_16 36358856",
    "width": 1,
    "id": "29f7e98e-8168-4e42-96da-2874182b243b"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_19388666000197",
    "label": "",
    "to": "TE_16 36646274",
    "width": 1,
    "id": "9127ca7f-2581-4753-8326-6d06d7a85e2b"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_19887098000179",
    "label": "",
    "to": "TE_11 38316032",
    "width": 1,
    "id": "47676b82-7f31-4736-9ba4-a7113a946323"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_22041471000180",
    "label": "",
    "to": "EN_JULIANO LUCCHI 134-PALHOCA-SC",
    "width": 1,
    "id": "2203e226-05af-4913-9470-48775ba1f955"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_22041471000180",
    "label": "",
    "to": "TE_48 21063000",
    "width": 1,
    "id": "927f7242-2de5-4e79-b344-5ffad1616e18"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_25250406000153",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "1b79db4a-f03a-47ce-9e86-1b3550ab4bd2"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_26643588000195",
    "label": "",
    "to": "EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP",
    "width": 1,
    "id": "fcb2580a-a56e-411a-bc62-3ce46669c4e9"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_26643588000195",
    "label": "",
    "to": "TE_11 35135000",
    "width": 1,
    "id": "3ce8d321-c1bc-4da8-855e-c69d383d8d64"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_28503496000135",
    "label": "",
    "to": "TE_11 38316032",
    "width": 1,
    "id": "e090ece3-9f41-462a-a747-2266158d9e46"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_31688915000165",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "d8c48f40-4738-4600-ba08-67df6da9bc0b"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_31688915000165",
    "label": "",
    "to": "EM_jacqueline.ponontin@serget.com.br",
    "width": 1,
    "id": "2484f7a3-3601-48df-a7f8-4acd479d2413"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_37590732000199",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "9c7287e0-ad12-4fb2-8c0a-075bd02d1b63"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_37590732000199",
    "label": "",
    "to": "TE_11 35135000",
    "width": 1,
    "id": "5ef08109-c170-4dd2-a628-03efb7f763fe"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39568322000177",
    "label": "",
    "to": "EN_JULIANO LUCCHI 134-PALHOCA-SC",
    "width": 1,
    "id": "710ed16e-5e1d-4019-8786-73d158058ef9"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39568322000177",
    "label": "",
    "to": "TE_48 21063000",
    "width": 1,
    "id": "78f71171-c7a5-44e9-9f85-6ecbeefc6998"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39808214000124",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "e9f09144-d1cc-4e85-91e1-a1da3d2e65c9"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39808214000124",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "0cf489c4-a959-453a-a47a-f195e6481da9"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39808214000124",
    "label": "",
    "to": "EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT",
    "width": 1,
    "id": "d2387c1d-38b5-415f-91e1-2888cd649aa6"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39841452000131",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "856136d9-02c3-41a6-8c18-7bbd0a8af953"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39841452000131",
    "label": "",
    "to": "EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT",
    "width": 1,
    "id": "78a3101e-873c-46b6-865a-086234da049c"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39841452000131",
    "label": "",
    "to": "TE_65 36254410",
    "width": 1,
    "id": "3a3db2cf-0af3-4da9-a63b-4912b23e89e9"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39841467000108",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "e7a79711-2d3a-4ec7-b4da-0d88dd36fc4d"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39841467000108",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "8a6fa29c-e5de-4c3c-9969-ef33383fcdd7"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39841467000108",
    "label": "",
    "to": "EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT",
    "width": 1,
    "id": "6d0a5c95-2111-4eee-99b3-d7d5a437969b"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39912350000160",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "fa22fa7c-db51-4b44-be53-2755fbbe5169"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39912350000160",
    "label": "",
    "to": "EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT",
    "width": 1,
    "id": "fbff30b6-f581-4130-9902-f6506c93ea06"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39912350000160",
    "label": "",
    "to": "TE_65 41415031",
    "width": 1,
    "id": "51f05e43-6ade-49ce-a89e-abe12a9bd63d"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39912386000143",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "02bfebff-96eb-43d6-ad6f-54e84610fd60"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39912386000143",
    "label": "",
    "to": "EN_AO LOTE QUADRA RUA SALA SMC U 21 7 13 2 7-CUIABA-MT",
    "width": 1,
    "id": "c2ff8d66-395a-4d8c-8e10-606c9ad29f4e"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_39912386000143",
    "label": "",
    "to": "TE_65 41415031",
    "width": 1,
    "id": "96054549-d104-406f-9327-a6d031b5ca3b"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_42422233000122",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "ab5a94c7-facb-42fb-b14e-c69d3a44ac8f"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_42422233000122",
    "label": "",
    "to": "EM_comercial@serget.com",
    "width": 1,
    "id": "e261c6ab-df44-42fa-ab18-61ff70f176fc"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_43455189000110",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "9c9ca59a-289b-499e-a395-b8fdaf3968f7"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_43455189000110",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "1ee6dcc8-6711-47ce-8158-d755c9dfcec1"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_44661720000173",
    "label": "",
    "to": "EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP",
    "width": 1,
    "id": "668ab564-bd25-476a-879b-f6788021aa6d"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_44661720000173",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "4d6dd0e4-af56-4953-906a-5c6e9d701106"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_44661720000173",
    "label": "",
    "to": "EM_jacqueline.ponontin@serget.com.br",
    "width": 1,
    "id": "4e677daf-6d89-43bd-9ca5-36a049f6d3df"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_45036083000107",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "6d67cebc-2633-4aee-85e0-fa52530a66e9"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_45036083000107",
    "label": "",
    "to": "TE_65 36254410",
    "width": 1,
    "id": "716046a2-2a8c-4240-91f8-13c4a77f94e6"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_45036083000107",
    "label": "",
    "to": "EN_AO CTS LOTE QUADRA RUA SALA U 21 7 13 2 7-CUIABA-MT",
    "width": 1,
    "id": "a306fc20-e815-4aff-a23d-d667908726ba"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_46495989000152",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "0a1c0e72-764c-48bf-bd73-fef61716a961"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_46495989000152",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "effffad6-aa57-4d27-a0ca-66804b05576f"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_46495989000152",
    "label": "",
    "to": "EN_AO CTS LOTE QUADRA RUA SALA U 21 7 13 2 7-CUIABA-MT",
    "width": 1,
    "id": "a204f102-fb3c-4318-a16d-35be845b4619"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_46797505000120",
    "label": "",
    "to": "EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP",
    "width": 1,
    "id": "45a08790-21e5-4334-85a9-2d077a53a383"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_46797505000120",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "2f6556f1-6619-4958-90f1-a045c0745061"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_46797505000120",
    "label": "",
    "to": "EM_comercial@serget.com",
    "width": 1,
    "id": "7f5be396-0b48-4618-b6e1-5dbf68019dcb"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_47701262000147",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "420bd72c-2b6f-49b2-8602-87f5156cd2cf"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_47701262000147",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "357703e0-b1e1-487f-817f-b0f374fb3f03"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_47783811000170",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "40ef3773-64ef-4d84-af36-c448509c2487"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_47783811000170",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "42e1988a-02ab-4077-a5f0-6dba32252f72"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_48700605000111",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "45b81028-0e94-4e84-a7b0-a11de1546147"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_48700605000111",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "31ab82bd-d261-4898-91c0-92d6d78804ef"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_50870028000158",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "01960b2f-2792-452e-a940-4b04b1881f6c"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_53060957000190",
    "label": "",
    "to": "TE_11 38316032",
    "width": 1,
    "id": "30369e01-193e-4cb4-9533-57cdf950312c"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_53060957000190",
    "label": "",
    "to": "EM_fiscal@tecnologiagto.com.br",
    "width": 1,
    "id": "716f5934-7e4a-4c1b-b261-8472dd3664ed"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_55892124000110",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "ea1ef66d-5187-44c6-a4af-94d815880126"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_55892124000110",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "f01d5011-b5c6-46c9-9a70-d302d51438df"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_55892124000110",
    "label": "",
    "to": "EN_ALCANTARA ANTONIO MACHADO 331-PIRACICABA-SP",
    "width": 1,
    "id": "1d20a611-6d22-49ea-9b7e-46fadd7283df"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_56932533000166",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "8c612a7a-18f5-4556-8999-31f920375844"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_56932533000166",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "9b7ddd91-da45-42a7-a7ee-caf13eb676dd"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_56932533000166",
    "label": "",
    "to": "EN_ALCANTARA ANTONIO MACHADO 331-PIRACICABA-SP",
    "width": 1,
    "id": "a59db833-00a5-4cb2-b4a9-37607584bbbb"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_56943390000198",
    "label": "",
    "to": "EM_comercial@serget.com.br",
    "width": 1,
    "id": "d5d2c632-2839-4848-af70-c39b83deb580"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_56943390000198",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "9adcec8c-941e-4fc5-ae20-273bf9dcc578"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_59088144000194",
    "label": "",
    "to": "TE_11 38316032",
    "width": 1,
    "id": "ac7af985-4dce-44cf-8d42-036d5b61d67c"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_59088144000194",
    "label": "",
    "to": "EM_fiscal@tecnologiagto.com.br",
    "width": 1,
    "id": "5ff589db-35cd-4802-aae8-978bd8544716"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_62783861000140",
    "label": "",
    "to": "EN_DOM FELIPE LUIS ORLEANS 426-SAO PAULO-SP",
    "width": 1,
    "id": "44645a88-f51e-47ca-8daf-16ed9a7980ef"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_62783861000140",
    "label": "",
    "to": "TE_11 33892727",
    "width": 1,
    "id": "d44ac4dd-3844-4193-9673-84fb1f45f16b"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_62783861000140",
    "label": "",
    "to": "EM_moises.moraes@serget.com.br",
    "width": 1,
    "id": "1fadda73-180a-467d-bb26-5d1319dc0f80"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "color": "#1ac938",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_19388662000109",
    "value": 12,
    "width": 1,
    "id": "ead67425-af7f-4fc0-8424-35f4ab69990c"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "color": "#8b2be2",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_19388666000197",
    "value": 12,
    "width": 1,
    "id": "c488bfb0-617d-46bc-bc81-2b9c16026ee0"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "color": "#9f4800",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_22103852000147",
    "value": 12,
    "width": 1,
    "id": "4112ffee-aa70-4cd4-b0bb-f6f4184b9a93"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "color": "#f14cc1",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_50870028000158",
    "value": 12,
    "width": 1,
    "id": "a4d11b03-e691-41a9-806a-d185e85c0873"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "",
    "to": "EM_financeiro@sinape.com.br",
    "width": 1,
    "id": "5e1efaac-3df0-4dbc-a534-7b206ccedaf2"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "",
    "to": "TE_16 36358856",
    "width": 1,
    "id": "c22ebfef-37c4-42f9-833e-fb18152ad44a"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "",
    "to": "TE_16 36646274",
    "width": 1,
    "id": "a3f0d9e2-8223-40e4-a087-e8a517263f55"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_11414504000174",
    "width": 1,
    "id": "b5a96438-dece-47fe-9b2b-83f9875889ff"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_12217379000175",
    "width": 1,
    "id": "f4fce0ca-83ab-477f-8020-e0df75bb4ba3"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_12632230000152",
    "width": 1,
    "id": "b815e45a-aa95-430f-b929-146da178e603"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_14133732000164",
    "width": 1,
    "id": "1a09c6a0-f661-46a4-95e0-9ffd6182c0df"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_18336225000189",
    "width": 1,
    "id": "65d7ae93-fb84-4a8c-81fa-dadb93a7d590"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_18580626000180",
    "width": 1,
    "id": "03fc14b3-818c-4624-89a5-a1bf7c6fbfab"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_27870980000130",
    "width": 1,
    "id": "bbdd19c4-564d-4f25-b3c1-de2c07722a5a"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sócio",
    "title": "Sócio",
    "to": "PJ_28029634000196",
    "width": 1,
    "id": "6e0d1395-57cd-473d-9b9e-c5e953c486a6"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_30371534000195",
    "width": 1,
    "id": "f895ac18-10dd-4b38-8153-f7e4a092049c"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sócio",
    "title": "Sócio",
    "to": "PJ_33045382000129",
    "width": 1,
    "id": "6f073be0-b5b0-4287-81b1-b58f5b2ef48e"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_43721157000119",
    "width": 1,
    "id": "c6b83d17-0bac-493f-b6f8-adddd1165a44"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_44762529000118",
    "width": 1,
    "id": "b2b24311-9007-447d-98a3-e7ca1ba6b6dc"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_47732562000193",
    "width": 1,
    "id": "fed802c6-edaf-4ab0-aa45-a2245cb60107"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "Sociedade Consorciada",
    "title": "Sociedade Consorciada",
    "to": "PJ_63929274000180",
    "width": 1,
    "id": "66d1d8d0-bc66-4fc2-98ba-de1e8a240ad3"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_34023887000155",
    "label": "",
    "to": "EN_DOMINGOS ZARA 80-BRODOWSKI-SP",
    "width": 1,
    "id": "f8ad06b9-34f9-43b3-8c89-b75b6c475324"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_11414504000174",
    "label": "",
    "to": "EM_rmbh@terra.com.br",
    "width": 1,
    "id": "4edb0a72-88ce-44d6-a39c-0ee750a510cd"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_11414504000174",
    "label": "",
    "to": "TE_31 32221545",
    "width": 1,
    "id": "38cdf069-68fa-4c5b-ac99-77c80753a869"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_11414504000174",
    "label": "",
    "to": "TE_31 32711471",
    "width": 1,
    "id": "a81c4d3c-f5cf-4f9f-b6c2-39b10ea897f2"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_12632230000152",
    "label": "",
    "to": "EN_ALVES ANDAR SANSAO SANTOS 20 2-SAO PAULO-SP",
    "width": 1,
    "id": "eeb06fd4-2ab6-4830-b139-74626ec8d8f4"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_12632230000152",
    "label": "",
    "to": "TE_11 55072007",
    "width": 1,
    "id": "6475e058-314e-4652-8db9-f68815a82373"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_18336225000189",
    "label": "",
    "to": "EM_rmbh@terra.com.br",
    "width": 1,
    "id": "23098b74-3012-4880-92fc-e502f49e76c6"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_18336225000189",
    "label": "",
    "to": "TE_31 32221545",
    "width": 1,
    "id": "ab475eed-4039-4fcc-b7d7-e95331b9b675"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_18336225000189",
    "label": "",
    "to": "TE_31 32711471",
    "width": 1,
    "id": "13808931-9fec-4083-becf-d990e8d2ea75"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_27870980000130",
    "label": "",
    "to": "EM_cerutti.contabil@terra.com.br",
    "width": 1,
    "id": "f2022113-9e22-4d79-8a0d-53a6a58b1e57"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_27870980000130",
    "label": "",
    "to": "TE_27 33191399",
    "width": 1,
    "id": "e1ff9262-fd15-4fb9-bf80-ca500eda8b73"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_28029634000196",
    "label": "",
    "to": "TE_16 36646274",
    "width": 1,
    "id": "18d601ee-c43c-485a-be22-94ab236ac66b"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_30371534000195",
    "label": "",
    "to": "EM_cerutti.contabil@terra.com.br",
    "width": 1,
    "id": "338b8145-b6a6-4435-b7c2-c030725eb08d"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_30371534000195",
    "label": "",
    "to": "TE_27 33191399",
    "width": 1,
    "id": "67a60cbe-debc-456c-b1d0-788372a09cc5"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_33045382000129",
    "label": "",
    "to": "TE_16 36646274",
    "width": 1,
    "id": "de7d694c-6736-48d9-916b-f64577e21cb8"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_43721157000119",
    "label": "",
    "to": "EM_financeiro@sinape.com.br",
    "width": 1,
    "id": "f931ec2a-b88e-4270-a8fa-446858162e75"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_43721157000119",
    "label": "",
    "to": "TE_16 36646274",
    "width": 1,
    "id": "d453121e-6a76-4f37-94d8-e5eb547a9c09"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_44762529000118",
    "label": "",
    "to": "EM_financeiro@sinape.com.br",
    "width": 1,
    "id": "8c0366cb-6785-4d91-8f48-0e444cf6eb4d"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_44762529000118",
    "label": "",
    "to": "TE_16 36646274",
    "width": 1,
    "id": "1793f706-8076-48af-98f7-5251615a1b86"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_44762529000118",
    "label": "",
    "to": "EN_DOMINGOS ZARA 80-BRODOWSKI-SP",
    "width": 1,
    "id": "eda044a4-1006-4022-80bb-3122dcea5390"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_28659956000119",
    "label": "",
    "to": "EM_financeiro@sinape.com.br",
    "width": 1,
    "id": "c5467b33-bb5e-4c79-927a-789395faaa7a"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_28659956000119",
    "label": "",
    "to": "TE_16 36646274",
    "width": 1,
    "id": "ddc5f12a-882d-466e-9f22-bc13dbf43c83"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PJ_28659956000119",
    "label": "Sócio",
    "title": "Sócio",
    "to": "PJ_34023887000155",
    "width": 1,
    "id": "92a1f93d-fa5e-4608-9546-c2e435c1a1fa"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PF_***127448**-ROBERTO MASSAYUKI NISHIMURA",
    "label": "rep-sócio-Procurador",
    "title": "rep-sócio-Procurador",
    "to": "PJ_34023887000155",
    "width": 1,
    "id": "a8bd7086-eb8a-4d71-9eb2-68d936b79b6f"
  },
  {
    "arrowStrikethrough": false,
    "arrows": "to",
    "from": "PF_***541197**-THIAGO NISHIMURA",
    "label": "Administrador",
    "title": "Administrador",
    "to": "PJ_34023887000155",
    "width": 1,
    "id": "b3a60297-9b1d-4936-b035-f38f05c8dfd1"
  }
]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"autoResize": true, "height": "100%", "width": "100%", "configure": {"enabled": false, "showButton": true, "filter": true}, "nodes": {"color": {"border": "transparent", "background": "transparent", "highlight": {"border": "transparent", "background": "rgba(0,255,0,0.3)"}, "hover": {"border": "transparent", "background": "transparent"}}, "shapeProperties": {"useBorderWithImage": true, "interpolation": true}, "scaling": {"min": 20, "max": 100, "label": {"enabled": true, "min": 15, "max": 40, "maxVisible": 30, "drawThreshold": 8}}, "font": {"color": "#777777", "strokeWidth": 4, "strokeColor": "#ffffff", "bold": {"color": "#ff0000"}}}, "edges": {"hoverWidth": 4, "smooth": {"enabled": false}, "scaling": {"label": {"enabled": true, "min": 30, "max": 40, "maxVisible": 30, "drawThreshold": 8}}, "font": {"align": "top", "color": "#777777", "size": 15}, "selectionWidth": 4, "color": {"color": "#2B7CE9", "highlight": "#FF0000", "inherit": false, "hover": "#FF0000"}, "arrowStrikethrough": false}, "interaction": {"hover": true, "multiselect": true, "navigationButtons": false, "hideEdgesOnDrag": true, "hideEdgesOnZoom": true, "tooltipDelay": 1500}, "physics": {"enabled": true, "barnesHut": {"gravitationalConstant": -10000, "springLength": 200, "avoidOverlap": 0}}, "layout": {"improvedLayout": false}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  
                      network.on("stabilizationProgress", function(params) {
                          document.getElementById('loadingBar').removeAttribute("style");
                          var maxWidth = 496;
                          var minWidth = 20;
                          var widthFactor = params.iterations/params.total;
                          var width = Math.max(minWidth,maxWidth * widthFactor);
                          document.getElementById('bar').style.width = width + 'px';
                          document.getElementById('text').innerHTML = Math.round(widthFactor*100) + '%';
                      });
                      network.once("stabilizationIterationsDone", function() {
                          document.getElementById('text').innerHTML = '100%';
                          document.getElementById('bar').style.width = '496px';
                          document.getElementById('loadingBar').style.opacity = 0;
                          // really clean the dom element
                          setTimeout(function () {document.getElementById('loadingBar').style.display = 'none';}, 500);
                      });
                  

                  return network;

              }
              drawGraph();
        

        // ####################################
        // CRIA FUNÇÃO DE MENSAGENS TEMPORÁRIAS
        // ####################################

        // As mensagens são exibidas na tela pelo tempo definido no parâmetro da função
        // 178, 255, 178, 1

        var timerId;
        function tempAlert(msg, duration) {

            let divRemover = document.getElementById("el-id");

            // verifica se a div existe
            if (divRemover) {

                // Cancela o temporizador anterior
                clearTimeout(timerId);
                
                // Remova a div usando o método remove()
                divRemover.remove();
            }


            var el = document.createElement("div");
            el.id = "el-id";
            el.setAttribute("style","position:absolute;top:30px;right:21px;border:5px solid rgba(245, 245, 245, 1);border-radius: 5px;background-color:rgba(245, 245, 245, 1);height: auto;");
            el.innerHTML = msg;
            timerId = setTimeout(function(){
                el.parentNode.removeChild(el);
            }, duration);
            document.body.appendChild(el);
        }



        // #################################################
        // CRIA FUNÇÃO QUE AVISA QUANDO CAPSLOCK FOI ATIVADA
        // #################################################

        // EXIBE AVISO DE CAPSLOCK ATIVADA
        function capsLockAtivada(msg, duration) {
            var el = document.createElement("div");
            el.setAttribute("style","position:absolute;top:30px;left:61px;border:5px solid rgba(255, 255, 123, 1);border-radius: 5px;background-color:rgba(255, 255, 123, 1);");
            el.innerHTML = msg;
            setTimeout(function(){
            el.parentNode.removeChild(el);
            },duration);
            document.body.appendChild(el);
        }

        // EXIBE AVISO DE CAPSLOCK DESATIVADA
        function capsLockDesativada(msg, duration) {
            var el = document.createElement("div");
            el.setAttribute("style","position:absolute;top:30px;left:61px;border:5px solid rgba(178, 255, 178, 1);border-radius: 5px;background-color:rgba(178, 255, 178, 1);");
            el.innerHTML = msg;
            setTimeout(function(){
            el.parentNode.removeChild(el);
            },duration);
            document.body.appendChild(el);
        }



        var el_2 = ''
        var toggle_caps = 0;
        document.addEventListener('keydown', (event) => {

            if(event.code === "CapsLock"){

                let isCapsLockOn = event.getModifierState("CapsLock");

                if(isCapsLockOn) {

                    el_2 = document.createElement("div");
                    el_2.setAttribute("style","position:absolute;top:30px;left:61px;border:5px solid rgba(255, 255, 123, 1);border-radius: 5px;background-color:rgba(255, 255, 123, 1);");
                    el_2.innerHTML = "Tecla CapsLock Ativada";
                    document.body.appendChild(el_2);
                    //console.log("Caps Lock turned on");

                    toggle_caps = 1;

                } else if (!isCapsLockOn && toggle_caps == 1) {

                    el_2.style.display = "none";
                    capsLockDesativada("Tecla CapsLock Desativada", 3000);
                    //console.log("Caps Lock turned off");

                }
            }
        });


        // EXIBE AVISO NO CARREGAMENTO DA PÁGINA DE QUE A TECLA CAPSLOCK ESTÁ ATIVADA
        //document.addEventListener("DOMContentLoaded", function(event) {
        //    if (event.getModifierState("CapsLock")) {
        //        //el_2 = document.createElement("div");
        //        //el_2.setAttribute("style","position:absolute;top:30px;left:61px;border:5px solid rgba(255, 255, 123, 1);border-radius: 5px;background-color:rgba(255, 255, 123, 1);");
        //        //el_2.innerHTML = "Tecla CapsLock Ativada";
        //        //document.body.appendChild(el_2);
        //    }
        //});



        //setInterval(function() {
        //    var capsLockOn = navigator.getKeyboardState ? navigator.getKeyboardState()[0].shiftKey : false; // verifica se Caps Lock está ativado
            
        //    if (capsLockOn) {
        //        var div = document.createElement('div'); // cria um novo elemento de div
        //        div.textContent = 'A tecla Caps Lock está ativada!'; // define o conteúdo da div
        //        div.style.color = 'red'; // define a cor da fonte da div
        //        div.style.fontSize = '20px'; // define o tamanho da fonte da div
        //        div.style.fontWeight = 'bold'; // define o peso da fonte da div
        //        div.style.marginTop = '10px'; // define a margem superior da div
                
        //        var container = document.getElementById('visualization'); // obtém o elemento do contêiner da biblioteca vis.js
        //        container.appendChild(div); // adiciona a div ao contêiner
        //        console.log('oi')
        //    }
        //}, 2000); // verifica o estado da tecla Caps Lock a cada segundo




        // ##########################
        // ACUMULA NÓS - TECLAS + E -
        // ##########################

        // OS ITENS DO ARRAY SALVO NO 'localStorage' SÃO ABERTOS PELA TECLA 'y'

        // localStorage: https://codetheweb.blog/javascript-localstorage/
        
        // CRIA ARRAY VAZIO SE ELE AINDA NÃO EXISTIR E SALVA EM 'localStorage'
        if (localStorage.getItem("nos_acum") == null) {
            var empty_array = new Array();
            localStorage.setItem('nos_acum', JSON.stringify(empty_array));
        }
        
        document.addEventListener('keydown', (event) => {

                // INCLUI NÓS SELECIONADOS NO ARRAY 'nos_acum' E SALVA EESSE ARRAY NO 'localStorage'
                if (event.key == '+') {
                    
                    let s = network.getSelectedNodes();

                    let nos_acum = []

                    if (s.length > 0) {
                    
                        for (let i=0; i<s.length; i++) {
                            nos_acum.push(s[i]);
                        }

                        // RESTAURA O ARRAY
                        let temp = JSON.parse(localStorage.getItem("nos_acum"));

                        // ADICIONA ITENS AO ARRAY
                        temp = temp.concat(nos_acum)

                        // ELIMINA DUPLICIDADES DO ARRAY
                        temp = [...new Set(temp)];

                        // GRAVA NOVO ARRAY NO 'localStorage' (SUBSTITUI O ANTERIOR)
                        localStorage.setItem('nos_acum', JSON.stringify(temp));

                        // EXIBE NOVO ARRAY
                        tempAlert(`Tecla (${event.key}) - Adiciona item à lista de nós-alvos (${temp.length}): ${temp.join(' ||| ')}`, 3000);
                    
                    
                    // EXIBE ARRAY SE NENHUM NÓ ESTIVER SELECIONADO
                    } else {

                        // RESTAURA O ARRAY
                        let temp = JSON.parse(localStorage.getItem("nos_acum"));

                        tempAlert(`Tecla (${event.key}) - Lista de nós-alvos (${temp.length}): ${temp.join(' ||| ')}`, 3000);
                    }
                    
                // EXCLUI ÚLTIMO ITEM DO ARRAY 'nos_acum' SALVO NO 'localStorage'
                } else if (event.key == '-') {

                    // RESTAURA O ARRAY
                    let temp = JSON.parse(localStorage.getItem("nos_acum"));

                    // EXCLUI ÚLTIMO ITEM DO ARRAY
                    temp.pop();

                    // GRAVA NOVO ARRAY NO 'localStorage' (SUBSTITUI O ANTERIOR)
                    localStorage.setItem('nos_acum', JSON.stringify(temp));

                    tempAlert(`Tecla (${event.key}) - Remove último item da lista de nós-alvos (${temp.length}): ${temp.join(' ||| ')}`, 3000);
                }            
        });



        // ###########################################
        // ATIVA E DESATIVA O MODO DE CAPTURA - TECLA |
        // ###########################################

        var toggle_ponto_e_virgula = true

        document.addEventListener('keydown', (event) => {

            if (event.key == '|' && toggle_ponto_e_virgula == true) {

                async function capturaDesativa(param) {
                    await navigator.clipboard.writeText(param)
                }

                let no_unico = network.getSelectedNodes();
                let idno = ''
                if (no_unico.length == 1) {
                    idno = no_unico[0]
                }

                let temp = "AAAdesativaAAA" + idno;
                
                setTimeout(() => {capturaDesativa(temp)}, 0)

                toggle_ponto_e_virgula = false

                el_1 = document.createElement("div");
                el_1.setAttribute("style","position:absolute;top:30px;left:61px;border:5px solid rgba(255, 255, 123, 1);border-radius: 5px;background-color:rgba(255, 255, 123, 1);");
                el_1.innerHTML = `Tecla ${event.key} - Modo de captura desativado`;
                document.body.appendChild(el_1);
            
            } else if (event.key == '|' && toggle_ponto_e_virgula == false) {

                async function capturaAtiva(param) {
                    await navigator.clipboard.writeText(param)
                }

                let temp = "AAAativaAAA";
                
                setTimeout(() => {capturaAtiva(temp)}, 0)

                el = document.createElement("div");
                el.setAttribute("style","position:absolute;top:30px;left:61px;border:5px solid rgba(255, 255, 123, 1);border-radius: 5px;background-color:rgba(255, 255, 123, 1);");
                el.innerHTML = `Tecla ${event.key} - Modo de captura ativado`;

                toggle_ponto_e_virgula = true

                el_1.style.display = "none";

                // Exibe informações na tela
                capsLockDesativada(`Tecla ${event.key} - Modo de captura ativado`, 3000);
            }
        });



        // ########################################################
        // ABRE PÁGINA COM PESQUISA AVANÇADA - TECLA 1 A 9
        // ########################################################

        document.addEventListener('keydown', (event) => {

            // TECLA 1 - VALIDAR DADOS DO CNPJ NO SITE DA RECEITA FEDERAL
            if (event.key == '1') {
                let sel = network.getSelectedNodes();
                if (sel.length == 1 && sel[0].slice(0, 3) == 'PJ_') {
                    let cnpj = sel[0].slice(3);
                    let link_consulta_cnpj = "https://solucoes.receita.fazenda.gov.br/servicos/cnpjreva/Cnpjreva_Solicitacao.asp?cnpj=" + cnpj;
                    window.open(link_consulta_cnpj, target="_blank", windowFeature='left=50,top=100,width=800,height=600');
                    
                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Validar CNPJ no site da Receita Federal`, 3000);
                }
            }



            // TECLA 2 - VALIDAR CEIS, CEPIM, CNEP e Acordo de Leniência
            if (event.key == '2') {

                let sel = network.getSelectedNodes();
                if (sel.length == 1 && sel[0].slice(0, 3) == 'PJ_') {
                    let cnpj = sel[0].slice(3);
                    let link_consulta_cnpj = `https://portaldatransparencia.gov.br/sancoes/consulta?paginacaoSimples=true&tamanhoPagina=&offset=&direcaoOrdenacao=asc&cpfCnpj=${cnpj}&colunasSelecionadas=linkDetalhamento%2Ccadastro%2CcpfCnpj%2CnomeSancionado%2CufSancionado%2Corgao%2CcategoriaSancao%2CdataPublicacao%2CvalorMulta%2Cquantidade`;
                    window.open(link_consulta_cnpj, target="_blank", windowFeature='left=50,top=100,width=800,height=600');
                    
                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Validar CNPJ no site da Receita Federal`, 3000);
                }
            }



            // TECLA 3 - VALIDAR DÍVIDAS COM A UNIÃO
            // Ainda não implementado



            // TECLA 4 - ABRE ARQUIVOS EXCEL COM NÓS E ARESTAS
            if (event.key == '4') {
                
                async function copyOperation(param) {
                    await navigator.clipboard.writeText(param)
                };

                setTimeout(() => {copyOperation('***ABRE-EXCEL***')}, 0)

                tempAlert(`Tecla ${event.key} - Abre arquivos Excel de nós e de arestas`, 3000);
            }



            // TECLA 5 - ABRE SITE REDE CNPJ
            if (event.key == "5") {

                window.open("https://www.redecnpj.com.br/rede/", "_blank", "left=50,top=100,width=600,height=600");

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Abre site Rede CNPJ`, 3000);

            }
            


            // TECLA 6 - EXIBE PÁGINA DA RECEITA FEDERAL E DA PGFN CONTENDO BASES DE DADOS
            if (event.key == '6') {

                let link_pep = "https://portaldatransparencia.gov.br/download-de-dados/pep";
                window.open(url=link_pep, target="_blank", windowFeature='left=200,top=140,width=600,height=500');
                
                let link_cnpj = "https://dados.gov.br/dados/conjuntos-dados/cadastro-nacional-da-pessoa-juridica---cnpj";
                window.open(url=link_cnpj, target="_blank", windowFeature='left=150,top=110,width=600,height=500');

                let link_cgu = "https://portaldatransparencia.gov.br/sancoes";
                window.open(url=link_cgu, target="_blank", windowFeature='left=100,top=80,width=600,height=500');

                let link_pgfn = "https://www.gov.br/pgfn/pt-br/assuntos/divida-ativa-da-uniao/transparencia-fiscal-1/copy_of_dados-abertos"
                window.open(url=link_pgfn, target="_blank", windowFeature='left=50,top=50,width=600,height=500');

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Bases de dados da Receita Federal e da PGFN`, 3000);
            }



            // TECLA 7 - EXIBE ARQUIVO JSON DA EMPRESA
            if (event.key == '7') {
                let sel = network.getSelectedNodes();
                if (sel.length == 1) {
                    if (sel[0].slice(0, 3) == 'PJ_') {
                        let parametro = sel[0].slice(3);
                        let link = "http://jsonviewer.stack.hu/#http://publica.cnpj.ws/cnpj/" + parametro;
                        window.open(link, target="_blank", windowFeature='left=50,top=100,width=600,height=600');
                    }

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Dados da empresa no formato JSON`, 3000);

                }
            }



            // TECLA 8 - PESQUISA POR FORNECEDORES PJ - UNIÃO
            if (event.key == '8') {

                let sel = network.getSelectedNodes();

                if (sel.length == 1) {

                    // PESSOA JURÍDICA
                    if (sel[0].slice(0, 3) == 'PJ_') {
                        let parametro = nodes.get(sel[0]);
                        parametro = parametro.id.slice(3)

                        let link_fornecedores_uniao = "https://compras.dados.gov.br/fornecedores/doc/fornecedor_pj/" + parametro;
                        window.open(url=link_fornecedores_uniao, target="_blank", windowFeature='left=50,top=50,width=600,height=500');
                    }

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Pesquisa nó selecionado entre fornecedores da União`, 3000);
                }
            }



            // TECLA 9 - BAIXA ARQUIVOS JSON DO VIS.JS (nodes.json e edges.json)
            if (event.key == '9') {

                function salvarGrafoJSON() {
                    // Captura os dados atuais
                    const nodesAtuais = network.body.data.nodes.get({returnType: "Object"});
                    const edgesAtuais = network.body.data.edges.get({returnType: "Object"});
                    
                    // Converte para arrays
                    const nodesArray = Object.values(nodesAtuais);
                    const edgesArray = Object.values(edgesAtuais);
                    
                    // Função auxiliar para fazer download
                    function downloadJSON(data, filename) {
                        const json = JSON.stringify(data, null, 2);
                        const blob = new Blob([json], {type: 'application/json;charset=utf-8'});
                        const url = URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.href = url;
                        link.download = filename;
                        link.click();
                        URL.revokeObjectURL(url);
                    }
                    
                    // Salva os dois arquivos
                    downloadJSON(nodesArray, `nodes.json`);
                    setTimeout(() => {
                        downloadJSON(edgesArray, `edges.json`);
                    }, 200);
                }
                
                // Chama a função (FORA da definição)
                salvarGrafoJSON();
                
                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Baixa arquivos JSON com nós e arestas`, 3000);
            }



            //  TECLA 0 - NÃO ATRIBUIR ATALHO PARA A TECLA 0, POIS IMPEDE AJUSTAR O ZOOM DO NAVEGADOR AO VALOR PADRÃO (100%) POR MEIO DE CTRL + 0

        });



        // ################################
        // SELECIONA TODOS OS NÓS - TECLA A
        // ################################

        document.addEventListener('keydown', (event) => {
            if (event.key == "A") {
                network.selectNodes(nodes.getIds());
                
                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Seleciona todos os nós (${network.getSelectedNodes().length})`, 3000);
            }

        })



        // ###############################################################################################
        // SELECIONA NÓS ADJACENTES AOS NÓS SELECIONADOS DE FORMA ACUMULATIVA, CAMADA POR CAMADA - TECLA a
        // ###############################################################################################

        var sel_anterior = [];
        document.addEventListener('keydown', (event) => {

            if (event.key == "a" && network.getSelectedNodes().length > 0) {

                // Desseleciona todos os nós quando a seleção alcança todos os nós
                if (network.getSelectedNodes().length > 0 && network.getSelectedNodes().length == nodes.getIds().length) {
                    tempAlert(`Tecla ${event.key} - Desseleciona todos os nós (${nodes.getIds().length})`, 3000);
                }

                // Exibe mensagem informativa
                //if (network.getSelectedNodes().length > 0 && network.getSelectedNodes().length == nodes.getIds().length) {
                //    tempAlert(`Tecla ${event.key} - Desseleciona todos os nós (${nodes.getIds().length})`, 3000);
                //}


                // DESATIVA A FÍSICA NO INÍCIO DA SELEÇÃO
                //network.physics.physicsEnabled = false;
                //network.physics.stopSimulation();

                // VERIFICA SE TODOS OS NÓS FORAM SELECIONADOS
                if ([...new Set(sel_anterior)].length == nodes.getIds().length) {
                    network.unselectAll();
                    sel_anterior = [];
                }

                let sel = network.getSelectedNodes();

                // IMPEDE QUE DOIS OU MAIS NÓS SEJAM SELECIONADOS NO INÍCIO DO SCRIPT
                if (sel.length > 1 && sel_anterior.length == 0) {
                    for (let i=0; i<sel.length; i++) {
                        nodes.update({id: sel[i], font: {color: '#777777'}})
                    }
                    network.unselectAll();
                    network.physics.physicsEnabled = true;
                    network.physics.startSimulation();
                    return;
                }

                for (let i=0; i<sel.length; i++) {
                    if (!(sel[i] in sel_anterior)) {
                        let temp_a = network.getConnectedNodes(sel[i]);
                        sel_anterior = sel_anterior.concat(temp_a);
                    }
                }
                
                if (sel.length == 1) {
                    sel_anterior = sel_anterior.concat(sel);
                    network.selectNodes(sel_anterior);
                    nodes.update({id: sel[0], font: {color: '#777777'}});
                } else {
                    network.selectNodes(sel_anterior);
                }

                // REATIVA A FÍSICA APÓS A ÚLTIMA CAMADA SER SELECIONADA E TODA A REDEE SER DESSELECIONADA
                //if (network.getSelectedNodes().length == 0) {
                //    network.physics.physicsEnabled = true;
                //    network.physics.startSimulation();
                //}


                if (network.getSelectedNodes().length > 0) {
                    tempAlert(`Tecla ${event.key} - Seleciona nós adjacentes (${network.getSelectedNodes().length}/${nodes.getIds().length})`, 3000);
                }
            
            } else if (event.key == "a" && network.getSelectedNodes().length == 0) {
                tempAlert(`Tecla ${event.key} - Selecione um nó para selecionar seus nós adjacentes`, 3000);
            }
        });
        


        // ######################################################
        // AJUSTE AUTOMÁTICO DA ALTURA DA ÁREA DO GRAFO - TECLA b
        // ######################################################
        
        document.addEventListener('keydown', (event) => {
            if (event.key == 'b') {
                    // EXTRAI DIMENSÕES DA ÁREA DO GRAFO
                    //let box = document.querySelector('#mynetwork');
                    //let width = box.offsetWidth;
                    //let height = box.offsetHeight;
                    
                    // EXTRAI DIMENSÕES DA JANELA DO NAVEGADOR
                    //var w = window.innerWidth;
                    var h = window.innerHeight;
                    
                    // AJUSTA ALTURA DA ÁREA DO GRAFO À ALTURA DA JANELA
                    document.querySelector('#mynetwork').style.height = h - 20;

                    // ENQUADRA GRAFO. FUNCIONA APENAS APÓS A ALTURA TER SIDO AJUSTADA ()
                    //network.fit();

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Ajusta altura da janela de visualização`, 3000);

            }
        });


        // ##############################################
        // CENTRALIZA NÓS SELECIONADOS - TECLA c (CENTER)
        // ##############################################

        /* var toggle_c = true;

        document.addEventListener('keydown', (event) => {
            
            // SÓ FUNCIONA NO LAYOUT BARNES-HUT E COM APENAS UM NÓ SELECIONADO
            if (event.key == 'c' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length == 1 && toggle_c == true) {

                // DESABILITA ELEMENTOS PARA EVITAR TRAVAMENTO DA IMAGEM (MELHORA DESEMPENHO)
                network.physics.physicsEnabled = false;
                network.physics.stopSimulation();

                // PARTE PRINCIPAL
                //network.fit({nodes: con_nodes, maxZoomLevel: 1, animation: false});

                let ss = network.getSelectedNodes();

                // PARTE PRINCIPAL
                for (let i=0; i<ss.length; i++) {
                    p = network.getPosition(ss[i]);
                    network.moveTo({
                        position: {x: p['x'], y: p['y']},
                        scale: 1,
                        offset: {x:0, y:0}
                    });
                }
            
                toggle_c = false;

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Centraliza nó selecionado`, 3000);

                

            // EXIBE NÓS CONECTADOS AOS NÓS SELECIONADOS
            } else if (event.key == 'c' && network.physics.options.solver == 'barnesHut') {

                // DESABILITA ELEMENTOS PARA EVITAR TRAVAMENTO DA IMAGEM (MELHORA DESEMPENHO)
                network.physics.physicsEnabled = false;
                network.physics.stopSimulation();

                let sel_nodes = network.getSelectedNodes();

                // EXTRAI NOS CONECTADOS AO NÓ SELECIONADO
                let con_nodes = []
                let temp = []
                if (sel_nodes.length > 0) {
                    for (var i=0; i<sel_nodes.length; i++) {
                        temp = network.getConnectedNodes(sel_nodes[i]);
                        temp2 = temp.concat(sel_nodes);
                        con_nodes = con_nodes.concat(temp2)
                    }
                }

                // PARTE PRINCIPAL
                network.fit({nodes: con_nodes, maxZoomLevel: 1, animation: false});
                toggle_c = true

                // Exibe informações na tela
                if (network.getSelectedNodes().length == 0) {                  
                    tempAlert(`Tecla ${event.key} - Enquadra todos os nós`, 3000);
                } else {
                    tempAlert(`Tecla ${event.key} - Enquadra nós adjacentes aos nós selecionados`, 3000);
                }
            }
        }); */



        // NOVA FUNÇÃO

        var toggle_c = 0;

        document.addEventListener('keydown', (event) => {
            
            // 1) UM NÓ SELECIONADO (SÓ FUNCIONA NO LAYOUT BARNES-HUT)
            if (event.key == 'c' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length == 1 && toggle_c == 0) {

                // DESABILITA ELEMENTOS PARA EVITAR TRAVAMENTO DA IMAGEM (MELHORA DESEMPENHO)
                network.physics.physicsEnabled = false;
                network.physics.stopSimulation();

                let ss = network.getSelectedNodes();

                // PARTE PRINCIPAL
                for (let i=0; i<ss.length; i++) {
                    p = network.getPosition(ss[i]);

                    network.moveTo({
                        position: {x: p['x'], y: p['y']},
                        scale: 1,
                        offset: {x:0, y:0}
                    });                    
                }
            
                toggle_c = 1;

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Centraliza nó selecionado`, 3000);

                

            // 2) UM NÓ SELECIONADO - EXIBE NÓS CONECTADOS AO NÓ ÚNICO SELECIONADO
            } else if (event.key == 'c' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length == 1 && toggle_c == 1) {

                // DESABILITA ELEMENTOS PARA EVITAR TRAVAMENTO DA IMAGEM (MELHORA DESEMPENHO)
                network.physics.physicsEnabled = false;
                network.physics.stopSimulation();

                let sel_nodes = network.getSelectedNodes();

                // EXTRAI NOS CONECTADOS AO NÓ SELECIONADO
                let con_nodes = []
                let temp = []
                if (sel_nodes.length > 0) {
                    for (var i=0; i<sel_nodes.length; i++) {
                        temp = network.getConnectedNodes(sel_nodes[i]);
                        temp2 = temp.concat(sel_nodes);
                        con_nodes = con_nodes.concat(temp2)
                    }
                }                

                setTimeout(() => {
                    network.fit({
                        nodes: con_nodes,
                        animation: {
                            duration: 500,
                            easingFunction: 'easeInOutQuad'
                        }
                    });
                    setTimeout(() => {
                        network.startSimulation();
                        network.physics.physicsEnabled = true;
                    }, 600);
                }, 100);

                toggle_c = 2

                tempAlert(`Tecla ${event.key} - Enquadra nós adjacentes ao nó selecionado`, 3000);



            // 3) UM NÓ SELECIONADO - ENQUADRA TODOS OS NÓS
            } else if (event.key == 'c' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length == 1 && toggle_c == 2) {

                // DESABILITA ELEMENTOS PARA EVITAR TRAVAMENTO DA IMAGEM (MELHORA DESEMPENHO)

                setTimeout(() => {
                    network.fit({
                        animation: {
                            duration: 500,
                            easingFunction: 'easeInOutQuad'
                        }
                    });
                    setTimeout(() => {
                        network.startSimulation();
                        network.physics.physicsEnabled = true;
                    }, 600);
                }, 100);
  
                tempAlert(`Tecla ${event.key} - Enquadra todos os nós (sem nós selecionados)`, 3000);

                toggle_c = 0

                
            // ============================================
                
            
            // 4) DOIS OU MAIS NÓS SELECIONADOS - EXIBE NÓS CONECTADOS AOS NÓS SELECIONADOS
            } else if (event.key == 'c' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length > 1 && toggle_c == 0) {

                // DESABILITA ELEMENTOS PARA EVITAR TRAVAMENTO DA IMAGEM (MELHORA DESEMPENHO)
                network.physics.physicsEnabled = false;
                network.physics.stopSimulation();

                let sel_nodes = network.getSelectedNodes();

                // EXTRAI NOS CONECTADOS AO NÓ SELECIONADO
                let con_nodes = []
                let temp = []
                if (sel_nodes.length > 0) {
                    for (var i=0; i<sel_nodes.length; i++) {
                        temp = network.getConnectedNodes(sel_nodes[i]);
                        temp2 = temp.concat(sel_nodes);
                        con_nodes = con_nodes.concat(temp2)
                    }
                }                

                setTimeout(() => {
                    network.fit({
                        nodes: con_nodes,
                        animation: {
                            duration: 500,
                            easingFunction: 'easeInOutQuad'
                        }
                    });
                    setTimeout(() => {
                        network.startSimulation();
                        network.physics.physicsEnabled = true;
                    }, 600);
                }, 100);

                toggle_c = 1

                tempAlert(`Tecla ${event.key} - Enquadra nós adjacentes aos nós selecionados`, 3000);



            // 5) MAIS DE UM NÓ SELECIONADOS - ENQUADRA TODOS OS NÓS
            } else if (event.key == 'c' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length > 1 && toggle_c == 1) {

                // DESABILITA ELEMENTOS PARA EVITAR TRAVAMENTO DA IMAGEM (MELHORA DESEMPENHO)
                setTimeout(() => {
                    network.fit({
                        animation: {
                            duration: 500,
                            easingFunction: 'easeInOutQuad'
                        }
                    });
                    setTimeout(() => {
                        network.startSimulation();
                        network.physics.physicsEnabled = true;
                    }, 600);
                }, 100);
  
                tempAlert(`Tecla ${event.key} - Enquadra todos os nós (sem nós selecionados)`, 3000);

                toggle_c = 0

                
            // ============================================

            // && network.physics.options.solver == 'barnesHut' 
            // 6) NENHUM NÓ SELECIONADO - ENQUADRA TODOS OS NÓS
            } else if (event.key == 'c' && network.getSelectedNodes().length == 0) {

                // DESABILITA ELEMENTOS PARA EVITAR TRAVAMENTO DA IMAGEM (MELHORA DESEMPENHO)
                network.physics.stopSimulation();
                
                setTimeout(() => {
                    network.fit({
                        animation: {
                            duration: 500,
                            easingFunction: 'easeInOutQuad'
                        }
                    });
                    setTimeout(() => {
                        network.startSimulation();
                    }, 600);
                }, 100);

                toggle_c = 0
  
                tempAlert(`Tecla ${event.key} - Enquadra todos os nós (sem nós selecionados)`, 3000);
            }
        });




        // ##########################################
        // GERA QR CODE PARA A URL DO GRAFO - TECLA C
        // ##########################################

        // document.addEventListener('keydown', (event) => {
        //     if (event.key == 'C') {
        //         // Verificar se é uma URL válida (http ou https)
        //         const urlAtual = window.location.href;
        //         const isURL = urlAtual.startsWith('http://') || urlAtual.startsWith('https://');
                
        //         if (!isURL) {
        //             // Exibir mensagem se não for URL
        //             tempAlert(`Tecla ${event.key} - Funcionalidade disponível apenas para versão web do SINARC`, 3000);
        //             return;
        //         }

        //         tempAlert(`Tecla ${event.key} - Exibe QR Code para compartilhamento da URL do grafo`, 3000);
                
        //         // Criar overlay de fundo
        //         const overlay = document.createElement('div');
        //         overlay.style.cssText = `
        //             position: fixed;
        //             top: 0;
        //             left: 0;
        //             width: 100%;
        //             height: 100%;
        //             background-color: rgba(0, 0, 0, 0.5);
        //             display: flex;
        //             justify-content: center;
        //             align-items: center;
        //             z-index: 9999;
        //             cursor: pointer;
        //         `;
                
        //         // Criar container do QR Code
        //         const container = document.createElement('div');
        //         container.style.cssText = `
        //             background-color: white;
        //             padding: 30px;
        //             border-radius: 10px;
        //             box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        //             text-align: center;
        //         `;
                
        //         // Adicionar título
        //         const titulo = document.createElement('h2');
        //         titulo.textContent = 'Escaneie o QR Code';
        //         titulo.style.marginBottom = '20px';
        //         titulo.style.color = '#333';
        //         container.appendChild(titulo);
                
        //         // Criar imagem do QR Code usando API pública
        //         const urlEncoded = encodeURIComponent(urlAtual);
        //         const qrCodeImg = document.createElement('img');
        //         qrCodeImg.src = `https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${urlEncoded}`;
        //         qrCodeImg.alt = 'QR Code da página';
        //         qrCodeImg.style.cssText = `
        //             width: 300px;
        //             height: 300px;
        //             display: block;
        //             margin: 0 auto;
        //         `;
        //         container.appendChild(qrCodeImg);
                
        //         // Adicionar URL abaixo do QR Code
        //         const urlText = document.createElement('p');
        //         urlText.textContent = urlAtual;
        //         urlText.style.cssText = `
        //             margin-top: 15px;
        //             font-size: 12px;
        //             color: #666;
        //             word-break: break-all;
        //             max-width: 300px;
        //         `;
        //         container.appendChild(urlText);
                
        //         // Adicionar instrução para fechar
        //         const instrucao = document.createElement('p');
        //         instrucao.textContent = 'Clique em qualquer lugar para fechar';
        //         instrucao.style.cssText = `
        //             margin-top: 10px;
        //             font-size: 14px;
        //             color: #999;
        //         `;
        //         container.appendChild(instrucao);
                
        //         // Adicionar container ao overlay
        //         overlay.appendChild(container);
                
        //         // Fechar ao clicar no overlay
        //         overlay.addEventListener('click', function(e) {
        //             if (e.target === overlay) {
        //                 document.body.removeChild(overlay);
        //             }
        //         });
                
        //         // Prevenir fechamento ao clicar no container
        //         container.addEventListener('click', function(e) {
        //             e.stopPropagation();
        //         });
                
        //         // Adicionar ao body
        //         document.body.appendChild(overlay);
        //     }
        // });



        // #####################################################################
        // SELECIONA NÓS ÚNICOS (EN, EM E TE) PARA SIMPLIFICAR O GRAFO - TECLA ç
        // #####################################################################

        var toggle_ç = 0;
        document.addEventListener("keypress", function(event) {

            // if (event.key === "ç" && network.getSelectedNodes().length == 0 && toggle_ç == 0) {
            if (event.key === "ç" && toggle_ç == 0) {


            
                // TRECHO INCLUÍDO PARA DESSELECIONAR TODOS OS NÓS ANTES DE APLICAR A NOVA SELEÇÃO
                network.unselectAll();

                // Obtém todos os nós
                let allNodeIds = nodes.getIds();

                // Cria array de atualizações
                let updatedNodes = [];
                for (let i = 0; i < allNodeIds.length; i++) {
                    updatedNodes.push({
                        id: allNodeIds[i],
                        font: {
                            color: "#777777",
                            bold: false  // Remove negrito que causa cor vermelha
                        }
                    });
                }

                // Atualiza todos os nós de uma vez
                nodes.update(updatedNodes);

                network.redraw();

                


                let nod = nodes.getIds();
                let nodToSelect = [];
                for (var i = 0; i < nod.length; i++) {
                    if ((nod[i].slice(0, 3) == "TE_") || (nod[i].slice(0, 3) == "EN_") || (nod[i].slice(0, 3) == "EM_")) {
                        if (network.body.nodes[nod[i]].edges.length == 1) {
                            nodToSelect.push(nod[i]);
                            //console.log(nod[i]);
                        }
                    }
                }
                network.selectNodes(nodToSelect);

                let percentual = (nodToSelect.length / nod.length) * 100;
                percentual = percentual.toFixed(1);

                tempAlert(`Tecla ${event.key} - Seleciona nós EN, EM e TE com aresta única (${nodToSelect.length}) ${percentual}%`, 3000);

                toggle_ç = 1;
            
            } else if (event.key === "ç" && toggle_ç == 1) {
                let nod = nodes.getIds();
                let nodToSelect = [];
                for (var i = 0; i < nod.length; i++) {
                    if ((nod[i].slice(0, 3) == "TE_") || (nod[i].slice(0, 3) == "EN_") || (nod[i].slice(0, 3) == "EM_")) {
                        nodToSelect.push(nod[i]);
                    }
                }
                network.selectNodes(nodToSelect);

                let percentual = (nodToSelect.length / nod.length) * 100;
                percentual = percentual.toFixed(1);

                tempAlert(`Tecla ${event.key} - Seleciona todos os nós EN, EM e TE (${nodToSelect.length}) ${percentual}%`, 3000);

                toggle_ç = 2;



            //} else if (event.key === "ç" && toggle_ç == 2) {

            //    let nod = nodes.getIds();
            //    let nodToSelect = [];
            //    for (var i = 0; i < nod.length; i++) {
            //        if (network.body.nodes[nod[i]].edges.length == 1) {
            //            nodToSelect.push(nod[i]);
            //        }
            //    }
            //    network.selectNodes(nodToSelect);

            //    let percentual = (nodToSelect.length / nod.length) * 100;
            //    percentual = percentual.toFixed(1);

            //    tempAlert(`Tecla ${event.key} - Seleciona todos os nós com apenas uma aresta (${nodToSelect.length}) ${percentual}%`, 3000);

            //    toggle_ç = 3;
            //}




            } else if (event.key === "ç" && toggle_ç == 2) {
                network.unselectAll();

                tempAlert(`Tecla ${event.key} - Desseleciona todos os nós (${nodes.getIds().length})`, 3000);

                toggle_ç = 0;
            }
        });



        // ######################################################################
        // ALTERNA ENTRE A SELEÇÃO DE NÓS COM BASE NO NÚMERO DE ARESTAS - TECLA Ç
        // ######################################################################

        var count_Ç = 0;

        document.addEventListener("keypress", function(event) {
            
            if (event.key === "Ç") {

                network.unselectAll();
                
                let nod = nodes.getIds();
                
                let num_arestas = [];
                for (var i = 0; i < nod.length; i++) {
                    let temp = network.body.nodes[nod[i]].edges.length;
                    temp = parseInt(temp);
                    num_arestas.push(temp);
                }

                num_arestas = [...new Set(num_arestas)];

                num_arestas.sort((a, b) => a - b); // Ordem CRESCENTE (menor → maior)
                //num_arestas.sort((a, b) => b - a);  // Ordem DECRESCENTE (maior → menor)
                
                //console.log(num_arestas);

                let nodToSelect = [];
                for (var i = 0; i < nod.length; i++) {
                    if (network.body.nodes[nod[i]].edges.length == num_arestas[count_Ç]) {
                        nodToSelect.push(nod[i]);
                    }
                }
                
                network.selectNodes(nodToSelect);
            
                let percentual = (nodToSelect.length / nod.length) * 100;
                percentual = percentual.toFixed(1);


                if (num_arestas.length == count_Ç) {
                    tempAlert(`Tecla ${event.key} - Desseleciona todos os nós`, 3000);
                    count_Ç = 0;
                
                } else {
                    tempAlert(`Tecla ${event.key} - Seleciona nós com ${num_arestas[count_Ç]} arestas (${nodToSelect.length}) ${percentual}%`, 3000);
                    count_Ç += 1;
                }
            }
        });



        // #####################################################
        // ABRE PÁGINA COM DETALHES DA PESSOA JURÍDICA - TECLA d
        // #####################################################

        document.addEventListener('keydown', (event) => {
            if (event.key == 'd' && network.getSelectedNodes().length == 1) {
                var sel = network.getSelectedNodes();
                for (var i=0; i<sel.length; i++) {
                    if (sel.length > 0) {
                        for (var i=0; i<sel.length; i++) {

                            // PARA CONSULTA DE CNPJ
                            if (sel[i].slice(0, 3) == "PJ_") {
                                var cnpj = sel[i].slice(3);
                                //var link = "http://cnpj.info/" + cnpj;
                                //window.open(link, 'popup','left=50,top=100,width=600,height=600');

                                consultarCNPJ(cnpj);

                            // PARA CONSULTA DE ENDEREÇO
                            } else if (sel[i].slice(0, 3) == "EN_") {
                                var endereco = sel[i].slice(3).replace();
                                endereco = endereco.replaceAll(' ', '+');
                                var link = "https://maps.google.com/maps?q=" + endereco;
                                window.open(link, 'popup','left=50,top=100,width=600,height=600');

                            // PARA CONSULTA DE E-MAIL
                            } else if (sel[i].slice(0, 3) == "EM_") {
                                var email = sel[i].slice(3).replace();
                                email = email.replaceAll(' ', '+').replace('@', '%40');
                                var link = "https://maps.google.com/search?q=" + '"' + email + '"';
                                window.open(link, 'popup','left=50,top=100,width=600,height=600');
                            
                            // PARA CONSULTA DE PESSOA FÍSICA
                            } else if (sel[i].slice(0, 3) == "PF_") {
                                var nome_socio = sel[i].slice(15);
                                nome_socio = nome_socio.replaceAll(' ', '+');
                                //var link = "http://www.consultasocio.com/q/sa/" + nome_socio;
                                var link = "https://www.diretoriobrasil.net/buscar-socio/?termo=" + nome_socio + "&acao=Buscar"
                                window.open(link, 'popup','left=50,top=100,width=600,height=600');
                            }

                            // Exibe informações na tela
                            tempAlert(`Tecla ${event.key} - Exibe detalhes do nó selecionado (exceto TE)`, 3000);

                        }
                    }
                }

            } else if (event.key == 'd' && network.getSelectedNodes().length != 1) {
                tempAlert(`Tecla ${event.key} - Selecione um nó para exibir detalhes (exceto TE)`, 3000);
            }
        });


        // -----------------------------------------
        // FUNÇÃO ADICIONAL PARA TECLA d (APENAS PJ)
        // -----------------------------------------

        /*async function consultarCNPJ(cnpj) {
            const cnpjLimpo = cnpj.replace(/\D/g, '');
            
            if (cnpjLimpo.length !== 14) {
                throw new Error('CNPJ inválido! Deve conter 14 dígitos.');
            }
            
            const response = await fetch('https://minhareceita.org/' + cnpjLimpo);
            
            if (!response.ok) {
                throw new Error('Erro ao consultar CNPJ. Verifique se o CNPJ está correto.');
            }
            
            const dados = await response.json();
            const html = gerarHTML(dados);
            
            // MODIFICADO AQUI:
            const novaJanela = window.open('', 'popup', 'left=50,top=50,width=1100,height=500,scrollbars=yes,resizable=yes');
            novaJanela.document.write(html);
            novaJanela.document.close();
        }*/

        

        async function consultarCNPJ(cnpj) {
            const cnpjLimpo = cnpj.replace(/\D/g, '');

            if (cnpjLimpo.length !== 14) {
                alert('CNPJ inválido! Deve conter 14 dígitos.');
                return;
            }

            const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

            let novaJanela = null;

            // 📱 MOBILE → abre imediatamente
            if (isMobile) {
                novaJanela = window.open('', '_blank');
                if (!novaJanela) {
                    alert('Pop-up bloqueado pelo navegador.');
                    return;
                }
                novaJanela.document.write(
                    '<p style="font-family:sans-serif;padding:20px">Carregando dados do CNPJ...</p>'
                );
            }

            try {
                const response = await fetch('https://minhareceita.org/' + cnpjLimpo);

                if (!response.ok) {
                    throw new Error('Erro ao consultar CNPJ.');
                }

                const dados = await response.json();
                const html = gerarHTML(dados);

                // 💻 DESKTOP → abre após o fetch
                if (!isMobile) {
                    novaJanela = window.open(
                        '',
                        'popup',
                        'left=50,top=50,width=1100,height=500,scrollbars=yes,resizable=yes'
                    );
                }

                if (!novaJanela) {
                    alert('Não foi possível abrir a nova janela.');
                    return;
                }

                novaJanela.document.open();
                novaJanela.document.write(html);
                novaJanela.document.close();

            } catch (error) {
                if (novaJanela) {
                    novaJanela.document.write(
                        '<p style="font-family:sans-serif;padding:20px;color:red">Erro ao carregar dados.</p>'
                    );
                }
                console.error(error);
                alert(error.message);
            }
        }



        // ##########################################################
        // ABRE PÁGINA COM DETALHES DA PESSOA JURÍDICA - DUPLO CLIQUE
        // ##########################################################

        document.addEventListener('dblclick', () => {
            if (network.getSelectedNodes().length === 1) {
                const sel = network.getSelectedNodes()[0];
                if (sel.startsWith('PJ_')) {
                    consultarCNPJ(sel.slice(3));
                }
            }
        });







        function formatarCNPJ(cnpj) {
            if (!cnpj) return '<span style="color: #bbb; font-style: italic;">-</span>';
            return cnpj.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/, '$1.$2.$3/$4-$5');
        }

        function formatarData(data) {
            if (!data) return '<span style="color: #bbb; font-style: italic;">-</span>';
            const partes = data.split('-');
            return partes[2] + '/' + partes[1] + '/' + partes[0];
        }

        function formatarMoeda(valor) {
            if (!valor) return '<span style="color: #bbb; font-style: italic;">-</span>';
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(valor);
        }
        
        function formatarTelefone(tel) {
            if (!tel) return '<span style="color: #bbb; font-style: italic;">-</span>';
            const ddd = tel.substring(0, 2);
            const numero = tel.substring(2);
            if (numero.length === 9) {
                return '(' + ddd + ') ' + numero.substring(0, 5) + '-' + numero.substring(5);
            } else if (numero.length === 8) {
                return '(' + ddd + ') ' + numero.substring(0, 4) + '-' + numero.substring(4);
            }
            return '(' + ddd + ') ' + numero;
        }
        
        function formatarFaixaEtaria(faixa) {
            if (!faixa) return '<span style="color: #bbb; font-style: italic;">-</span>';
            const match = faixa.match(/\d+\s+a\s+\d+/);
            return match ? match[0] : faixa;
        }
        
        /*function criarLinkBusca(nome) {
            const nomeFormatado = nome.replace(/\s+/g, '+');
            return 'https://www.google.com/search?q=' + textoPesquisa + 'Alvo:' + nomeFormatado + '&udm=50';
        }*/

        function criarLinkBusca(nome) {
        const nomeFormatado = nome.replace(/\s+/g, '+');
        const textoPesquisa = 'Realize uma pesquisa profunda e detalhada sobre o histórico de conformidade e integridade da pessoa a seguir. O objetivo é identificar riscos reputacionais com foco no controle externo da administração pública. Por favor, forneça as informações estruturadas da seguinte forma: Notícias e Irregularidades: Liste menções em investigações, processos judiciais públicos, inquéritos ou notícias sobre fraudes, corrupção e irregularidades administrativas. Rede de Ligações: Identifique sócios, empresas coligadas ou parceiros de negócios frequentemente citados em conjunto com o alvo. Presença em Listas: Verifique se há menções em portais de transparência, listas de sanções ou registros de empresas e pessoas suspensas.';
        const textoPesquisaFormatado = encodeURIComponent(textoPesquisa);
        const url = 'https://www.google.com/search?q=' + textoPesquisaFormatado + '+Alvo:+' + nomeFormatado + '&udm=50';
        return "window.open('" + url + "', '', 'left=50,top=100,width=800,height=800,scrollbars=yes,resizable=yes'); return false;";
        }
        
        function exibirValor(valor) {
            if (valor === null || valor === undefined || valor === '') {
                return '<span style="color: #bbb; font-style: italic;">-</span>';
            }
            return valor;
        }

        



        function gerarHTML(dados) {

            const enderecoCompleto = encodeURIComponent(
                (dados.logradouro || '') + ', ' + (dados.numero || '') + ' - ' + 
                (dados.bairro || '') + ', ' + (dados.municipio || '') + ' - ' + 
                (dados.uf || '') + ', ' + (dados.cep || '')
            );
            
            let html = '<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8">';
            html += '<meta name="viewport" content="width=device-width, initial-scale=1.0">';
            html += '<title>SINARC - ' + (dados.razao_social || 'Empresa') + '</title>';
            // html += '<link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/controlecidadao/sinarc/main/images/logo.ico">';
            html += '<style>';
            html += '* { margin: 0; padding: 0; box-sizing: border-box; }';
            html += 'body { font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #1a2332 0%, #2d3e50 100%); color: #333; line-height: 1.6; padding: 20px; }';
            html += '.container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3); overflow: hidden; }';
            html += '.header { background: linear-gradient(135deg, #2c5f8d 0%, #1e4163 100%); color: white; padding: 30px; text-align: center; }';
            html += '.header h1 { font-size: 28px; margin-bottom: 10px; font-weight: 600; }';
            html += '.header-logo-inline { height: 50px; width: auto; vertical-align: middle; margin-right: 5px; }';
            html += '.header-title { display: inline-flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 15px; }';
            html += '.header .cnpj { font-size: 18px; opacity: 0.9; font-weight: 300; }';
            html += '.content { padding: 30px; }';
            html += '.section { margin-bottom: 35px; padding-left: 20px; }';
            html += '.section-title { color: #FF6B35; font-size: 20px; font-weight: 600; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #FFE0D1; }';
            html += '.info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 15px; }';
            html += '.info-item { background: #f8f9fa; padding: 12px 15px; border-radius: 6px; border-left: 3px solid #4a90c2; }';
            html += '.info-label { font-size: 12px; color: #AAA; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px; font-weight: 600; }';
            html += '.info-value { font-size: 15px; color: #333; font-weight: 500; }';
            
            // Estilos para tabela de informações
            html += '.info-table { width: 100%; border-collapse: collapse; margin-top: 15px; }';
            html += '.info-table td { padding: 4px 0; border: none; vertical-align: top; }';
            html += '.info-table td:first-child { font-size: 14px; color: #2c5f8d; font-weight: 600; padding-right: 15px; white-space: nowrap; width: 200px; }';
            html += '.info-table td:last-child { font-size: 15px; color: #333; font-weight: 500; }';
            html += '.status-badge { display: inline-block; padding: 6px 12px; border-radius: 20px; font-size: 13px; font-weight: 600; text-transform: uppercase; }';
            html += '.status-ativa { background: #d4edda; color: #155724; }';
            html += '.status-inativa { background: #f8d7da; color: #721c24; }';
            html += '.map-container { margin-top: 15px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }';
            html += '.map-container iframe { width: 100%; height: 450px; border: 0; }';
            html += '.map-links { margin-top: 10px; text-align: center; }';
            html += '.map-links a { display: inline-block; margin: 5px 10px; padding: 8px 16px; background: linear-gradient(135deg, #2c5f8d 0%, #1e4163 100%); color: white; text-decoration: none; border-radius: 20px; font-size: 13px; font-weight: 600; transition: transform 0.2s, box-shadow 0.3s; }';
            html += '.map-links a:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(44, 95, 141, 0.4); }';
            html += '.table-container { overflow-x: auto; margin-top: 15px; }';
            html += 'table { width: 100%; border-collapse: collapse; background: white; }';
            html += 'table thead { background: #2c5f8d; color: white; }';
            html += 'table th { padding: 10px 8px; text-align: left; font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 0.3px; white-space: nowrap; }';
            html += 'table td { padding: 10px 8px; border-bottom: 1px solid #e0e0e0; font-size: 13px; }';
            html += 'table tbody tr:hover { background: #f8f9fa; }';
            html += 'table tbody tr:last-child td { border-bottom: none; }';
            html += '.socio-link { color: #2c5f8d; text-decoration: none; font-weight: 600; transition: color 0.2s; }';
            html += '.socio-link:hover { color: #1e4163; text-decoration: underline; }';
            html += '.socio-link::after { content: " 🔍"; font-size: 12px; }';
            html += '.cnae-principal { background: #fff3cd; border-left: 3px solid #ffc107; }';
            html += '.footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 13px; border-top: 1px solid #e0e0e0; }';
            html += '.print-button { background: #2c5f8d; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; margin-top: 20px; transition: background 0.3s; }';
            html += '.print-button:hover { background: #1e4163; }';
            
            // CSS DE IMPRESSÃO OTIMIZADO
            html += '@media print {';
            html += '  body { background: white !important; padding: 0 !important; }';
            html += '  .print-button, .map-links, .map-container { display: none !important; }';
            html += '  .container { box-shadow: none !important; border-radius: 0 !important; max-width: 100% !important; }';
            html += '  .content { padding: 15px !important; }';
            html += '  .section { margin-bottom: 20px !important; page-break-inside: avoid; }';
            html += '  .header { padding: 20px !important; }';
            html += '  .info-grid { grid-template-columns: repeat(2, 1fr) !important; gap: 10px !important; }';
            html += '  .info-item { padding: 8px 10px !important; }';
            html += '  .info-label { font-size: 10px !important; }';
            html += '  .info-value { font-size: 12px !important; }';
            html += '  .info-table td:first-child { font-size: 11px !important; padding-right: 10px !important; }';
            html += '  .info-table td:last-child { font-size: 12px !important; }';
            html += '  table { font-size: 10px !important; page-break-inside: auto; }';
            html += '  table th { padding: 6px 4px !important; font-size: 10px !important; }';
            html += '  table td { padding: 6px 4px !important; font-size: 10px !important; }';
            html += '  table tr { page-break-inside: avoid; page-break-after: auto; }';
            html += '  .section-title { font-size: 16px !important; }';
            html += '  @page { size: portrait; margin: 0.5cm; }';
            html += '}';
            
            // html += '@media (max-width: 768px) { .info-grid { grid-template-columns: 1fr; } table { font-size: 11px; } table th, table td { padding: 6px; } .map-container iframe { height: 300px; } }';
            html += '@media (max-width: 768px) { .info-grid { grid-template-columns: 1fr; } table { font-size: 11px; } table th, table td { padding: 6px; } .map-container iframe { height: 300px; } .info-table td:first-child { white-space: normal; width: auto; } .info-table td:last-child { word-break: break-word; overflow-wrap: anywhere; } }';
            
            html += '</style></head><body>';            
            html += '<div class="container">';
            html += '<div class="header">';

            //html += '<h1><img src="raw.githubusercontent.com" style="vertical-align: middle; margin-right: 10px; height: 30px;">SINARC</h1>';
            html += '<div class="header-title">';
            html += '<img src="https://raw.githubusercontent.com/controlecidadao/sinarc/main/images/logo.png" alt="SINARC" class="header-logo-inline">';
            html += '<span style="font-size: 32px; font-weight: 700; letter-spacing: 2px;">SINARC</span>';
            html += '</div>';

            html += '<h1>' + (dados.razao_social || 'Empresa não identificada') + '</h1>';
            html += '<div class="cnpj">CNPJ: ' + formatarCNPJ(dados.cnpj) + '</div>';
            if (dados.nome_fantasia) {
                html += '<div style="margin-top: 8px; font-size: 16px;">Nome Fantasia: ' + dados.nome_fantasia + '</div>';
            }
            html += '</div>';
            
            html += '<div class="content">';
            
            // Mapa
            if (dados.cep) {
                html += '<div class="section">';
                html += '<h2 class="section-title">📍 Localização</h2>';
                html += '<div class="map-container">';
                html += '<iframe src="https://maps.google.com/maps?q=' + enderecoCompleto + '&t=h&z=17&output=embed" allowfullscreen loading="lazy"></iframe>';
                html += '</div>';
                html += '<div class="map-links">';
                html += '<a href="https://www.google.com/maps/search/?api=1&query=' + enderecoCompleto + '" target="_blank">🗺️ Ver no Google Maps</a>';
                html += '</div>';
                html += '</div>';
            }

            // Grafo
            html += '<div class="section">';
            html += '<h2 class="section-title">Grafo Interativo</h2>';
            html += '<table class="info-table">';
            html += '<tr><td>Grafo Temporário:</td><td><a href="#" onclick="window.open(window.location.href, \'_blank\'); return false;" class="socio-link" title="Abrir grafo em nova aba">' + 'Abrir grafo' + '</a></td></tr>';
            html += '</table></div>';
            
            // Informações Cadastrais - TABELA
            html += '<div class="section">';
            html += '<h2 class="section-title">Informações Cadastrais</h2>';
            html += '<table class="info-table">';
            // html += '<tr><td>CNPJ:</td><td>' + formatarCNPJ(dados.cnpj) + '</td></tr>';
            html += '<tr><td>CNPJ:</td><td>' + (dados.cnpj ? '<a href="#" onclick="window.open(\'https://solucoes.receita.fazenda.gov.br/servicos/cnpjreva/Cnpjreva_Solicitacao.asp?cnpj=' + dados.cnpj + '\', \'popupCNPJ\', \'left=50,top=50,width=800,height=600,scrollbars=yes,resizable=yes\'); return false;" class="socio-link" title="Consultar CNPJ na Receita Federal">' + formatarCNPJ(dados.cnpj) + '</a>' : exibirValor(dados.cnpj)) + '</td></tr>';

            html += '<tr><td>Razão Social:</td><td>' + (dados.razao_social ? '<a href="#" onclick="' + criarLinkBusca(dados.razao_social) + '" class="socio-link" title="Pesquisar no Google com IA">' + dados.razao_social + '</a>' : exibirValor(dados.razao_social)) + '</td></tr>';
            html += '<tr><td>Nome Fantasia:</td><td>' + exibirValor(dados.nome_fantasia) + '</td></tr>';
            html += '<tr><td>Situação Cadastral:</td><td><span class="status-badge ' + (dados.descricao_situacao_cadastral === 'ATIVA' ? 'status-ativa' : 'status-inativa') + '">' + (dados.descricao_situacao_cadastral || 'Não informada') + '</span></td></tr>';
            html += '<tr><td>Data Situação Cadastral:</td><td>' + formatarData(dados.data_situacao_cadastral) + '</td></tr>';
            html += '<tr><td>Motivo Situação Cadastral:</td><td>' + exibirValor(dados.descricao_motivo_situacao_cadastral) + '</td></tr>';
            html += '<tr><td>Data Início Atividade:</td><td>' + formatarData(dados.data_inicio_atividade) + '</td></tr>';
            html += '<tr><td>Natureza Jurídica:</td><td>' + exibirValor(dados.natureza_juridica) + '</td></tr>';
            html += '<tr><td>Código Natureza Jurídica:</td><td>' + exibirValor(dados.codigo_natureza_juridica) + '</td></tr>';
            html += '<tr><td>Tipo:</td><td>' + exibirValor(dados.descricao_identificador_matriz_filial) + '</td></tr>';
            html += '<tr><td>Porte:</td><td>' + exibirValor(dados.porte) + '</td></tr>';
            html += '<tr><td>Código Porte:</td><td>' + exibirValor(dados.codigo_porte) + '</td></tr>';
            html += '<tr><td>Capital Social:</td><td>' + formatarMoeda(dados.capital_social) + '</td></tr>';
            html += '<tr><td>Ente Federativo Responsável:</td><td>' + exibirValor(dados.ente_federativo_responsavel) + '</td></tr>';
            html += '<tr><td>Qualificação do Responsável:</td><td>' + exibirValor(dados.qualificacao_do_responsavel) + '</td></tr>';
            html += '</table></div>';
            
            // Endereço - TABELA
            html += '<div class="section">';
            html += '<h2 class="section-title">Endereço</h2>';
            html += '<table class="info-table">';
            html += '<tr><td>Tipo de Logradouro:</td><td>' + exibirValor(dados.descricao_tipo_de_logradouro) + '</td></tr>';
            html += '<tr><td>Logradouro:</td><td>' + exibirValor(dados.logradouro) + '</td></tr>';
            html += '<tr><td>Número:</td><td>' + exibirValor(dados.numero) + '</td></tr>';
            html += '<tr><td>Complemento:</td><td>' + exibirValor(dados.complemento) + '</td></tr>';
            html += '<tr><td>Bairro:</td><td>' + exibirValor(dados.bairro) + '</td></tr>';
            html += '<tr><td>Município:</td><td>' + exibirValor(dados.municipio) + '</td></tr>';
            html += '<tr><td>UF:</td><td>' + exibirValor(dados.uf) + '</td></tr>';
            html += '<tr><td>CEP:</td><td>' + (dados.cep ? dados.cep.replace(/^(\d{5})(\d{3})$/, '$1-$2') : exibirValor(null)) + '</td></tr>';
            html += '<tr><td>Código Município:</td><td>' + exibirValor(dados.codigo_municipio) + '</td></tr>';
            html += '<tr><td>Código Município IBGE:</td><td>' + exibirValor(dados.codigo_municipio_ibge) + '</td></tr>';
            html += '<tr><td>País:</td><td>' + exibirValor(dados.pais) + '</td></tr>';
            html += '<tr><td>Código País:</td><td>' + exibirValor(dados.codigo_pais) + '</td></tr>';
            html += '<tr><td>Cidade no Exterior:</td><td>' + exibirValor(dados.nome_cidade_no_exterior) + '</td></tr>';
            html += '</table></div>';
            
            // Contato - TABELA
            html += '<div class="section">';
            html += '<h2 class="section-title">Contato</h2>';
            html += '<table class="info-table">';
            html += '<tr><td>Telefone 1:</td><td>' + formatarTelefone(dados.ddd_telefone_1) + '</td></tr>';
            html += '<tr><td>Telefone 2:</td><td>' + formatarTelefone(dados.ddd_telefone_2) + '</td></tr>';
            html += '<tr><td>Fax:</td><td>' + formatarTelefone(dados.ddd_fax) + '</td></tr>';
            html += '<tr><td>E-mail:</td><td>' + exibirValor(dados.email) + '</td></tr>';
            html += '</table></div>';
            
            // Informações Tributárias - TABELA
            html += '<div class="section">';
            html += '<h2 class="section-title">Informações Tributárias</h2>';
            html += '<table class="info-table">';
            html += '<tr><td>Opção pelo Simples:</td><td>' + (dados.opcao_pelo_simples === true ? 'Sim' : dados.opcao_pelo_simples === false ? 'Não' : exibirValor(null)) + '</td></tr>';
            html += '<tr><td>Data Opção pelo Simples:</td><td>' + formatarData(dados.data_opcao_pelo_simples) + '</td></tr>';
            html += '<tr><td>Data Exclusão do Simples:</td><td>' + formatarData(dados.data_exclusao_do_simples) + '</td></tr>';
            html += '<tr><td>Opção pelo MEI:</td><td>' + (dados.opcao_pelo_mei === true ? 'Sim' : dados.opcao_pelo_mei === false ? 'Não' : exibirValor(null)) + '</td></tr>';
            html += '<tr><td>Data Opção pelo MEI:</td><td>' + formatarData(dados.data_opcao_pelo_mei) + '</td></tr>';
            html += '<tr><td>Data Exclusão do MEI:</td><td>' + formatarData(dados.data_exclusao_do_mei) + '</td></tr>';
            html += '</table></div>';
            
            // Situação Especial - TABELA
            html += '<div class="section">';
            html += '<h2 class="section-title">Situação Especial</h2>';
            html += '<table class="info-table">';
            html += '<tr><td>Situação Especial:</td><td>' + exibirValor(dados.situacao_especial) + '</td></tr>';
            html += '<tr><td>Data Situação Especial:</td><td>' + formatarData(dados.data_situacao_especial) + '</td></tr>';
            html += '</table></div>';
            
            // CNAEs - TABELA + TABELA DE DADOS
            html += '<div class="section">';
            html += '<h2 class="section-title">Atividades Econômicas (CNAE)</h2>';
            html += '<table class="info-table">';
            html += '<tr><td>CNAE Fiscal (Principal):</td><td>' + exibirValor(dados.cnae_fiscal) + '</td></tr>';
            html += '<tr><td>Descrição CNAE Fiscal:</td><td>' + exibirValor(dados.cnae_fiscal_descricao) + '</td></tr>';
            html += '</table>';
            html += '<div class="table-container">';
            html += '<table><thead><tr><th>Código</th><th>Descrição</th><th>Tipo</th></tr></thead><tbody>';
            html += '<tr class="cnae-principal"><td><strong>' + (dados.cnae_fiscal || '<span style="color: #bbb; font-style: italic;">-</span>') + '</strong></td><td><strong>' + (dados.cnae_fiscal_descricao || '<span style="color: #bbb; font-style: italic;">-</span>') + '</strong></td><td><strong>PRINCIPAL</strong></td></tr>';
            
            if (dados.cnaes_secundarios && dados.cnaes_secundarios.length > 0) {
                for (let i = 0; i < dados.cnaes_secundarios.length; i++) {
                    const cnae = dados.cnaes_secundarios[i];
                    html += '<tr><td>' + cnae.codigo + '</td><td>' + cnae.descricao + '</td><td>Secundária</td></tr>';
                }
            } else {
                html += '<tr><td colspan="3" style="text-align: center; color: #bbb; font-style: italic;">Nenhuma atividade secundária cadastrada</td></tr>';
            }
            
            html += '</tbody></table></div></div>';
            
            // QSA
            if (dados.qsa && dados.qsa.length > 0) {
                html += '<div class="section">';
                html += '<h2 class="section-title">Quadro de Sócios e Administradores (' + dados.qsa.length + ')</h2>';
                html += '<div class="table-container">';
                html += '<table><thead><tr><th>Nome</th><th>Qualificação</th><th>CPF/CNPJ</th><th>Faixa Etária</th><th>Data Entrada</th><th>País</th><th>Representante Legal</th><th>Qualif. Rep. Legal</th></tr></thead><tbody>';
                
                for (let i = 0; i < dados.qsa.length; i++) {
                    const socio = dados.qsa[i];

                    html += '<td><a href="#" onclick="' + criarLinkBusca(socio.nome_socio + ' e seu vínculo com ' + dados.razao_social) + '" class="socio-link" title="Pesquisar no Google com IA">' + socio.nome_socio + '</a></td>';

                    html += '<td>' + (socio.qualificacao_socio || '<span style="color: #bbb; font-style: italic;">-</span>') + '</td>';
                    html += '<td>' + (socio.cnpj_cpf_do_socio || '<span style="color: #bbb; font-style: italic;">-</span>') + '</td>';
                    html += '<td>' + formatarFaixaEtaria(socio.faixa_etaria) + '</td>';
                    html += '<td>' + formatarData(socio.data_entrada_sociedade) + '</td>';
                    html += '<td>' + (socio.pais || '<span style="color: #bbb; font-style: italic;">-</span>') + '</td>';
                    html += '<td>' + (socio.nome_representante_legal ? '<a href="#" onclick="' + criarLinkBusca(socio.nome_representante_legal + ' e seu vínculo com ' + dados.razao_social) + '" class="socio-link" title="Pesquisar no Google com IA">' + socio.nome_representante_legal + '</a>' : '<span style="color: #bbb; font-style: italic;">-</span>') + '</td>';
                    html += '<td>' + (socio.qualificacao_representante_legal || '<span style="color: #bbb; font-style: italic;">-</span>') + '</td></tr>';
                }
                
                html += '</tbody></table></div></div>';
            }
            
            // Regime Tributário
            if (dados.regime_tributario && dados.regime_tributario.length > 0) {
                html += '<div class="section">';
                html += '<h2 class="section-title">Histórico de Regime Tributário</h2>';
                html += '<div class="table-container">';
                html += '<table><thead><tr><th>Ano</th><th>Forma de Tributação</th><th>CNPJ da SCP</th><th>Qtd. Escriturações</th></tr></thead><tbody>';
                
                const regimes = dados.regime_tributario.slice().reverse();
                for (let i = 0; i < regimes.length; i++) {
                    const regime = regimes[i];
                    html += '<tr><td><strong>' + regime.ano + '</strong></td>';
                    html += '<td>' + (regime.forma_de_tributacao || '<span style="color: #bbb; font-style: italic;">-</span>') + '</td>';
                    html += '<td>' + (regime.cnpj_da_scp || '<span style="color: #bbb; font-style: italic;">-</span>') + '</td>';
                    html += '<td>' + (regime.quantidade_de_escrituracoes || '<span style="color: #bbb; font-style: italic;">-</span>') + '</td></tr>';
                }
                
                html += '</tbody></table></div></div>';
            }
            
            // BOTÃO DE SALVAR HTML
            //html += '<div style="text-align: center;"><button class="print-button" onclick="var html=document.documentElement.outerHTML;var a=document.createElement(\'a\');a.href=\'data:text/html;charset=utf-8,\'+encodeURIComponent(html);a.download=\'SINARC_' + (dados.razao_social || 'Empresa').replace(/[^a-z0-9]/gi, '_') + '.html\';a.click();">💾 Salvar HTML</button></div>';
            
            // SUBSTITUA a linha 5243 por este código:

            // BOTÕES DE SALVAR HTML
            html += '<div style="text-align: center; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-top: 20px;">';

            // Botão Compartilhar - usando data URI (mais compatível)
            html += '<button class="print-button" onclick="';
            html += 'var nomeArquivo=\'SINARC_' + (dados.razao_social || 'Empresa').replace(/[^a-z0-9]/gi, '_') + '.html\';';
            html += 'var htmlContent=document.documentElement.outerHTML;';
            html += 'var a=document.createElement(\'a\');';
            html += 'a.href=\'data:text/html;charset=utf-8,\'+encodeURIComponent(htmlContent);';
            html += 'a.download=nomeArquivo;';
            html += 'a.click();';
            html += '">💾 Salvar Relatório</button>';




            html += '</div>';
            html += '</div>';
            
            html += '<div class="footer">Relatório gerado pelo SINARC a partir de dados obtidos da Receita Federal do Brasil via API MinhaReceita.org<br>';
            html += 'Consulta realizada em ' + new Date().toLocaleString('pt-BR') + '</div>';

            html += '<script>';
            html += '  (function() {';
            html += '    var link = document.createElement("link");';
            html += '    link.rel = "icon";';
            html += '    link.type = "image/x-icon";';
            html += '    link.href = "favicon.ico";';
            html += '    document.head.appendChild(link);';
            html += '  })();';
            html += '<\/script>';

            html += '<\/div><\/body><\/html>';
            
            return html;
        }








        // ############################################
        // ABRE PESQUISA NOS DIÁRIOS OFICIAIS - TECLA D
        // ############################################

        document.addEventListener('keydown', (event) => {

            // ABRE PESQUISA NOS DIÁRIOS OFICIAIS (BUSCA EXATA)
            if (event.key == 'D' && network.getSelectedNodes().length == 1) {

                let sel = network.getSelectedNodes();

                if (sel.length == 1) {

                    // PESSOA FÍSICA
                    if (sel[0].slice(0, 3) == 'PF_') {
                        let parametro = sel[0].slice(15);

                        parametro = parametro.replaceAll('%20', '+');
                        let link_jusbrasil = "https://www.jusbrasil.com.br/busca?q=" + '"' + parametro + '"';
                        window.open(url=link_jusbrasil, target="_blank", windowFeature='left=300,top=200,width=600,height=500');

                        parametro = parametro.replaceAll('+', '%20');
                        let link_portal_transp = "https://portaldatransparencia.gov.br/busca?termo=" + '"' + parametro + '"';
                        window.open(url=link_portal_transp, target="_blank", windowFeature='left=250,top=170,width=600,height=500');

                        parametro = parametro.replaceAll(' ', '%20');
                        let link_querido_diario = "https://queridodiario.ok.org.br/pesquisa?term=" + "%22" + parametro + "%22";
                        window.open(url=link_querido_diario, target="_blank", windowFeature='left=200,top=140,width=600,height=500');
                        
                        parametro = parametro.replaceAll(' ', '%20');
                        let link_dom_es = "https://ioes.dio.es.gov.br/buscanova/#/dom/p=1&q=" + "%22" + parametro + "%22";
                        window.open(url=link_dom_es, target="_blank", windowFeature='left=150,top=110,width=600,height=500');
                        
                        parametro = parametro.replaceAll(' ', '%20');
                        let link_dio_es = "https://ioes.dio.es.gov.br/buscanova/#/p=1&q=" + "%22" + parametro + "%22";
                        window.open(url=link_dio_es, target="_blank", windowFeature='left=100,top=80,width=600,height=500');

                        parametro = parametro.replaceAll('%20', '+');
                        let link_dou = "https://www.in.gov.br/consulta/-/buscar/dou?q=" + "%22" + parametro + "%22&s=todos&exactDate=all&sortType=0";
                        window.open(url=link_dou, target="_blank", windowFeature='left=50,top=50,width=600,height=500');

                    
                    // PESSOA JURÍDICA
                    } else if (sel[0].slice(0, 3) == 'PJ_') {
                        let parametro = nodes.get(sel[0]);
                        parametro = parametro.label
                        
                        parametro = parametro.replaceAll('%20', '+');
                        let link_jusbrasil = "https://www.jusbrasil.com.br/busca?q=" + '"' + parametro + '"';
                        window.open(url=link_jusbrasil, target="_blank", windowFeature='left=300,top=200,width=600,height=500');
                        
                        parametro = parametro.replaceAll(' ', '%20');
                        let link_portal_transp = "https://portaldatransparencia.gov.br/busca?termo=" + '"' + parametro + '"';
                        window.open(url=link_portal_transp, target="_blank", windowFeature='left=250,top=170,width=600,height=500');

                        parametro = parametro.replaceAll(' ', '%20');
                        let link_querido_diario = "https://queridodiario.ok.org.br/pesquisa?term=" + "%22" + parametro + "%22";
                        window.open(url=link_querido_diario, target="_blank", windowFeature='left=200,top=140,width=600,height=500');

                        parametro = parametro.replaceAll(' ', '%20');
                        let link_dom_es = "https://ioes.dio.es.gov.br/buscanova/#/dom/p=1&q=" + "%22" + parametro + "%22";
                        window.open(url=link_dom_es, target="_blank", windowFeature='left=150,top=110,width=600,height=500');
                        
                        parametro = parametro.replaceAll(' ', '%20');
                        let link_dio_es = "https://ioes.dio.es.gov.br/buscanova/#/p=1&q=" + "%22" + parametro + "%22";
                        window.open(url=link_dio_es, target="_blank", windowFeature='left=100,top=80,width=600,height=500');

                        parametro = parametro.replaceAll('%20', '+');
                        let link_dou = "https://www.in.gov.br/consulta/-/buscar/dou?q=" + "%22" + parametro + "%22&s=todos&exactDate=all&sortType=0";
                        window.open(url=link_dou, target="_blank", windowFeature='left=50,top=50,width=600,height=500');

                    }

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Pesquisa nó selecionado no DIO-ES, DOM-ES, DOU, Querido Diário, Portal da Transparência e Jusbrasil`, 3000);
                }

            } else if (event.key == 'D' && network.getSelectedNodes().length != 1) {
                tempAlert(`Tecla ${event.key} - Selecione um nó para pesquisar no DIO-ES, DOM-ES, DOU, Querido Diário, Portal da Transparência e Jusbrasil`, 3000);
            }
        });



        // ###############################################
        // DELETE NÓS SELECIONADOS - TECLA DEL / BACKSPACE
        // ###############################################

        var del_array = []
        var total_n = nodes.getIds();

        document.addEventListener('keydown', (event) => {
            if (event.key == "Delete" || event.key == "Backspace") {

                let sel = network.getSelectedNodes();

                // INSERIR VERIFICAÇÃO CONDICIONAL AQUI:
                if (sel.length > 0) {
                    network.deleteSelected(sel);

                    del_array = del_array.concat(sel);

                    // LIMPA n_bag REMOVENDO NÓS DELETADOS (CORRIGE PROBLEMA COM FIT APÓS ESPAÇO)
                    n_bag = n_bag.filter(x => !sel.includes(x));

                    let percentual = (del_array.length / total_n.length) * 100;
                    percentual = percentual.toFixed(1);

                    // INCLUIR AVISO PERMANENTE QUE NÓS FORAM DELETADOS
                    let el = document.createElement("div");

                    //el.setAttribute("style","position:absolute;top:70px;right:21px;border:5px solid rgba(255, 255, 123, 1);border-radius: 5px;background-color:rgba(255, 255, 123, 1);");
                    el.setAttribute("style","position:absolute;bottom:6px;right:19px;border:1px solid rgba(255, 255, 123, 1);border-radius: 1px;font-size: 10px;padding: 1;background-color:rgba(255, 255, 123, 1);");
                    
                    el.innerHTML = `Nós deletados (${del_array.length}/${total_n.length}) ${percentual}%`;
                    document.body.appendChild(el);

                    // INCLUÍDO PARA EVITAR ERRO APÓS DELETAR NÓS E RETIRAR O MOUSE DE CIMA DE NÓS ADJACENTES AOS QUE FORAM DELETADOS
                    network.unselectAll();

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Deleta nós selecionados (${sel.length})`, 3000);
                
                } else {
                    tempAlert(`Tecla ${event.key} - Selecione os nós que deseja deletar`, 3000);

                }

            }
        });



        // ###############################################
        // OCULTA E EXIBE LABELS DE TODOS OS NÓS - TECLA e
        // ###############################################

        var toggle_no = false
        var toggle_no_2 = false
        var toggle_no_3 = false
        var tecla_e_ativada = false
        document.addEventListener('keydown', (event) => {
            if (event.key == 'e') {

                // 0 0 0
                if (toggle_no_3 == false && toggle_no_2 == false && toggle_no == false) {
                    tecla_e_ativada = true
                    network.setOptions({
                        nodes: {
                            scaling: {
                                label: {
                                    enabled: true,
                                    min: 15,
                                    max: 15,
                                    drawThreshold: 100
                                }
                            },
                            physics: true
                        }
                    });
                    //network.stabilize();
                    //network.redraw();
                    toggle_no_3 = false
                    toggle_no_2 = false
                    toggle_no = true

                    setTimeout(() => {
                        network.redraw();
                    }, 100);

                    
                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Oculta rótulos dos nós`, 3000);

                // 0 0 1
                } else if (toggle_no_3 == false && toggle_no_2 == false && toggle_no == true) {
                    tecla_e_ativada = true
                    network.setOptions({
                        nodes: {
                            scaling: {
                                min: 30,
                                max: 30,
                                label: {
                                    enabled: true,
                                    min: 15,
                                    max: 15,
                                    drawThreshold: 8
                                }
                            },
                            physics: true
                        }
                    });
                    //network.stabilize();
                    //network.redraw();
                    toggle_no_3 = false
                    toggle_no_2 = true
                    toggle_no = false

                    setTimeout(() => {
                        network.redraw();
                    }, 100);

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Uniformiza tamanho dos nós`, 3000);
                    

                // 0 1 0
                } else if (toggle_no_3 == false && toggle_no_2 == true && toggle_no == false) {
                    tecla_e_ativada = true
                    network.setOptions({
                        nodes: {
                            scaling: {
                                min: 30,
                                max: 30,
                                label: {
                                    enabled: true,
                                    min: 15,
                                    max: 15,
                                    drawThreshold: 100
                                }
                            },
                            physics: true
                        }
                    });
                    //network.stabilize();
                    //network.redraw();
                    toggle_no_3 = false
                    toggle_no_2 = true
                    toggle_no = true

                    setTimeout(() => {
                        network.redraw();
                    }, 100);

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Oculta rótulos dos nós`, 3000);

                // 0 1 1
                } else if (toggle_no_3 == false && toggle_no_2 == true && toggle_no == true) {
                    tecla_e_ativada = true
                    network.setOptions({
                        nodes: {
                            scaling: {
                                min: 50,
                                max: 50,
                                label: {
                                    enabled: true,
                                    min: 15,
                                    max: 15,
                                    drawThreshold: 100
                                }
                            },
                            physics: true
                        }
                    });
                    //network.stabilize();
                    toggle_no_3 = true
                    toggle_no_2 = false
                    toggle_no = false

                    setTimeout(() => {
                        network.redraw();
                    }, 100);

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Aumenta tamanho dos nós`, 3000);

                // 1 0 0
                } else if (toggle_no_3 == true && toggle_no_2 == false && toggle_no == false) {
                    tecla_e_ativada = true
                    network.setOptions({
                        nodes: {
                            scaling: {
                                min: 70,
                                max: 70,
                                label: {
                                    enabled: true,
                                    min: 15,
                                    max: 15,
                                    drawThreshold: 100
                                }
                            },
                            physics: true
                        }
                    });
                    //network.stabilize();
                    toggle_no_3 = true
                    toggle_no_2 = false
                    toggle_no = true

                    setTimeout(() => {
                        network.redraw();
                    }, 100);

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Aumenta tamanho dos nós`, 3000);

                // 1 0 1
                } else if (toggle_no_3 == true && toggle_no_2 == false && toggle_no == true) {
                    tecla_e_ativada = true
                    network.setOptions({
                        nodes: {
                            scaling: {
                                min: 90,
                                max: 90,
                                label: {
                                    enabled: true,
                                    min: 15,
                                    max: 15,
                                    drawThreshold: 100
                                }
                            },
                            physics: true
                        }
                    });
                    //network.stabilize();
                    toggle_no_3 = true
                    toggle_no_2 = true
                    toggle_no = false

                    setTimeout(() => {
                        network.redraw();
                    }, 100);

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Aumenta tamanho dos nós`, 3000);

                // 1 1 0
                } else if (toggle_no == false && toggle_no_2 == true && toggle_no_3 == true) {
                    tecla_e_ativada = false
                    network.setOptions({
                        nodes: {
                            scaling: {
                                min: 20,
                                max: 100,
                                label: {
                                    enabled: true,
                                    min: 15,
                                    max: 40,
                                    drawThreshold: 8
                                }
                            },
                            physics: true
                        }
                    });
                    //network.stabilize();
                    //network.body.view.scale = 0.8
                    toggle_no_3 = false
                    toggle_no_2 = false
                    toggle_no = false

                    setTimeout(() => {
                        network.redraw();
                    }, 100);

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Retorna ao tamanho inicial dos nós`, 3000);
                }
            }
        });



        // ##############################
        // CENTRALIZA O GRAFO - TECLA ESC
        // ##############################

        document.addEventListener('keydown', (event) => {

            if (event.key == "Escape") {
                // network.fit();

                // DEPOIS - para física, estabiliza, ajusta com animação, reinicia física
                network.stopSimulation();

                setTimeout(() => {

                    network.fit({
                        animation: {
                            duration: 500,
                            easingFunction: 'easeInOutQuad'
                        }
                    });

                    // Move para o centro (0,0) mantendo o zoom atual
                    // network.moveTo({
                    //     position: {x: 0, y: 0},
                    //     animation: {
                    //        duration: 500,
                    //         easingFunction: 'easeInOutQuad'
                    //     }
                    // });

                    setTimeout(() => {
                        network.startSimulation();
                    }, 600);
                }, 100);

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} / Duplo Clique - Enquadra todos os nós`, 3000);
            }
        });



        // ###############################################
        // CONGELA E DESCONGELA NÓS SELECIONADOS - TECLA f
        // ###############################################

        // https://www.toptal.com/developers/keycode

        var fixos = [];
        document.addEventListener('keydown', (event) => {

            // Alterna congelamento dos nós selecionados
            if (event.key == "f" && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length > 0) {

                sel_f = network.getSelectedNodes();
                
                if (sel_f.length > 0) {

                    for (let i=0; i<sel_f.length; i++) {

                        // Se o nó selecionado não estiver em fixos, congela e inclui em fixos
                        if (network.body.nodes[sel_f[i]].options.font.background != 'yellow') {
                            nodes.update({id: sel_f[i], physics: false});
                            nodes.update({id: sel_f[i], font: {strokeColor: "transparent"}});
                            nodes.update({id: sel_f[i], font: {background: "yellow"}});
                            fixos.push(sel_f[i]);

                            // Exibe informações na tela
                            tempAlert(`Tecla ${event.key} - Fixa nós selecionados na área do grafo`, 3000);
                        }

                        // Se estiver, exclui de fixos e descongela
                        else if (network.body.nodes[sel_f[i]].options.font.background == 'yellow') {
                            nodes.update({id: sel_f[i], physics: true});
                            nodes.update({id: sel_f[i], font: {strokeColor: "#ffffff"}});
                            nodes.update({id: sel_f[i], font: {background: "transparent"}});
                            fixos.slice(sel_f[i], 1);

                            // Exibe informações na tela
                            tempAlert(`Tecla ${event.key} - Desafixa nós selecionados na área do grafo`, 3000);
                        }
                    }
                }

            } else if (event.key == "f" && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length == 0) {
                tempAlert(`Tecla ${event.key} - Selecione um ou mais nós para fixá-los na área do grafo`, 3000);
            }
        });



        // #####################################################################
        // AJUSTA ALTURA DA JANELA DE VISUALIZAÇÃO AO PRESSIONAR F11 - TECLA F11
        // #####################################################################

        // Só funciona na primeira vez que se aperta F11. No retorno, deve-se apertar tecla b

        document.addEventListener('keydown', (event) => {

            if (event.key == 'F11') {

                function f11() {
                    // EXTRAI DIMENSÕES DA JANELA DO NAVEGADOR
                    //let w = window.innerWidth;
                    let h = window.innerHeight;
                    
                    // AJUSTA ALTURA DA ÁREA DO GRAFO À ALTURA DA JANELA
                    document.querySelector('#mynetwork').style.height = h - 20;
                }
                setTimeout(f11, 200);

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Ativa/desativa modo tela cheia`, 3000);

            } 
        });



        // ##########################################
        // REALIZA PESQUISA GERAL NO GOOGLE - TECLA g
        // ##########################################

        document.addEventListener('keydown', (event) => {
            if (event.key == 'g' && network.getSelectedNodes().length == 1) {
                let sel = network.getSelectedNodes();
                for (let i=0; i<sel.length; i++) {
                    if (sel.length > 0) {
                        for (let i=0; i<sel.length; i++) {

                            if (sel[i].slice(0, 3) == 'PF_') {
                                let parametro = sel[i].slice(15);
                                parametro = parametro.replaceAll(' ', '+');
                                //console.log('parametro1:', parametro);
                                let link = "https://www.google.com/search?q=" + parametro + "&udm=50";
                                //console.log(link);
                                window.open(link, 'popup','left=50,top=100,width=600,height=600');

                            } else if (sel[i].slice(0, 3) == 'PJ_') {
                                let parametro = nodes.get(sel[i]);
                                parametro = parametro.label
                                parametro = parametro.replaceAll(' ', '+');
                                //console.log('parametro2:', parametro);
                                let link = "https://www.google.com/search?q=" + parametro + "&udm=50";
                                //console.log(link);
                                window.open(link, 'popup','left=50,top=100,width=600,height=600');
                            
                            } else if (sel[i].slice(0, 3) == 'PE_') {
                                let parametro = nodes.get(sel[i]);
                                parametro = parametro.id.slice(3)
                                parametro = parametro.replaceAll(' ', '+');
                                //console.log('parametro2:', parametro);
                                let link = "https://www.google.com/search?q=" + parametro + "&udm=50";
                                //console.log(link);
                                window.open(link, 'popup','left=50,top=100,width=600,height=600');

                            // PARA CONSULTA DE ENDEREÇO
                            } else if (sel[i].slice(0, 3) == "EN_") {
                                let endereco = sel[i].slice(3).replace();
                                endereco = endereco.replaceAll(' ', '+');
                                var link = "https://maps.google.com/search?q=" + endereco;
                                window.open(link, 'popup','left=50,top=100,width=600,height=600');

                            // PARA CONSULTA DE E-MAIL
                            } else if (sel[i].slice(0, 3) == "EM_") {
                                let email = sel[i].slice(3).replace();
                                email = email.replaceAll(' ', '+').replace('@', '%40');
                                var link = "https://maps.google.com/search?q=" + email;
                                window.open(link, 'popup','left=50,top=100,width=600,height=600');
                            }

                            // Exibe informações na tela
                            tempAlert(`Tecla ${event.key} - Pesquisa nó selecionado no Google (exceto TE)`, 3000);

                        }  
                    }
                }

            } else if (event.key == 'g' && network.getSelectedNodes().length != 1) {
                tempAlert(`Tecla ${event.key} - Selecione um nó para pesquisar no Google (exceto TE)`, 3000);
            }
        });



        // #############################################
        // REALIZA PESQUISA AVANÇADA NO GOOGLE - TECLA G
        // #############################################

        document.addEventListener('keydown', (event) => {
            if (event.key == 'G' && network.getSelectedNodes().length == 1) {
                let sel = network.getSelectedNodes();
                for (let i=0; i<sel.length; i++) {
                    if (sel.length > 0) {
                        for (let i=0; i<sel.length; i++) {

                            // PESSOA FÍSICA
                            if (sel[i].slice(0, 3) == 'PF_') {
                                let parametro = sel[i].slice(15);
                                parametro = parametro.replaceAll(' ', '+');
                                
                                let link_es_gov = "https://www.google.com/search?q=" + "site%3Aes.gov.br+" + '"' + parametro + '"';
                                window.open(url=link_es_gov, target="_blank", windowFeature='left=250,top=200,width=600,height=500');
                                
                                let link_gov = "https://www.google.com/search?q=" + "site%3Agov.br+" + '"' + parametro + '"';
                                window.open(url=link_gov, target="_blank", windowFeature='left=200,top=170,width=600,height=500');

                                let link_jus = "https://www.google.com/search?q=" + "site%3Ajus.br+" + '"' + parametro + '"';
                                window.open(url=link_jus, target="_blank", windowFeature='left=150,top=110,width=600,height=500');

                                let link_mp = "https://www.google.com/search?q=" + "site%3Amp.br+" + '"' + parametro + '"';
                                window.open(url=link_mp, target="_blank", windowFeature='left=100,top=80,width=600,height=500');

                                let link_tc = "https://www.google.com/search?q=" + "site%3Atc.br+" + '"' + parametro + '"';
                                window.open(url=link_tc, target="_blank", windowFeature='left=50,top=50,width=600,height=500');

                            
                            // PESSOA JURÍDICA
                            } else if (sel[i].slice(0, 3) == 'PJ_') {
                                let parametro = nodes.get(sel[i]);
                                parametro = parametro.label
                                parametro = parametro.replaceAll(' ', '+');
                                
                                let link_es_gov = "https://www.google.com/search?q=" + "site%3Aes.gov.br+" + parametro;
                                window.open(url=link_es_gov, target="_blank", windowFeature='left=250,top=170,width=600,height=500');

                                let link_gov = "https://www.google.com/search?q=" + "site%3Agov.br+" + parametro;
                                window.open(url=link_gov, target="_blank", windowFeature='left=200,top=140,width=600,height=500');
                                
                                let link_jus = "https://www.google.com/search?q=" + "site%3Ajus.br+" + parametro;
                                window.open(url=link_jus, target="_blank", windowFeature='left=150,top=110,width=600,height=500');

                                let link_mp = "https://www.google.com/search?q=" + "site%3Amp.br+" + parametro;
                                window.open(url=link_mp, target="_blank", windowFeature='left=100,top=80,width=600,height=500');

                                let link_tc = "https://www.google.com/search?q=" + "site%3Atc.br+" + parametro;
                                window.open(url=link_tc, target="_blank", windowFeature='left=50,top=50,width=600,height=500');

                            }

                            // Exibe informações na tela
                            tempAlert(`Tecla ${event.key} - Pesquisa nó selecionado (apenas PF e PJ) no Google nos domínios TC.br, MP.br, JUS.br, GOV.br e ES.GOV.br`, 3000);
                        }
                    }
                }

            } else if (event.key == 'G' && network.getSelectedNodes().length != 1) {
                tempAlert(`Tecla ${event.key} - Selecione um nó (apenas PF e PJ) para pesquisar no Google nos domínios TC.br, MP.br, JUS.br, GOV.br e ES.GOV.br`, 3000);
            }
        });



        // #####################################################
        // ABRE ARQUIVO HTML CONTENDO MANUAL DO SINARC - TECLA h
        // #####################################################

        document.addEventListener('keydown', (event) => {
            if (event.key == 'h') {

                // O nome 'popup_help' faz com que essa janela seja exclusiva, não sendo usada por outros popups do programa.
                window.open('help.html', 'popup_help','left=50,top=100,width=600,height=600');

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Abre manual do SINARC`, 3000);
            }
        });



        // ########################################
        // ALTERNA ENTRE NÓS SELECIONADOS - TECLA i
        // ########################################

        var counter = 0 // Deve iniciar com valor zero para funcionar
        document.addEventListener('keydown', (event) => {
            if (event.key == "i" && network.getSelectedNodes().length > 0) {
                
                let s = network.getSelectedNodes();
                console.log('s:', s);
                console.log('counter antes:', counter);
                
                //console.log('counter:', counter);
                console.log('s:', s[counter]);
                //network.fit({nodes: network.getConnectedNodes(s[counter]), maxZoomLevel: 0.7, minZoomLevel: 0.7});


                //if (s.length > 0 ) {
                //    network.setOptions({physics: {enabled: false}});
                //    let p = '';
                //    let num = 0;
                //    num = 700 + nodes.length / 10;
                //    console.log(num + 'ms');
                //    for (let i=0; i<s.length; i++) {
                //        esconde();
                //        p = network.getPosition(s[i]);
                //        network.moveTo({
                //            position: {x: p['x'], y: p['y']},
                //            scale: 1,
                //            offset: {x:0, y:0},
                //            animation: {
                //                duration: 500,
                //                easingFunction: 'linear'
                //            }
                //       });
                //        setTimeout(exibe, num);
                //        network.releaseNode();
                //    }
                //    network.setOptions({physics: {enabled: true}});

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Centraliza e alterna entre nós selecionados (${counter + 1}/${s.length})`, 3000);

                network.fit({nodes: [s[counter]], maxZoomLevel: 1, minZoomLevel: 1});
                if (counter == s.length - 1) {
                    counter = 0;
                } else if (counter < s.length) {
                    counter = counter + 1;
                }

                console.log('counter depois:', counter);

            } else if (event.key == "i" && network.getSelectedNodes().length == 0) {
                tempAlert(`Tecla ${event.key} - Selecione pelo menos um nó para centralizá-los na tela de forma alternada`, 3000);
            }
        });



        // ################################
        // ALTERNA SELEÇÃO DE NÓS - TECLA I
        // ################################

        var se_1 = [];
        var se_2 = [];
        var toggle_I = true

        document.addEventListener('keydown', (event) => {

            
            if (event.key == "I" && network.getSelectedNodes().length > 0 && toggle_I == true) {

                // EXTRAI NÓS SELECIONADOS
                se_1 = network.getSelectedNodes();

                // EXTRAI NÓS NÃO SELECIONADOS
                se_2 = nodes.getIds().filter(x => !se_1.includes(x));

                // SELECIONA NÓS QUE NÃO ESTAVAM SELECIONADOS
                network.selectNodes(se_2);

                // COR CINZA PARA OS RÓTULOS DOS NÓS SELECIONADOS
                for (let i=0; i<se_1.length; i++) {
                    nodes.update({id: se_1[i], font: {color: '#777777'}});
                }

                network.redraw();

                toggle_I = false

                tempAlert(`Tecla ${event.key} - Inverte seleção de nós (${se_2.length}/${nodes.getIds().length})`, 3000);

                
            } else if (event.key == "I" && network.getSelectedNodes().length > 0  && toggle_I == false) {
                
                network.unselectAll();

                // SELECIONA NÓS QUE NÃO ESTAVAM SELECIONADOS
                network.selectNodes(se_1);
                network.redraw();

                toggle_I = true

                tempAlert(`Tecla ${event.key} - Inverte seleção de nós (${se_1.length}/${nodes.getIds().length})`, 3000);

            } else if (event.key == "I" && network.getSelectedNodes().length == 0) {
                tempAlert(`Tecla ${event.key} - Selecione pelo menos um nó para inverter a seleção`, 3000);
            }

            // RETORNA COR CINZA PARA OS RÓTULOS DOS NÓS SELECIONADOS
            //for (let i=0; i<no_sel_pv.length; i++) {
            //    nodes.update({id: no_sel_pv[i], font: {color: '#777777'}});
            //}

        });



        // ###################################################
        // SELECIONA NÓS COMUNS AOS NÓS SELECIONADOS - TECLA j
        // ###################################################

        document.addEventListener('keydown', (event) => {
            if (event.key == "j" && network.getSelectedNodes().length >= 2) {
                let sel = network.getSelectedNodes();
                if (sel.length >= 2) {
                    let caixa = [];
                    for (let i=0; i<sel.length; i++) {
                        let temp = network.getConnectedNodes(sel[i]);
                        for (let k=0; k<temp.length; k++) {
                            caixa.push(temp[k]);
                        }    
                    }
                    let counts = {};
                    for (const num of caixa) {
                    counts[num] = counts[num] ? counts[num] + 1 : 1;
                    }
                    let comum = [];
                    for (const v in counts) {
                        if (counts[v] == sel.length) {
                            if (!(v in comum)) {
                                comum.push(v);
                            }
                        }
                    }
                    //console.log(comum);
                    network.unselectAll();
                    network.selectNodes(comum);

                    //network.fit({nodes: comum});

                    for (let i=0; i<sel.length; i++) {
                        nodes.update({id: sel[i], font: {color: '#777777'}});
                    }

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Seleciona nós adjacentes comuns (${comum.length})`, 3000);

                }

            } else if (event.key == "j" && network.getSelectedNodes().length < 2) {
                tempAlert(`Tecla ${event.key} - Selecione pelo menos dois nós`, 3000);
            }
        });



        // ###############################################################n
        // SELECIONA NÓS QUE NÃO SÃO COMUNS AOS NÓS SELECIONADOS - TECLA J
        // ###############################################################

        document.addEventListener('keydown', (event) => {
            if (event.key == "J" && network.getSelectedNodes().length >= 2) {

                let sel = network.getSelectedNodes();
                //console.log('sel:', sel)

                if (sel.length >= 2) {

                    let caixa = [];
                    for (let i=0; i<sel.length; i++) {
                        let temp = network.getConnectedNodes(sel[i]);
                        for (let k=0; k<temp.length; k++) {
                            caixa.push(temp[k]);
                        }    
                    }
                    let counts = {};
                    for (const num of caixa) {
                        counts[num] = counts[num] ? counts[num] + 1 : 1;
                    }
                    //console.log(counts);
                    
                    let comum = [];
                    for (const v in counts) {
                        if (counts[v] == sel.length) {
                            if (!(v in comum)) {
                                comum.push(v);
                            }
                        }
                    }
                    //console.log(comum);

                    let diff = caixa
                        .filter(x => !comum.includes(x))
                        .concat(comum.filter(x => !caixa.includes(x)));


                    let diff2 = diff.filter(x => !sel.includes(x));
                    console.log('diff2:', diff2);

                    //network.fit({nodes: diff2});


                    //diff = [...new Set(diff)];
                    //console.log('diff:', diff);
                    
                    network.unselectAll();
                    network.selectNodes(diff2);

                    //for (let j=0; j<sel.length; j++) {
                    //    network.body.nodes[sel[j]].selected = false;
                    //    network.redraw();
                    //}

                    for (let i=0; i<sel.length; i++) {
                        nodes.update({id: sel[i], font: {color: '#777777'}});
                    }

                    // Exibe informações na tela
                    //let n = nodes.getIds().length - comum.length - sel.length
                    
                    //tempAlert(`Tecla ${event.key} - Seleciona nós adjacentes que não são comuns (${diff2.length})`, 3000);
                    tempAlert(`Tecla ${event.key} - Seleciona nós adjacentes que não são comuns (${network.getSelectedNodes().length})`, 3000);

                }

            } else if (event.key == "J" && network.getSelectedNodes().length < 2) {
                tempAlert(`Tecla ${event.key} - Selecione pelo menos dois nós`, 3000);
            }
        });
        


        // ###############################
        // ALTERNA ENTRE LAYOUTS - TECLA k
        // ###############################

        var toggle_hieraquic = false
        var toggle_hieraquic_2 = false
        var toggle_hieraquic_3 = false
        document.addEventListener('keydown', (event) => {
            if (event.key == 'k') {

                if (network.physics.adaptiveTimestepEnabled == false) {
                    network.setOptions({"nodes": {"physics": true}})
                }

                //network.view.body.view.scale = 0.8;
                //network.fit();
                //network.redraw();
                
                // GRAFO NA HORIZONTAL (LEFT TO RIGHT)
                
                // 0 0 0
                if (toggle_hieraquic_3 == false && toggle_hieraquic_2 == false && toggle_hieraquic == false) {
                    network.setOptions({
                        layout: {
                            hierarchical: {
                                enabled: true,
                                levelSeparation: 500,
                                nodeSpacing: 100,
                                direction: "LR",
                                sortMethod: "directed",
                                shakeTowards: "leaves"
                            }
                        },
                        physics: {
                            hierarchicalRepulsion: {
                                centralGravity: 0
                            },
                            minVelocity: 0.75,
                            solver: "hierarchicalRepulsion",
                        }
                    });

                    setTimeout(() => {
                        document.dispatchEvent(new KeyboardEvent('keydown', {key: 'Escape'}));
                    }, 1000);
                    
                    //network.setOptions({physics: {enabled: false}});
                    //network.stabilize();
                    //setTimeout(() => {
                    //    network.redraw();
                    //    network.setOptions({physics: {enabled: true}});
                    //}, 1000);
                    
                    //network.setOptions({nodes: {physics: false}});
                    //network.setOptions({nodes: {physics: true}});

                    toggle_hieraquic_3 = false
                    toggle_hieraquic_2 = false
                    toggle_hieraquic = true
                    //console.log('direction: LR, sortMethod: directed, shakeTowaords: leaves');

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Layout hierárquico a partir das folhas (destino das setas)`, 3000);

                    

                // 0 0 1
                } else if (toggle_hieraquic_3 == false && toggle_hieraquic_2 == false && toggle_hieraquic == true) {
                    network.setOptions({
                        layout: {
                            hierarchical: {
                            enabled: true,
                            levelSeparation: 500,
                            nodeSpacing: 100,
                            direction: "LR",
                            sortMethod: "directed",
                            shakeTowards: "roots"
                            }
                        },
                        physics: {
                            hierarchicalRepulsion: {
                            centralGravity: 0
                            },
                            minVelocity: 0.75,
                            solver: "hierarchicalRepulsion",
                        }
                    });

                    setTimeout(() => {
                        document.dispatchEvent(new KeyboardEvent('keydown', {key: 'Escape'}));
                    }, 1000);
                    
                    //network.setOptions({physics: {enabled: false}});
                    //network.stabilize();
                    
                    //network.redraw();

                    network.setOptions({nodes: {physics: false}});
                    network.setOptions({nodes: {physics: true}});

                    //network.fit();
                    toggle_hieraquic_3 = false
                    toggle_hieraquic_2 = true
                    toggle_hieraquic = false
                    //console.log('direction: LR, sortMethod: directed, shakeTowaords: roots');

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Layout hierárquico a partir das raízes (origem das setas)`, 3000);

                // 0 1 0
                //} else if (toggle_hieraquic_3 == false && toggle_hieraquic_2 == true && toggle_hieraquic == false) {
                //    network.setOptions({
                //        layout: {
                //            hierarchical: {
                //            enabled: true,
                //            levelSeparation: 500,
                //            nodeSpacing: 100,
                //            direction: "LR",
                //            sortMethod: "hubsize",
                //            shakeTowards: "leaves"
                //            }
                //        },
                //        physics: {
                //            hierarchicalRepulsion: {
                //            centralGravity: 0
                //            },
                //            minVelocity: 0.75,
                //            solver: "hierarchicalRepulsion",
                //        }
                //    });
                    
                    //network.stabilize();
                    //network.setOptions({physics: {enabled: false}});
                    
                //    network.setOptions({nodes: {physics: false}});
                //    network.setOptions({nodes: {physics: true}});
                    //network.fit();
                //    toggle_hieraquic_3 = false
                //    toggle_hieraquic_2 = true
                //    toggle_hieraquic = true
                //    console.log('direction: LR, sortMethod: hubsize, shakeTowaords: leaves');

                // 0 1 0
                } else if (toggle_hieraquic_3 == false && toggle_hieraquic_2 == true && toggle_hieraquic == false) {
                    network.setOptions({
                        layout: {
                            hierarchical: {
                            enabled: false,
                            direction: "LR",
                            sortMethod: "directed",
                            shakeTowards: "leaves"
                            }
                        }
                    });
                    
                    network.setOptions({
                        edges: {
                            smooth: false
                        }
                    });
                    
                    network.setOptions({
                        physics: {
                            solver: 'barnesHut',
                            barnesHut: {
                            gravitationalConstant: -10000,
                            springLength: 200
                            },
                            minVelocity: 0.75
                        }
                    });


                    setTimeout(() => {
                        document.dispatchEvent(new KeyboardEvent('keydown', {key: 'Escape'}));
                    }, 1000);

                    //network.setOptions({physics: {enabled: true}});
                    //network.stabilize();
                    //network.fit();

                    // 1 second delay
                    //setTimeout(function(){
                    //    network.fit();
                    //}, 1000);

                    //network.view.body.view.scale = 0.8;
                    network.redraw();
    
                    toggle_hieraquic_3 = false
                    toggle_hieraquic_2 = false
                    toggle_hieraquic = false
                    //console.log('solver: BarnesHut');

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Layout gravitacional`, 3000);
                }

            }

            
            //network.view.body.view.scale = 0.8;
            //network.fit();
            //network.redraw();

        });

        //network.view.body.view.scale = 0.8;
        //network.fit();
        //network.redraw();



        // #####################################
        // EXIBE NOVOS LAYOUTS CRIADOS - TECLA K
        // #####################################

        // Criado com o auxílio do Chat GPT: criar código em Python que posicione n pontos de forma equidistante sobre uma circunferência no plano cartesiano
        // Validação realizada no site para plotagem de pontos no plano cartesiano: https://www.desmos.com/calculator?lang=pt-BR
        // O Critério adotado para ordenar os nós sobre a circunferência foi o número de conexões.
        
        var toggle_K = 0;

        document.addEventListener('keydown', (event) => {

            if (event.key == 'K' && toggle_K == 0) {

                network.physics.physicsEnabled = true;
                network.physics.startSimulation()
                
                let nos2 = nodes.getIds();
                
                // CALCULA PONTOS NA CIRCUNFERÊNCIA
                let n2 = nos2.length;

                // O multiplicador do raio (20) controla a separação entre os nós sobre a circunferência
                function pontosCircunferencia(n, R=n2 * 20) {
                    
                    let d = 2 * R * Math.sin(Math.PI / n2);
                    let pontos = [];
                    
                    for (let i = 0; i < n2; i++) {
                        let angulo = 2 * Math.PI * i / n2 - Math.PI / 2;
                        let x = R * Math.cos(angulo);
                        let y = R * Math.sin(angulo);
                        let ponto = [x, y];
                        pontos.push(ponto);
                    }
                    
                    let pontosDistancia = [];
                    
                    for (let i = 0; i < n2; i++) {
                        let pontoAtual = pontos[i];
                        let pontoAnterior = pontos[(i - 1 + n2) % n2];
                        let pontoProximo = pontos[(i + 1) % n2];
                        let distanciaAnterior = Math.sqrt(Math.pow((pontoAtual[0] - pontoAnterior[0]), 2) + Math.pow((pontoAtual[1] - pontoAnterior[1]), 2));
                        let distanciaProxima = Math.sqrt(Math.pow((pontoAtual[0] - pontoProximo[0]), 2) + Math.pow((pontoAtual[1] - pontoProximo[1]), 2));
                        if (Math.abs(distanciaAnterior - d) < 1e-9 && Math.abs(distanciaProxima - d) < 1e-9) {
                            pontosDistancia.push(pontoAtual);
                        }
                    }
                    
                    return pontosDistancia;
                }
                
                let pontos = pontosCircunferencia(n2);


                // Create a new array from the list of nodes
                const nodeArray = nodes.get({
                    fields: ['id']
                });
                
                // Sort the array of nodes based on their degree
                nodeArray.sort((a, b) => {
                const degreeA = edges.get({
                    filter: edge => edge.from === a.id || edge.to === a.id
                }).length;
                const degreeB = edges.get({
                    filter: edge => edge.from === b.id || edge.to === b.id
                }).length;
                return degreeB - degreeA;
                });

                
                // Extrai ids dos nós
                nos3 = [];
                for (let i=0; i<nodeArray.length; i++) {
                    nos3.push(nodeArray[i].id);
                }
                
                
                // ARREDONDA TUPLAS PARA DUAS CASAS DECIMAIS
                function arredondaTuplas(array) {
                let novoArray = [];
                for (let i = 0; i < array.length; i++) {
                    let tupla = [];
                    for (let j = 0; j < array[i].length; j++) {
                    tupla.push(parseFloat(array[i][j].toFixed(2)));
                    }
                    novoArray.push(tupla);
                }
                return novoArray;
                }
                
                lista = arredondaTuplas(pontos);
                
                
                // ALTERA A POSIÇÃO DOS NÓS
                for (let i=0; i<nos3.length; i++) { 
                network.body.nodes[nos3[i]].x = lista[i][0];
                network.body.nodes[nos3[i]].y = lista[i][1];
                }
                
                network.physics.physicsEnabled = false;
                network.physics.stopSimulation();
                
                network.redraw();

                network.fit();

                toggle_K = 1;

                tempAlert(`Tecla ${event.key} - Layout circular`, 3000);
            
            } else if (event.key == 'K' && toggle_K == 1) {

                network.physics.physicsEnabled = true;
                network.physics.startSimulation()

                toggle_K = 0;

                tempAlert(`Tecla ${event.key} - Layout gravitacional`, 3000);
                
            }
        });



        // ###################################
        // OCULTA LABELS DAS ARESTAS - TECLA l
        // ###################################

        var toggle_label = false
        var toggle_label_2 = false
        document.addEventListener('keydown', (event) => {
            if (event.key == 'l') {

                if (toggle_label == false && toggle_label_2 == false) {
                    network.setOptions({'edges': {'font': {'size': 0}}});
                    //console.log('Oculta texto das arestas')
                    //toggle_label = !toggle_label
                    toggle_label = true

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Oculta rótulos das arestas`, 3000);


                } else if (toggle_label == true && toggle_label_2 == false) {
                    network.setOptions({"edges": {"hidden": true}});
                    //console.log('Oculta arestas')
                    //toggle_label_2 = !toggle_label_2
                    toggle_label_2 = true

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Oculta arestas`, 3000);


                } else if (toggle_label == true && toggle_label_2 == true) {
                    //console.log('Reexibe arestas e textos')
                    network.setOptions({'edges': {'font': {'size': 15}}});
                    network.setOptions({"edges": {"hidden": false}});
                    toggle_label = false
                    toggle_label_2 = false

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Reexibe arestas e rótulos`, 3000);

                } 
            }
        });



        // ########################################
        // EXIBE DISTRIBUIÇÃO DAS ARESTAS - TECLA L
        // ########################################

        document.addEventListener('keydown', (event) => {
            
            if (event.key == 'L') {

                let ta = edges.getIds();
                let aa = [];
                for (let i=0; i<ta.length; i++) {
                    let temp = network.body.edges[ta[i]].title;
                    aa.push(temp);
                }
                
                
                const counts = {};
                for (const num of aa) {
                counts[num] = counts[num] ? counts[num] + 1 : 1;
                }
                
                
                let tex = `DISTRIBUIÇÃO DAS ARESTAS POR TIPO (${ta.length}):\n`;
                Object.keys(counts)
                    .sort()
                    .forEach(function(v, i) {
                        tex = tex + v + ': ' + counts[v] + '\n'
                    });
                
                alert(tex);

                tempAlert(`Tecla ${event.key} - Exibe distribuição das aresta por tipo (${ta.length})`, 3000);
            }
        });



        // ######################################################
        // AUMENTA MASSA DE TODOS OS NÓS EM 0.5 UNIDADE - TECLA m
        // ######################################################

        var massa = 1

        document.addEventListener('keydown', (event) => {

            if (event.key == 'm' && network.physics.options.solver == 'barnesHut') {

                if (network.physics.adaptiveTimestepEnabled == false) {
                    network.setOptions({"nodes": {"physics": true}})
                } 

                // AUMENTA MASSA EM 0.5               
                massa = massa + 0.5
                
                // AJUSTA A MASSA DE TODOS OS NÓS, EXCETO OS QUE JÁ TIVERAM AS MASSAS AJUSTADAS PELAS TECLAS n E N
                network.setOptions({
                    nodes: {
                        mass: massa
                    }
                });

                //network.selectNodes(nodes.getIds());

                network.redraw();

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Aumenta massa dos nós em 0.5 unidade (geral). Fator: ${massa}`, 3000);
            }

        });



        // ######################################################
        // DIMINUI MASSA DE TODOS OS NÓS EM 0.5 UNIDADE - TECLA M
        // ######################################################

        // Variável 'massa' foi declarada na tecla anterior

        document.addEventListener('keydown', (event) => {

            if (event.key == 'M' && network.physics.options.solver == 'barnesHut') {

                if (network.physics.adaptiveTimestepEnabled == false) {
                    network.setOptions({"nodes": {"physics": true}})
                }

                massa = massa - 0.5

                if (massa <= 1) {
                    massa = 1
                }

                // AJUSTA A MASSA DE TODOS OS NÓS, EXCETO OS QUE JÁ TIVERAM AS MASSAS AJUSTADAS PELAS TECLAS n E N
                network.setOptions({
                    nodes: {
                        mass: massa
                    }
                });

                network.redraw();

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Reduz massa dos nós em 0.5 unidade (geral). Fator: ${massa}`, 3000);
            }
        });



        // #######################################################
        // AUMENTA MASSA DOS NÓS COM TAMANHO ACIMA DE 40 - TECLA n
        // #######################################################

        // A partir do momento em que se altera as massas dos nós com as teclas n e N, as teclas m e M passam a não mais atuar sobre esse nós.
        // Enquanto as teclas n e N não forem acionadas, as teclas m e M atuam sobre todos os nós.

        var par_n = 1

        document.addEventListener('keydown', (event) => {

            if (event.key == 'n' && network.physics.options.solver == 'barnesHut') {

                if (network.physics.adaptiveTimestepEnabled == false) {
                    network.setOptions({"nodes": {"physics": true}})
                }
                
                let nod = nodes.getIds();

                let sel_e = []

                for (let i=0; i<nod.length; i++) {

                    let size = network.body.nodes[nod[i]].options.size

                    if (size >= t_ref) {
                        sel_e.push(nod[i])
                    }

                    if (size >= t_ref) {

                        // AUMENTA EM 5
                        nodes.update({
                            id: nod[i],
                            mass: par_n + 5
                        });
                    }
                }

                network.selectNodes(sel_e);

                // AUMENTA EM 5
                par_n = par_n + 5

                network.redraw();

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Aumenta massa dos nós com tamanho >= ${t_ref} em 5 unidades. Fator: ${par_n} (${network.getSelectedNodes().length})`, 3000);

            }
        })



        // ##########################################################
        // REDUZ A MASSA DOS NÓS COM TAMANHO ACIMA DO t_ref - TECLA N
        // ##########################################################

        // A variável global 'par_n' foi criada na tecla anterior (Tecla n)

        document.addEventListener('keydown', (event) => {

            if (event.key == 'N' && network.physics.options.solver == 'barnesHut') {

                if (network.physics.adaptiveTimestepEnabled == false) {
                    network.setOptions({"nodes": {"physics": true}})
                }

                // REDUZ EM 5
                par_n = par_n - 5

                if (par_n <= 1) {
                    par_n = 1;
                }

                let nod = nodes.getIds();

                let sel_e = [];

                for (let i=0; i<nod.length; i++) {

                    let size = network.body.nodes[nod[i]].options.size

                    if (size >= t_ref) {
                        sel_e.push(nod[i])
                    }

                    if (size >= t_ref) {
                        nodes.update({id: nod[i], mass: par_n});
                    }
                }

                network.selectNodes(sel_e);

                network.redraw();
                
                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Reduz massa dos nós com tamanho >= ${t_ref} em 5 unidades. Fator: ${par_n} (${network.getSelectedNodes().length})`, 3000);
            }
        })



        // ###############################################################
        // COPIA NÓS E NÚMERO DE CAMADAS PARA A ÁREA DE TRABALHO - TECLA o
        // ###############################################################

        document.addEventListener('keydown', (event) => {

            if (event.key == 'o' && network.getSelectedNodes().length > 0) {

                let get_sel = network.getSelectedNodes();


                let num_cam = prompt("Digite o número de camadas adjacentes (ENTER para 1 camada):");

                // INTERROMPE FUNÇÃO SE O BOTÃO "CANCELA" FOR PRESSIONADO
                if (num_cam == null) {
                    return;
                }


                //let del_te_en_em = ''
                //del_te_en_em = confirm("Deseja excluir Telefones, Endereços e E-mails?");



                let conf_destaca = ''
                if (get_sel.length > 1) {
                    conf_destaca = confirm("Deseja destacar caminhos mais curtos entre os nós?");
                }

                async function copyOperation(num_cam) {
                    await navigator.clipboard.writeText(num_cam)
                };

                let temp = [];
                for (let i = 0; i < get_sel.length; i++) {
                    let j = get_sel[i] + "***" + num_cam + "***" + conf_destaca;
                    temp.push(j);
                }

                setTimeout(() => {copyOperation(temp)}, 500)

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Carrega nós selecionados em nova aba (${temp.length})`, 3000);
            
            } else if (event.key == 'o' && network.getSelectedNodes().length == 0) {
                tempAlert(`Tecla ${event.key} - Selecione um ou mais nós para abri-los em nova aba`, 3000);
            }
        });



        // ###############################################################
        // CONSULTA PELA EXISTÊNCIA DE FILIAIS DO NÓ SELECIONADO - TECLA O
        // ###############################################################

        document.addEventListener('keydown', (event) => {

            if (event.key == 'O' && network.getSelectedNodes().length == 1) {
                
                let sel = network.getSelectedNodes();
                
                //if (sel.length > 1) {
                //    alert('Selecione apenas uma pessoa jurídica.')
                //    return;
                //}

                let texto = '';
                
                // APENAS PESSOAS JURÍDICAS
                if (sel.length == 1 && ((sel[0].slice(0, 3) == 'PJ_') || (sel[0].slice(0, 3) == 'PE_'))) {

                    texto = '#_#' + sel[0].slice(3, 11) + '@' + '9999' + '#_#';

                    //console.log(texto);

                    async function copyOperation(num_cam) {
                        await navigator.clipboard.writeText(num_cam);
                    }
                    setTimeout(() => {copyOperation(texto)}, 500);

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Carrega todas as filiais do nó selecionado em nova aba`, 3000);
                
                //} else {
                    //alert('Para consulta de filiais, selecione uma - e apenas uma - pessoa juridica.');
                    // Exibe informações na tela
                //    tempAlert(`Tecla ${event.key} - ALERTA: Para consultar filiais, selecione uma - e apenas uma - pessoa jurídica`, 3000);

                }

            } else if (event.key == 'O' && network.getSelectedNodes().length != 1) {
                    tempAlert(`Tecla ${event.key} - Selecione uma pessoa jurídica para abrir suas filiais em nova aba`, 3000);
            }

            //};
        });



        // ###################################
        // ATIVA/DESATIVA PHYSICS - TECLA p
        // ###################################

        document.addEventListener('keydown', (event) => {
            if (event.key == 'p') {

                if (network.physics.physicsEnabled == true) {
                    network.physics.physicsEnabled = false;
                    network.physics.stopSimulation();

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Para a interação gravitacional (congela todos os nós)`, 3000);

                } else if (network.physics.physicsEnabled == false) {
                    network.physics.physicsEnabled = true;
                    network.physics.startSimulation();

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Retoma a interação gravitacional (descongela todos os nós)`, 3000);

                }

            }
        });



        // #########################################
        // CONSULTA LIVRE DOS NÓS NO GRAFO - TECLA q
        // #########################################

        // Realiza consulta nos textos dos labels e dos ids dos nós e das arestas. Após a consulta, usar tecla I para alternar entre os nós selecionados.

        var target_id = [];
        //var nodLista = [];
        var con = [];
        
        document.addEventListener('keydown', (event) => {

            if (event.key == 'q') {

                let a = network.getSelectedNodes();
                let temp = '';
                if (a.length == 1) {
                    temp = `id selecionado: ${network.body.nodes[a[0]].id}\n`
                }

                // ZERA VARIÁVEL GLOBAL. EXIGIDO PELO SCRITP SEGUINTE (TECLA I)
                counter = 0

                let text = prompt(temp + "Digite o texo a ser localizado nos rótulos e nos ids dos NÓS:");
                //console.log('Termo pesquisado:', text);

                // SE FOR FORNECIDO ALGUM PARÂMETRO
                if (text != '') {
                    let a = nodes.getIds();
                    //let target_id = [];
                    //let con = [];
                    for (var i=0; i<a.length; i++) {
                        if (nodes.get(a[i])['label'].toLowerCase().includes(text.toLowerCase()) || a[i].toLowerCase().includes(text.toLowerCase())) {
                            let temp = network.getConnectedNodes(a[i]);
                            con = con.concat(temp);
                            con = con.concat([a[i]])
                            target_id.push(a[i]);
                        }
                    }

                    // Elimina duplicidades
                    con = [...new Set(con)];
                    target_id = [...new Set(target_id)];

                    network.selectNodes(target_id);

                    //console.log('con:', con);
                    //network.fit({nodes: con, maxZoomLevel: 0.7, minZoomLevel: 0.7});

                    if (con.length > 0) {
                        network.fit({nodes: con});
                    }
                    //network.fit({nodes: target_id});

                    //console.log('Itens localizados:', target_id);
                    //alert(target_id.length.toString() + ' itens localizados');

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Pesquisa por "${text}" nos nós (${target_id.length})`, 3000);


                // SE NÃO FOR FORNECIDO NENHUM PARÂMETRO
                } else if (text == '') {

                    let a = edges.getIds();
                    let edgLista = [];
                    let param = prompt('Digite o texo a ser localizado nos rótulos das ARESTAS:');

                    if (param == '') {
                        return;
                    }
                    
                    for (let i=0; i<a.length; i++) {
                        if (network.body.edges[a[i]].options.label != undefined) {
                            let temp = network.body.edges[a[i]].options.label;
                            temp = temp.toLowerCase();
                            
                            function removeAccents(str) {
                                const accents = "ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž";
                                const accentsOut = "AAAAAAaaaaaaOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz";
                                str = str.split('');
                                str.forEach((letter, index) => {
                                    const i = accents.indexOf(letter);
                                    if (i !== -1) {
                                    str[index] = accentsOut[i];
                                    }
                                });
                                return str.join('');
                            }
                            temp = removeAccents(temp)
                                
                            param = param.toLowerCase();
                            if (temp.includes(param)) {
                                edgLista.push(network.body.edges[a[i]].id);
                            }
                        }
                    }
                    
                    let nodLista = [];
                    for (let i=0; i<edgLista.length;i++) {
                        nodLista.push(network.body.edges[edgLista[i]].fromId);
                        target_id.push(network.body.edges[edgLista[i]].fromId);
                    }
                    
                    for (let i=0; i<nodLista.length; i++) {
                        let temp = network.getConnectedNodes(nodLista[i]);
                        con = con.concat(temp);
                    }

                    con = con.concat(target_id);

                    // Elimina duplicidades
                    con = [...new Set(con)];
                    target_id = [...new Set(target_id)];

                    //network.selectNodes(nodLista);

                    //target_id = target_id.concat(nodLista);

                    network.selectNodes(target_id);

                    if (con.length > 0) {
                        network.fit({nodes: con});
                    }

                    //tempAlert(`Tecla ${event.key} - Pesquisa por "${param}" nas arestas (${nodLista.length})`, 3000);
                    tempAlert(`Tecla ${event.key} - Pesquisa por "${param}" nas arestas (${target_id.length})`, 3000);

                }

                
            }
        });



        // ############################
        // SELECIONA NÓS-ALVOS - TECLA Q
        // ############################

        document.addEventListener('keydown', (event) => {
            if (event.key == 'Q') {
                let todos = nodes.getIds();
                let nos_sel = []
                for (let i=0; i<todos.length; i++) {
                    let node = network.body.nodes[todos[i]];
                    if (node.shape.options.color.border == 'red') {
                        nos_sel.push(todos[i]);
                    }
                }
                network.selectNodes(nos_sel);

                if (nos_sel.length > 0) {
                    tempAlert(`Tecla ${event.key} - Seleciona nós-alvos (${nos_sel.length})`, 3000);
                } else if (nos_sel.length == 0) {
                    tempAlert(`Tecla ${event.key} - Não há nós-alvos no grafo`, 3000);
                }
            }
        });



        // ########################################################
        // DELETA TODOS OS NÓS QUE NÃO ESTÃO SELECIONADOS - TECLA r
        // ########################################################

        document.addEventListener('keydown', (event) => {
    
            if (event.key == "r" && network.getSelectedNodes().length > 0) {

                if (network.getSelectedNodes().length > 0) {

                    let n_1 = network.getSelectedNodes();

                    let tudo_1 = nodes.getIds();

                    let diff_2 = tudo_1.filter(x => !n_1.includes(x));

                    network.selectNodes(diff_2)

                    network.deleteSelected();

                    temp = nodes.getIds();

                    for (let i=0; i<temp.length; i++) {
                        nodes.update({id: temp[i], font: {color: '#777777'}})
                    }

                    network.unselectAll();

                    // VARIÁVEL GLOBAL DEFINIDA NA FUNÇÃO DA TECLA DEL
                    del_array = del_array.concat(diff_2);

                    // LIMPA n_bag REMOVENDO NÓS DELETADOS (CORRIGE PROBLEMA COM FIT APÓS ESPAÇO)
                    n_bag = n_bag.filter(x => !diff_2.includes(x));

                    // total_n: VARIÁVEL GLOBAL DENIFINDA NA FUNÇÃO DA TECLA DEL
                    let percentual = (del_array.length / total_n.length) * 100;
                    percentual = percentual.toFixed(1);

                    // INCLUIR AVISO PERMANENTE QUE NÓS FORAM DELETADOS
                    let el = document.createElement("div");
                    el.setAttribute("style","position:absolute;top:70px;right:21px;border:5px solid rgba(255, 255, 123, 1);border-radius: 5px;background-color:rgba(255, 255, 123, 1);");
                    el.innerHTML = `Nós deletados (${del_array.length}/${total_n.length}) ${percentual}%`;
                    document.body.appendChild(el);

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Deleta nós não selecionados (${diff_2.length})`, 3000);
                }

            } else if (event.key == "r" && network.getSelectedNodes().length == 0) {
                tempAlert(`Tecla ${event.key} - Selecione os nós que devem permanecer no grafo`, 3000);
            }
        });



        // ###############################################################################
        // EXIBE APENAS NÓS E ARESTAS DOS CAMINHOS MAIS CURTOS ENTRE OS NÓS-ALVOS - TECLA R
        // ###############################################################################

        var e_color = [];
        document.addEventListener('keydown', (event) => {
    
            if (event.key == "R") {

                // EXTRAI ARESTAS COLORIDAS
                //let e = edges.getIds();
                let e = edges.getIds().filter(id => network.body.edges[id] !== undefined);
                
                //let e_color = [];
                for (let i=0; i<e.length; i++) {
                    let temp = network.body.edges[e[i]].options.width
                    if (temp == 8) {
                        e_color.push(e[i]);
                    }
                }

                if (e_color.length > 0) {
                
                    // EXTRAI NÓS CONECTADOS ÀS ARESTAS COLORIDAS
                    let n_color = [];
                    for (let i=0; i<e_color.length; i++) {
                        let temp = network.getConnectedNodes(e_color[i]);
                        for (let k=0; k<temp.length; k++) {
                            n_color.push(temp[k]);
                        }
                    }
                    
                    
                    // ELIMINA DUPLICIDADES
                    n_color = [...new Set(n_color)];
                    

                    // CALCULA DIFERENÇA E DELETA
                    let n_diff = nodes.getIds().filter(x => !n_color.includes(x));
                    network.setSelection({nodes: n_diff})
                    network.deleteSelected();
                    
                    let e_diff = edges.getIds().filter(x => !e_color.includes(x));	
                    network.setSelection({edges: e_diff})
                    network.deleteSelected();

                    // VARIÁVEL GLOBAL DEFINIDA NA FUNÇÃO DA TECLA DEL
                    del_array = del_array.concat(n_diff);

                    // LIMPA n_bag REMOVENDO NÓS DELETADOS (CORRIGE PROBLEMA COM FIT APÓS ESPAÇO)
                    n_bag = n_bag.filter(x => !diff_2.includes(x));

                    // total_n: VARIÁVEL GLOBAL DENIFINDA NA FUNÇÃO DA TECLA DEL
                    let percentual = (del_array.length / total_n.length) * 100;
                    percentual = percentual.toFixed(1);

                    // INCLUIR AVISO PERMANENTE QUE NÓS FORAM DELETADOS
                    let el = document.createElement("div");
                    el.setAttribute("style","position:absolute;top:70px;right:21px;border:5px solid rgba(255, 255, 123, 1);border-radius: 5px;background-color:rgba(255, 255, 123, 1);");
                    el.innerHTML = `Nós deletados (${del_array.length}/${total_n.length}) ${percentual}%`;
                    document.body.appendChild(el);

                    setTimeout(() => {
                        document.dispatchEvent(new KeyboardEvent('keydown', {key: 'Escape'}));
                    }, 1000);
                    
                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Exibe apenas nós interligados por arestas coloridas (${n_color.length})`, 3000);
                
                } else if (e_color.length == 0) {
                    tempAlert(`Tecla ${event.key} - Não há nós interligados por arestas coloridas`, 3000);
                }
            }
        })

        


        // ###################################
        // RECEBE CONSULTA LIVRE - TECLA s
        // ###################################

        document.addEventListener('keydown', (event) => {

            let texto = '';
            if (event.key == 's') {

                let a = network.getSelectedNodes();
                let temp = '';
                if (a.length == 1) {
                    temp = `id selecionado: ${network.body.nodes[a[0]].id}\n`
                }
                //console.log(temp)

                let texto = prompt(temp + "Texto para consulta livre (curingas de palavras: * ):");

                //console.log(texto);
                if (texto != null && texto != '') {
                    async function copyOperation(texto) {
                        await navigator.clipboard.writeText(texto)
                    }

                    // Exibe informações na tela
                    tempAlert(`Tecla ${event.key} - Realiza consulta livre por "${texto}"`, 3000);

                    texto = '#_#' + texto + '#_#';
                    setTimeout(() => {copyOperation(texto)}, 1000);
                    //console.log('Texto copiado:', texto);

                }
            }
        });



        //function ajusta_altura() {

        //    // EXTRAI DIMENSÕES DA JANELA DO NAVEGADOR
        //    var w = window.innerWidth;
        //    let h = window.innerHeight;

        //    // AJUSTA ALTURA DA ÁREA DO GRAFO À ALTURA DA JANELA
        //    document.querySelector('#mynetwork').style.height = h - 20;
        //};

        //setTimeout(() => {ajusta_altura()}, 0);



        // ###############################################################################
        // CARREGA NÓS SELECIONADOS EM NOVA ABA (1 CAMADA, SEM DESTAQUE/SEM SOM) - TECLA S
        // ###############################################################################
        document.addEventListener('keydown', (event) => {
 
            // Verifica se a tecla pressionada é 'S' (maiúscula)
            if (event.key == 'S' && network.getSelectedNodes().length > 0) {
                let sel = network.getSelectedNodes();
                let num_cam = 1; // Fixo em 1 camada
 
                // Define explicitamente para desativar o destaque de arestas, o que também desativa o beep de conexão.
                // O valor 'false' será capturado pelo backend Python para definir destacar_ligacoes = False.
                let conf_destaca = 'false';
 
                // Junta os IDs dos nós selecionados usando ';' como separador
                let selected_ids = sel.join(';');
 
                // Formata a string com delimitadores #_# para acionar a "Consulta Livre"
                // e evitar o destaque das bordas em vermelho.
                let texto_consulta = '#_#' + selected_ids + '#_#';
 
                // A estrutura final inclui o texto_consulta, o número de camadas e a instrução 'false'
                let parametro_final = texto_consulta + '***' + num_cam + '***' + conf_destaca;
 
                async function copyOperation(param) {
                    await navigator.clipboard.writeText(param) // Comunica com o backend via clipboard
                };
 
                // Copia o parâmetro para a área de transferência
                setTimeout(() => {copyOperation(parametro_final)}, 500);
 
                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Exibe nós selecionados (${sel.length}) em ${num_cam} camada(s) sem destaque`, 3000);
 
            } else if (event.key == 'S' && network.getSelectedNodes().length == 0) {
 
                // Exibe alerta se nenhum nó estiver selecionado
                tempAlert(`Tecla ${event.key} - Selecione um ou mais nós para abri-los em nova aba`, 3000);
            }
        });









        // ########################################
        // EXIBE IMAGENS DOS NÓS POR TIPO - TECLA t
        // ########################################

        // 15 itens (0 a 14)
        var img_names = ['pf_homem.png',
                        'pf_homem_com_bandeira.png',
                        'pf_mulher.png',
                        'pf_mulher_com_bandeira.png',
                        'pj_brasil_ativa.png',
                        'pj_brasil_ativa_com_bandeira.png', 
                        'pj_brasil_inativa.png',
                        'pj_brasil_inativa_com_bandeira.png',
                        'pj_exterior_ativa.png',
                        'pj_exterior_ativa_com_bandeira.png', 
                        'pj_exterior_inativa.png', 
                        'pj_exterior_inativa_com_bandeira.png', 
                        'endereco.png', 
                        'telefone.png',
                        'email.png'
                        ]

        var cont_t = 0
        var temp_t = nodes.getIds();

        document.addEventListener('keydown', (event) => {
            
            if (event.key == 't' && network.physics.options.solver == 'barnesHut') {
                
                network.physics.physicsEnabled = false;
                network.physics.stopSimulation();
                
                // EXECUTAR APENAS UMA VEZ
                if (cont_t == 0) {
                    network.setOptions({nodes: {opacity: 0.1}, edges: {hidden: true}});
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Ativa modo transparência por tipos de nós - oculta rede (${temp_t.length})`, 3000);

                    
                } else if (cont_t == 1) {
                    let temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[0]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe homens (${temp.length}/${nodes.getIds().length})`, 3000);
                    

                    
                } else if (cont_t == 2) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[1]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[0]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe homens com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 3) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[2]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[1]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe mulheres (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 4) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[3]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[2]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe mulheres com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 5) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[4]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[3]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe PJs ativas domiciliadas no Brasil (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 6) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[5]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[4]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe PJs ativas domiciliadas no Brasil com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 7) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[6]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[5]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe PJs inativas domiciliadas no Brasil (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 8) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[7]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[6]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe PJs inativas domiciliadas no Brasil com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);
                

                } else if (cont_t == 9) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[8]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[7]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe PJs ativas domiciliadas no exterior (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 10) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[9]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[8]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe PJs ativas domiciliadas no exterior com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 11) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[10]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[9]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe PJs inativas domiciliadas no exterior (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 12) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[11]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[10]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe PJs inativas domiciliadas no exterior com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 13) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[12]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[11]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe endereços (${temp.length}/${nodes.getIds().length})`, 3000);

                    
                } else if (cont_t == 14) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[13]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[12]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe telefones (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t == 15) {
                    temp = [];
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[14]) {
                            nodes.update({id: temp_t[i], opacity: 1});
                            temp.push(temp_t[i]);
                        } else if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[13]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = cont_t + 1;
                    tempAlert(`Tecla ${event.key} - Exibe e-mails (${temp.length}/${nodes.getIds().length})`, 3000);

                    
                } else if (cont_t == 16) {
                    //window.location.reload();
                    for (var i = 0; i < temp_t.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t[i]].options.image.split('\\').at(-1) == img_names[14]) {
                            nodes.update({id: temp_t[i], opacity: 0.1});
                        }
                    }
                    cont_t = 1;
                    tempAlert(`Tecla ${event.key} - Oculta rede (${temp_t.length})`, 3000);
                }

                //network.physics.physicsEnabled = true;
                //network.physics.startSimulation();
            }
        });



        // ##################################
        // ATIVA MODO TRANSPARÊNCIA - TECLA T
        // ##################################

        //var toggle_T = true;
        var con_t = [];
        var edg_t = [];
        var con_sel = [];
        var edg_sel = []

        document.addEventListener('keydown', (event) => {

            //  SÓ FUNCIONA NO MODO BARNES-HUT
            if (event.key == 'T' && network.physics.options.solver == 'barnesHut') {

                network.physics.physicsEnabled = false;
                network.physics.stopSimulation();

                // TORNA TODOS OS NÓS E ARESTAS TRANSPARENTES
                network.setOptions({nodes: {opacity: 0.1}, edges: {hidden: true}});

                // AO FICAR EM CIMA DO NÓ
                network.on('hoverNode', function f(params) {

                    // EXTRAI NÓS CONECTADOS AO NÓ HOVER (con_t)
                    let node = params.node;
                    //console.log('hover node:', node);
                    con_t = network.getConnectedNodes(node);
                    con_t = con_t.concat(node);
                    //console.log('con_t:', con_t);

                    // EXTRAI ARESTAS CONECTADAS AO NÓ HOVER (edg_t)
                    edg_t = network.getConnectedEdges(node);
                    //console.log('edg_t:', edg_t);

                    // FAZ APARECER NÓS CONECTADOS AO NÓ HOVER
                    for (let i=0; i<con_t.length; i++) {
                        nodes.update({id: con_t[i], opacity: 1});
                    }

                    // FAZ APARECER ARESTAS CONECTADAS AO NÓ HOVER
                    for (let i=0; i<edg_t.length; i++) {
                        edges.update({id: edg_t[i], hidden: false});
                    }
                });

                // A SELEÇÃO DOS NÓS OCORRE POR MEIO DE OUTRO SCRIPT (CLICK)
                

                // ######################################################### ACIMA ESTÁ OK!

                // AO SAIR DE CIMA DO NÓ
                network.on('blurNode', function f(params) {

                    // OBTÉM NÓ BLUR (APENAS UM)
                    let blur_node = params.node;

                    // OBTÉM ARRAY DE NÓS CONECTADOS AOS NÓS SELECIONADOS (PODE SER MAIS DE UM)
                    let sel = network.getSelectedNodes();

                    // SE O NÓ BLUR ESTIVER ENTRE OS NÓS SELECIONADOS, ADICIONA OS NÓS E ARESTAS CONECTADOS AOS ARRAYS con_sel E edg_sel
                    for (let i=0; i<sel.length; i++) {                
                        if (blur_node == sel[i]) {
                            
                            //for (let j=0; j<sel.length; j++) {
                            let temp = network.getConnectedNodes(sel[i]);
                            con_sel = con_sel.concat(temp);
                            con_sel = con_sel.concat(sel[i]);
                            //}
                            //console.log('con_sel:', con_sel);
                
                            // OBTÉM ARESTAS CONECTADAS AO NÓ SELECIONADO
                            //for (let k=0; k<con_sel.length; k++) {
                            temp = network.getSelectedEdges(con_sel[i]);
                            edg_sel = edg_sel.concat(temp);
                            //}
                            //console.log('edg_sel:', edg_sel);
                        }
                    }

                    // SE NÃO TIVER NÓ SELECIONADO, FAZ OS NÓS E ARESTAS (con_t e edg_t) VOLTAREM A FICAR TRANSPARENTES
                    if (con_sel.length == 0) {
                        for (let i=0; i<con_t.length; i++) {
                            nodes.update({id: con_t[i], opacity: 0.1});
                        }
                        for (let i=0; i<edg_t.length; i++) {
                            edges.update({id: edg_t[i], hidden: true});
                        }

                    // SE TIVER NÓS E ARESTAS SELECIONADOS, SUBTRAI NÓS E ARESTAS SELECIONADOS (con_sel E edg_sel) DOS NÓS E ARESTAS CONTIDOS EM con_t E OS FAZ TRANSPARENTES
                    } else if (con_sel.length > 0) {
                        let diff_node = con_t.filter(x => !con_sel.includes(x));
                        for (let i=0; i<diff_node.length; i++) {
                            nodes.update({id: diff_node[i], opacity: 0.1});
                        }

                        // FALTA FAZER COM QUE AS ARESTAS DESAPAREÇAM APÓS BLUR
                        let diff_edg = edg_t.filter(x => !edg_sel.includes(x));
                        for (let i=0; i<diff_edg.length; i++) {
                            edges.update({id: diff_edg[i], hidden: true});
                        }
                    }
                });
                //toggle_T = false;

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Ativa modo transparência por conexões - oculta rede`, 3000);
                
            } else if (event.key == 'T' && network.physics.options.solver == 'barnesHut') {
                window.location.reload();               
                //ajusta_altura();
                //toggle_T = true;

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Desativa modo transparência`, 3000);
            }
        });



        // ####################################
        // EXIBE CENTRALIDADE DOS NÓS - TECLA u
        // ####################################

        // Encontrar uma forma de passar a informação apenas uma vez e não em todos os nós PJ
        // Descobrir forma de exibir informações em outro elemento e não mais em alert

        document.addEventListener('keydown', (event) => {
            if (event.key == "u") {

                let n = nodes.getIds();
                for (let i=0; i<n.length; i++) {
                    if (n[i].slice(0, 3) == 'PJ_') {
                        
                        // As informações exibidas estão no atributo 'algoritmos' de todos os nós PJ
                        let temp = network.body.nodes[n[i]].options.algoritmos;
                        alert(temp)
                        break;
                    }
                }

                // Exibe informações na tela (não está exibindo)
                tempAlert(`Tecla ${event.key} - Exibe informações sobre as medidas de centralidade`, 3000);
            }
        });



        // ################################################
        // EXIBE DISTRIBUIÇÃO DOS NÓS POR TAMANHO - TECLA U
        // ################################################

        //var a_tudo = nodes.getIds();
        var a_tudo = []

        document.addEventListener('keydown', (event) => {

            a_tudo = nodes.getIds();
            
            if (event.key == "U") {
                
                let a_100 = [];
                let a_95 = [];
                let a_90 = [];
                let a_85 = [];
                let a_80 = [];
                let a_75 = [];
                let a_70 = [];
                let a_65 = [];
                let a_60 = [];
                let a_55 = [];
                let a_50 = [];
                let a_45 = [];
                let a_40 = [];
                let a_35 = [];
                let a_30 = [];
                let a_25 = [];
                let a_20 = [];
                
                for (let i=0; i<a_tudo.length; i++) {

                    if (network.body.nodes[a_tudo[i]].options.size > 99.9999999999 && network.body.nodes[a_tudo[i]].options.size <= 100) {
                        a_100.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 99.9999999999 && network.body.nodes[a_tudo[i]].options.size >= 95) {
                        a_95.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 95 && network.body.nodes[a_tudo[i]].options.size >= 90) {
                        a_90.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 90 && network.body.nodes[a_tudo[i]].options.size >= 85) {
                        a_85.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 85 && network.body.nodes[a_tudo[i]].options.size >= 80) {
                        a_80.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 80 && network.body.nodes[a_tudo[i]].options.size >= 75) {
                        a_75.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 75 && network.body.nodes[a_tudo[i]].options.size >= 70) {
                        a_70.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 70 && network.body.nodes[a_tudo[i]].options.size >= 65) {
                        a_65.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 65 && network.body.nodes[a_tudo[i]].options.size >= 60) {
                        a_60.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 60 && network.body.nodes[a_tudo[i]].options.size >= 55) {
                        a_55.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 55 && network.body.nodes[a_tudo[i]].options.size >= 50) {
                        a_50.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 50 && network.body.nodes[a_tudo[i]].options.size >= 45) {
                        a_45.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 45 && network.body.nodes[a_tudo[i]].options.size >= 40) {
                        a_40.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 40 && network.body.nodes[a_tudo[i]].options.size >= 35) {
                        a_35.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 35 && network.body.nodes[a_tudo[i]].options.size >= 30) {
                        a_30.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 30 && network.body.nodes[a_tudo[i]].options.size >= 25) {
                        a_25.push(a_tudo[i]);
                    }
                    else if (network.body.nodes[a_tudo[i]].options.size < 25 && network.body.nodes[a_tudo[i]].options.size >= 20) {
                        a_20.push(a_tudo[i]);
                    }

                }
                //console.log(a_100);
                //console.log(a_95);
                //console.log(a_90);
                //console.log(a_85);
                //console.log(a_80);
                //console.log(a_75);
                //console.log(a_70);
                //console.log(a_65);
                //console.log(a_60);
                //console.log(a_55);
                //console.log(a_50);
                //console.log(a_45);
                //console.log(a_40);
                //console.log(a_35);
                //console.log(a_30);
                //console.log(a_25);
                //console.log(a_20);
                
                let texto_espaco = `DISTRIBUIÇÃO DOS NÓS POR TAMANHO:
Tamanho      100:   ${a_100.length}
Tamanho 95 - 99:   ${a_95.length}
Tamanho 90 - 94:   ${a_90.length}
Tamanho 85 - 90:   ${a_85.length}
Tamanho 80 - 84:   ${a_80.length}
Tamanho 75 - 79:   ${a_75.length}
Tamanho 70 - 74:   ${a_70.length}
Tamanho 65 - 69:   ${a_65.length}
Tamanho 60 - 64:   ${a_60.length}
Tamanho 55 - 59:   ${a_55.length}
Tamanho 50 - 54:   ${a_50.length}
Tamanho 45 - 49:   ${a_45.length}
Tamanho 40 - 44:   ${a_40.length}
Tamanho 35 - 39:   ${a_35.length}
Tamanho 30 - 34:   ${a_30.length}
Tamanho 25 - 29:   ${a_25.length}
Tamanho 20 - 24:   ${a_20.length}
-----------------------------
TOTAL:                    ${a_tudo.length}`;
                
                texto_espaco = texto_espaco.replaceAll(" 0\n", "  \n");

                tempAlert(`Tecla ${event.key} - Exibe distribuição dos nós por tamanho`, 3000);
                
                alert(texto_espaco);
            }
        });



        // ###########################
        // EXIBE COMUNIDADES - TECLA v
        // ###########################

        // Quando os atributos dos nós são alterados por meio de "nodes.update", "network.setOptions" não funciona para retornar ao estado anterior
        // Ao mudar paletar de cores, alterar também a variável 'num_cores' (resolvido: criado mecanismo de variação automática)

        var toggle_v = true;
        var n_comunidades = 0;

        document.addEventListener('keydown', (event) => {
            if (event.key == "v" && toggle_v == true) {

                //network.physics.physicsEnabled = false;
                //network.physics.stopSimulation();

                let a = nodes.getIds();

                if (a.length > 500) {
                    let conf = confirm('A identificacao de comunidades em mais de 500 nós pode demorar vários minutos. Deseja continuar?')
                    if (!conf) {
                        return;
                    }
                }

                // PALETA DE CORES ALTO CONTRASTE
                // https://www.schemecolor.com/high-contrast.php
                //var hcc = ["#8931EF", "#F2CA19", "#FF00BD", "#0057E9", "#87E911", "#E11845"]
                //var hcc = ["#8931EF", "#F2CA19", "#FF00BD", "#0057E9", "#87E911"]

                // tab10 (tableau 10)
                //var hcc = ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd", "#8c564b", "#e377c2", "#7f7f7f", "#bcbd22", "#17becf"]

                var hcc = ["rgba(137, 49, 239, 0.5)",
                           "rgba(242, 202, 25, 0.5)",
                           "rgba(255, 0, 189, 0.5)",
                           "rgba(0, 87, 233, 0.5)",
                           "rgba(135, 233, 17, 0.5)",
                           "rgba(225, 24, 69, 0.5)",

                           "rgba(0, 255, 0, 0.5)",
                           "rgba(255, 255, 0, 0.5)",
                           "rgba(0, 255, 255, 0.5)",
                           "rgba(255, 0, 255, 0.5)"
                          ]

                //var hcc = ["rgba(0, 255, 0, 1)",
                //           "rgba(255, 255, 0, 1)",
                //           "rgba(0, 255, 255, 1)",
                //           "rgba(255, 0, 255, 1)"
                //          ]

                //var hcc = ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd", "#8c564b", "#e377c2", "#7f7f7f", "#bcbd22", "#17becf"]

                for (let i=0; i<a.length; i++) {
                    
                    let n = network.body.nodes[a[i]].options.z_group

                    if (n > n_comunidades) {
                        n_comunidades = n;
                    }
                    
                    // CALCULA ÍNDICE CÍCLICO DO ARRAY
                    //let num_cores = hcc.length
                    index_cir = Math.max(0, n % hcc.length) || 0;

                    // MUDA COR DO FUNDO DO NÓ
                    nodes.update({id: a[i], color: {background: hcc[index_cir]}});

                    //console.log(i)
                }
                toggle_v = false;

                // Exibe informações na tela (não está exibindo)
                tempAlert(`Tecla ${event.key} - Adiciona cores aos nós para destacar comunidades (${n_comunidades})`, 3000);

            } else if (event.key == "v" && toggle_v == false) {
                
                let a = nodes.getIds();
                for (let i=0; i<a.length; i++) {
                    nodes.update({id: a[i], color: {background: 'transparent'}});
                }
                toggle_v = true;

                // Exibe informações na tela (não está exibindo)
                tempAlert(`Tecla ${event.key} - Remove cores dos nós`, 3000);
            }

            //network.physics.physicsEnabled = true;
            //network.physics.startSimulation();

        });



        // #################################
        // EXIBE NÓS DE CADA GRUPO - TECLA V
        // #################################

        var num_grupos = 1;
        var num_grupos_total = network.body.nodes[nodes.getIds()[0]].options.z_group_total;
        var arr2 = [];

        document.addEventListener('keydown', (event) => {
            
            if (event.key == 'V') {

                network.physics.physicsEnabled = false;
                network.physics.stopSimulation();

                network.setOptions({nodes: {opacity: 0.0}, edges: {hidden: true}});
                
                let arr1 = nodes.getIds();
                
                if (arr2.length > 0) {
                    for (let i=0; i<arr2.length; i++) {
                        nodes.update({id: arr2[i], opacity: 0.0});
                    }
                }

                arr2 = [];
                
                for (let i=0; i<arr1.length; i++) {
                    let temp = network.body.nodes[arr1[i]].options.z_group;
                    if (temp == num_grupos) {
                        arr2.push(network.body.nodes[arr1[i]].options.id)
                        nodes.update({id: arr1[i], opacity: 1});
                    }
                }

                
                if (num_grupos == num_grupos_total) {
                    tempAlert(`Tecla ${event.key} - 1 Seleciona grupo ${num_grupos}/${num_grupos_total} (${arr2.length})`, 3000);
                    num_grupos = 1;
                
                } else if (num_grupos < num_grupos_total) {
                    tempAlert(`Tecla ${event.key} - 2 Seleciona grupo ${num_grupos}/${num_grupos_total} (${arr2.length})`, 3000);
                    num_grupos = num_grupos + 1
                }
                
                network.physics.physicsEnabled = true;
                network.physics.startSimulation();
            }
        });



        // #############################################################
        // ADICIONA COR AO FUNDO DOS NÓS ANCESTRAIS DO NÓ-ALVO - TECLA w
        // #############################################################

        // CRIA ARRAY COM NÓS ANCESTRAIS
        var ancestors = [];
        var nodes_all = nodes.getIds();
        for (let i=0; i<nodes_all.length; i++) {
            if (network.body.nodes[nodes_all[i]].options.z_ancestor == 'true') {
                ancestors.push(nodes_all[i]);
            }
        }

        // INSERE COR NO FUNDO DOS NÓS ANCESTRAIS
        var toggle_w = true;
        document.addEventListener('keydown', (event) => {

            if (event.key == 'w') {

                if (toggle_w == true) {
                    for (let i=0; i<ancestors.length; i++) {
                        nodes.update({id: ancestors[i], color: {background: 'rgb(0, 0, 255, 0.2)', hover: {background: 'rgb(0, 0, 255, 0.2)'}}});
                        //nodes.update({id: ancestors[i], color: {background: 'rgb(0, 255, 0, 1)', hover: {background: 'rgb(0, 255, 0, 1)'}}});
                    }

                    if (ancestors.length > 0) {
                        tempAlert(`Tecla ${event.key} - Adiciona cores para destacar cadeia de nós originária do nó-alvo (${ancestors.length})`, 3000);
                        toggle_w = false;

                    } else if (ancestors.length == 0) {
                        tempAlert(`Tecla ${event.key} - Não há nós-alvos para destacar cadeia originária`, 3000);
                    }
                    
                } else if (toggle_w == false) {
                    for (let i=0; i<ancestors.length; i++) {
                        nodes.update({id: ancestors[i], color: {background: 'transparent', hover: {background: 'transparent'}}});
                    }
                    toggle_w = true;

                    // Exibe informações na tela (não está exibindo)
                    tempAlert(`Tecla ${event.key} - Remove cores dos nós (${ancestors.length})`, 3000);
                }
            }
        });



        // ##################################
        // SELECIONA NÓS ANCESTRAIS - TECLA W
        // ##################################

        document.addEventListener('keydown', (event) => {

            if (event.key == 'W') {
                arr1 = nodes.getIds();
                arr2 = ancestors;

                if (arr2.length == 0) {
                    tempAlert(`Tecla ${event.key} - Não há nó-alvo único para selecionar cadeia originária`, 3000);
                    return;
                }

                let difference = arr1.filter(x => !arr2.includes(x));
                network.selectNodes(difference);
                network.deleteSelected();


                // VARIÁVEL GLOBAL DEFINIDA NA FUNÇÃO DA TECLA DEL
                del_array = del_array.concat(difference);

                // LIMPA n_bag REMOVENDO NÓS DELETADOS (CORRIGE PROBLEMA COM FIT APÓS ESPAÇO)
                n_bag = n_bag.filter(x => !diff_2.includes(x));

                // total_n: VARIÁVEL GLOBAL DENIFINDA NA FUNÇÃO DA TECLA DEL
                let percentual = (del_array.length / total_n.length) * 100;
                percentual = percentual.toFixed(1);

                // INCLUIR AVISO PERMANENTE QUE NÓS FORAM DELETADOS
                let el = document.createElement("div");
                el.setAttribute("style","position:absolute;top:70px;right:21px;border:5px solid rgba(255, 255, 123, 1);border-radius: 5px;background-color:rgba(255, 255, 123, 1);");
                el.innerHTML = `Nós deletados (${del_array.length}/${total_n.length}) ${percentual}%`;
                document.body.appendChild(el);

                // Exibe informações na tela (não está exibindo)
                tempAlert(`Tecla ${event.key} - Exclui nós que não pertecem à cadeia de nós originária do nó-alvo (${ancestors.length})`, 3000);
            }
        });



        // ####################################################
        // ADICIONA COR AO FUNDO DOS NÓS SELECIONADOS - TECLA x
        // ####################################################

        // Verde, amarelo, azul, lilás
        var cores_fundo = ["rgba(0, 255, 0, 1)", "rgba(255, 255, 0, 1)", "rgba(0, 255, 255, 1)", "rgba(255, 0, 255, 1)"];
        var c_color = 0;
        var nos_coloridos = [];

        document.addEventListener('keydown', (event) => {
            if (event.key == 'x' && network.getSelectedNodes().length > 0) {

                let todos = network.getSelectedNodes();
                for (let i=0; i<todos.length; i++) {
                    nodes.update({id: todos[i], color: {background: cores_fundo[c_color], hover: {background: cores_fundo[c_color]}}});
                    nodes.update({id: todos[i], font: {color: '#777777'}});
                    nos_coloridos.push(todos[i]);
                    network.unselectAll();
                }
                
                if (network.getSelectedNodes().length == 0) {
                    c_color = c_color + 1;
                }
                
                if (c_color > cores_fundo.length - 1) {
                    c_color = 0;
                }

                // Exibe informações na tela (não está exibindo)
                tempAlert(`Tecla ${event.key} - Adiciona cores sequenciais aos nós selecionados (verde, amarelo, azul e lilás)`, 3000);
            
            } else if (event.key == 'x' && network.getSelectedNodes().length == 0) {
                tempAlert(`Tecla ${event.key} - Selecione nós em sequência para adicionar cores (verde, amarelo, azul e lilás)`, 3000);
            }
        });



        // ####################################################
        // REMOVE COR AO FUNDO DOS NÓS SELECIONADOS - TECLA X
        // ####################################################

        document.addEventListener('keydown', (event) => {
            if (event.key == 'X') {
                for (let i=0; i<nos_coloridos.length; i++) {
                    nodes.update({id: nos_coloridos[i], color: {background: 'transparent', hover: {background: 'transparent'}}});
                    nodes.update({id: nos_coloridos[i], font: {color: '#777777'}});
                }
                network.unselectAll();
                nos_coloridos = [];
                c_color = 0;

                // Exibe informações na tela (não está exibindo)
                tempAlert(`Tecla ${event.key} - Remove cores dos nós`, 3000);
            }
        });



        // #################################
        // CONSULTA NÓS ACUMULADOS - TECLA y
        // #################################

        document.addEventListener('keydown', (event) => {
            
            if (event.key == 'y') {
                
                // COPIA PARA O CLIPBOARD
                async function copyOperation(param) {
                    await navigator.clipboard.writeText(param)    
                }

                // RESTAURA O ARRAY ARMAZENADO EM 'localStorage' E GERADO PELAS TECLAS '+' E '-'
                let temp = JSON.parse(localStorage.getItem("nos_acum"));
                console.log(temp);


                let conf_destaca = ''
                if (temp.length > 1) {
                    conf_destaca = confirm("Deseja destacar caminhos mais curtos entre os nós?");
                }


                let temp2 = [];
                for (let i = 0; i < temp.length; i++) {
                    let j = temp[i] + "***" + 1 + "***" + conf_destaca;
                    temp2.push(j);
                }


                setTimeout(() => {copyOperation(temp2)}, 500)

                tempAlert(`Tecla ${event.key} - Abre lista de nós-alvos em nova aba (${temp.length})`, 3000);
            }
        });



        // ########################################
        // EXIBE TODOS OS NÓS PF, PJ E PE - TECLA z
        // ########################################

        var controle_z = true;
        var toggle_z = true;
        var last_central_node = '';
        var last_node = '';
        var old_title = '';
        var new_title = '';
        var nod = [];
        var num_nos = 0;
    
        document.addEventListener('keydown', (event) => {
            if (event.key == "z" && toggle_z == true) {

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Ativa modo automático de visualização`, 3000);

                toggle_z = false;

                network.physics.physicsEnabled = false;
                network.physics.stopSimulation();

                var pos = network.getPositions();
                var a = nodes.getIds();

                maiores = [];

                // LOOP PARA OBTER APENAS SEQUÊNCIA NUMÉRICA
                for (let i=0; i<a.length; i++) {

                    // LOOP SOBRE IDS DOS NÓS
                    for (let k=0; k<a.length; k++) {
                        let value_no = network.body.nodes[a[k]].options.value;
                        if (value_no == i) {

                            // APENAS NÓS COM 2 OU MAIS NÓS ADJACENTES
                            if (network.getConnectedNodes(a[k]).length > 1) {
                                maiores.push(a[k]);
                            }
                        }
                    }
                }

                // NÓS ORDENADOS SEGUNDO MAIOR NÚMERO DE ADJACÊNCIAS
                maiores.reverse();

                // CRIA LISTA FINAL COM NÓS COM MAIOR GRAU, SEGUIDOS DE SEUS ADJACENTES
                for (let i=0; i<maiores.length; i++) {
                    nod.push([maiores[i], maiores[i]]);
                    let temp = network.getConnectedNodes(maiores[i]);
                    for (let k=0; k<temp.length; k++) {
                        let temp2 = []
                        temp2 = temp2.concat(temp[k]);
                        temp2 = temp2.concat(maiores[i]);
                        nod.push(temp2);
                    }
                }

                //console.log('nod:', nod)

                network.setOptions({'edges': {'font': {'size': 0}}});
                network.setOptions({"edges": {"hidden": false}});

                // INÍCIO DA FUNÇÃO DE LOOP
                var i = 0;              
                function myLoop() {        
                setTimeout(function() {

                    //console.log('nod:', nod)

                    // CONDIÇÃO QUE VERIFICA O FINAL DO ARRAY 'nod' E ENCERRA A FUNÇÃO
                    if (i == nod.length) {
                        nodes.update({id: last_node, font: {color: '#777777'}});
                        //nodes.update({id: last_central_node, color: {background: 'transparent'}});
                        nodes.update({id: last_central_node, color: {background: 'transparent', hover: {background: 'transparent'}}});
                        nodes.update({id: last_node, label: old_title});
                        //num_nos = 0;
                        network.unselectAll();
                        network.fit({
                            position: {x:0, y:0},
                            scale: 1.0,
                            animation: true
                        });
                        nod = [];
                        network.physics.physicsEnabled = true;
                        network.physics.startSimulation();
                        toggle_z = true;
                        return;
                    }
                    
                    //console.log('nod:', nod);

                    // SAI DO PROGRAMA (SEM ESTA CONDIÇÃO, ESTAVA DANDO ERRO NA PRÓXIMA LINHA)
                    if (nod.length == 0) {
                        return
                    }

                    x = pos[nod[i][0]]['x'];
                    y = pos[nod[i][0]]['y'];

                    last_central_node = nod[i][1];
                    last_node = nod[i][0]

                    nodes.update({id: nod[i][1], color: {background: 'rgb(0, 0, 255, 0.2)', hover: {background: 'rgb(0, 0, 255, 0.2)'}}});
                    
                    if (i >= 1) {
                        if (nod[i][1] != nod[i - 1][1]) {
                            nodes.update({id: nod[i - 1][1], font: {color: '#777777'}});
                            nodes.update({id: nod[i - 1][1], color: {background: 'transparent', hover: {background: 'transparent'}}});
                            setTimeout(function() {
                                network.moveTo({
                                    position: {x:x, y:y},
                                    scale: 0.5,
                                    animation: true
                                });
                            }, 1000);
                        }

                        // ESTOU VENDO ESTE ITEM
                        network.body.nodes[nod[i - 1][0]].options.label = old_title;
                        nodes.update({id: nod[i - 1][0], font: {color: '#777777'}});
                    }

                    // CRIANDO NOVO RÓTULO
                    let edg1 = network.getConnectedEdges(nod[i][0]);
                    let edg2 = network.getConnectedEdges(nod[i][1]);
                    let common_edg = edg1.filter(value => edg2.includes(value));
                    let edg_title = network.body.edges[common_edg[0]].title;
                    old_title = network.body.nodes[nod[i][0]].options.label;

                    var num_nos_cen = network.body.nodes[nod[i][1]].options.value
                    if (num_nos <= parseInt(num_nos_cen)) {
                        if (num_nos == 0) {
                            num_nos = 0;
                        } 
                    }

                    // PARA OS CASOS DE TE_, EN_, EM_ E PARA O PRIMEIRO ITEM DA LISTA
                    if (edg_title == undefined || i == 0) {
                        edg_title = '';
                    }
                    new_title = old_title + '\n' + edg_title + ' (' + num_nos + ' de ' + num_nos_cen + ')';

                    num_nos = num_nos + 1;
                    if (num_nos > parseInt(num_nos_cen)) {
                        num_nos = 0;
                    }

                    network.body.nodes[nod[i][0]].options.label = new_title;
                    
                    network.moveTo({
                        position: {x:x, y:y},
                        scale: 1.0,
                        animation: true
                    });
                    
                    network.selectNodes([nod[i][0]]);
                    nodes.update({id: nod[i][0], font: {color: 'red'}});
                    if (controle_z == false) {
                        controle_z = true;
                        nodes.update({id: last_node, font: {color: '#777777'}});
                        nodes.update({id: last_central_node, color: {background: 'transparent', hover: {background: 'transparent'}}});
                        network.unselectAll();
                        network.redraw();
                        return;
                    }

                    if (i < nod.length) {        
                        myLoop();            
                        if (i == nod.length - 1) {
                            network.setOptions({'edges': {'font': {'size': 15}}});
                            network.setOptions({"edges": {"hidden": false}});
                        }
                    }

                    i++;               

                }, 3500)
                    
                }
                
                myLoop();

                //nodes.update({id: nod[i][1], color: {background: 'transparent', hover: {background: 'transparent'}}});
                

            
            } else if (event.key == "z" && toggle_z == false) {

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Desativa modo automático de visualização`, 3000);

                controle_z = false;
                toggle_z = true;
                network.setOptions({'edges': {'font': {'size': 15}}});
                network.setOptions({"edges": {"hidden": false}});
                nodes.update({id: last_node, font: {color: '#777777'}});
                nodes.update({id: last_central_node, color: {background: 'transparent', hover: {background: 'transparent'}}});
                nodes.update({id: last_node, label: old_title});
                network.unselectAll();
                network.redraw();
                network.fit({
                    position: {x:0, y:0},
                    scale: 1.0,
                    animation: true
                });
                controle_z = true;
                last_central_node = '';
                last_node = '';
                old_title = '';
                new_title = '';
                nod = [];
                num_nos = 0;
                network.physics.physicsEnabled = true;
                network.physics.startSimulation();
            }
        });

        //// EXEMPLO DE LOOP PERIÓDICO EM JAVASCRIPT
        //let x = 0;
        //function loop () {
        //    console.log("hi");
        //    x++;
        //
        //    if (x<3) {
        //        setTimeout(loop, 5000);
        //    }
        //}
        //loop();



        // ################################################################
        // AJUSTA MASSA DOS NÓS PROPORCIONALMENTE AO TAMANHO - TECLA ESPAÇO
        // ################################################################

        // Usa variável global 't_ref'

        var pula_100 = true
        var n_bag = [];

        //var desativa_teclas_m_n = false
        document.addEventListener('keydown', (event) => {
            
            if (event.key == ' ') {

                toggle_c = 0

                //desativa_teclas_m_n = true;

                // EXECUTA APENAS UMA VEZ, FAZENDO t_ref = 100
                if (pula_100 == true) {
                    t_ref = 100
                    pula_100 = false 
                }             

                let all = nodes.getIds();

                let sel_e = []

                for (let i=0; i<all.length; i++) {

                    if (n_bag.includes(all[i])) {
                        continue;
                    }

                    
                    let size = network.body.nodes[all[i]].options.size;

                    // ← NOVA LINHA: ARREDONDA PARA 100 SE >= 99.99
                    if (size >= 99.99) {
                        size = 100;
                    }

                    // VERIFICA SE O TAMANHO DO NÓ ESTÁ NO INTERVALO ENTRE MAIOR OU IGUAL A t_ref E MENOR QUE t_ref + 5
                    if (size >= t_ref && size < (t_ref + 5)) {
                        sel_e.push(all[i])
                    }
                    
                    if (size >= t_ref && size >= 25) {
                        // nodes.update({id: all[i], mass: (size/20) ** 3});
                        nodes.update({id: all[i], mass: network.body.nodes[all[i]].options.value ** 1.5});
                        n_bag.push(all[i]);
                        n_bag = [...new Set(n_bag)];
                    }
                    
                }

                if (t_ref == 20) {
                    sel_e = [];
                }
                network.selectNodes(sel_e);

                // tempAlert(`Tecla Espaço - Aumenta massa dos nós proporcionalmente ao tamanho >= ${t_ref} (${n_bag.length})`, 3000);
                tempAlert(t_ref === 20 ? "Tecla Espaço - Retorna a massa dos nós ao valor inicial (1 unid.)" : `Tecla Espaço - Aumenta a massa dos nós proporcionalmente ao tamanho ${t_ref === 100 ? "=" : ">="} ${t_ref} (${n_bag.length})`, 3000);



                t_ref = t_ref - 5;

                if (t_ref == 15) {
                    // console.log('Reset t_ref e n_bag');
                    //t_ref = 100;
                    t_ref = 40;
                    pula_100 = true;
                    // n_bag = [];
                    // for (let i=0; i<all.length; i++) {
                    //     nodes.update({id: all[i], mass: 1});
                    //     console.log('Reset mass for node id:', all[i]);
                    // }

                    for (let i=0; i<n_bag.length; i++) {
                        nodes.update({id: n_bag[i], mass: 1});
                        // console.log('Reset mass for node id:', n_bag[i]);
                    }
                    n_bag = [];


                }
            }

            // console.log('t_ref:', t_ref);
            // console.log('n_bag:', n_bag);
        });
        











        // #####################################################################
        // ALTERNA SELEÇÃO DOS NÓS ADJACENTES QUE SÃO ORIGEM E DESTINO - TECLA ;
        // #####################################################################

        var toggle_pv = 0;
        var no_sel_pv = [];
        var ar_adj = [];
        var temp_to = [];
        var temp_from = [];

        document.addEventListener('keydown', (event) => {

            // O SCRIPT FOI INICIALMENTE CONCEBIDO PARA SER USADO COM MAIS DE UM NÓ SELECIONADO. DEPOIS AJUSTAMOS PARA APENAS UM NÓ SELECIONADO
            if (event.key == ";") {



                if (toggle_pv == 0 && network.getSelectedNodes().length != 1) {
                    tempAlert(`Tecla ${event.key} - Selecione um nó para aplicar a função`, 3000);
                    return;
                }



                // EXECUTA APENAS NA PRIMEIRA VEZ QUE A TECLA ; É PRESSIONADA OU QUANDO toggle_pv == 0
                if (toggle_pv == 0 && temp_to.length == 0 && temp_from.length == 0) {
                
                    // EXTRAI ARRAY COM NÓ SELECIONADO
                    no_sel_pv = network.getSelectedNodes();
                    
                    // EXTRAI TODAS AS ARESTAS ADJACENTES AOS NÓS SELECIONADOS
                    for (let i=0; i<no_sel_pv.length; i++) {
                        ar_adj.push(network.getConnectedEdges(no_sel_pv[i]));
                    }
            
                    // ELIMINA DUPLICIDADES NO ARRAY DE ARESTAS - atentar para o [0]
                    ar_adj = [...new Set(ar_adj[0])];

                    // EXTRAI NÓS DESTINO
                    for (let i=0; i<ar_adj.length; i++) {
                        if (network.body.edges[ar_adj[i]] != undefined) {
                            temp_to.push(network.body.edges[ar_adj[i]].toId);
                        }
                    }
                    temp_to = [...new Set(temp_to)];
                    temp_to = temp_to.filter(x => !no_sel_pv.includes(x));

                    // EXTRAI NÓS ORIGEM
                    for (let i=0; i<ar_adj.length; i++) {
                        if (network.body.edges[ar_adj[i]] != undefined) {
                            temp_from.push(network.body.edges[ar_adj[i]].fromId);
                        }
                    }
                    temp_from = [...new Set(temp_from)];
                    temp_from = temp_from.filter(x => !no_sel_pv.includes(x));

                    //console.log('atualização das variáveis');
                    //console.log('temp_from:', temp_from);
                    //console.log('temp_to:', temp_to);
                }

                

                // SELECIONA NÓS ADJACENTES QUE SÃO DESTINO DO NÓ SELECIONADO (PONTA DAS SETAS QUE SAEM -->)
                if (toggle_pv == 0 && no_sel_pv.length == 1 && temp_to.length > 0) {
                
                    network.unselectAll();
                    network.redraw();
                    network.selectNodes(temp_to);

                    let cn = network.getConnectedNodes(no_sel_pv[0]).length

                    // RETORNA COR CINZA PARA OS RÓTULOS DOS NÓS SELECIONADOS
                    for (let i=0; i<no_sel_pv.length; i++) {
                        nodes.update({id: no_sel_pv[i], font: {color: '#777777'}});
                    }
                    
                    toggle_pv = 1;

                    tempAlert(`Tecla ${event.key} - Seleciona nós adjacentes de DESTINO (-->) das arestas do selecionado (${temp_to.length}/${cn})`, 3000);



                } else if (toggle_pv == 0 && no_sel_pv.length == 1 && temp_to.length == 0) {

                    network.unselectAll();
                    network.redraw();
                    toggle_pv = 1;

                    let cn = network.getConnectedNodes(no_sel_pv[0]).length
                    
                    // RETORN COR CINZA PARA OS RÓTULOS DOS NÓS SELECIONADOS
                    for (let i=0; i<no_sel_pv.length; i++) {
                        nodes.update({id: no_sel_pv[i], font: {color: '#777777'}});
                    }

                    tempAlert(`Tecla ${event.key} - Seleciona nós adjacentes de DESTINO (-->) das arestas do selecionado (${temp_to.length}/${cn})`, 3000);

                    
                
                // SELECIONA NÓS ADJACENTES QUE CHEGAM NO NÓ-ALVO (ORIGEM)
                } else if (toggle_pv == 1 && no_sel_pv.length == 1 && temp_from.length > 0) {

                    // DESSELECIONA TODOS OS NÓS
                    network.unselectAll();
                    network.redraw();
                    network.selectNodes(temp_from);

                    let cn = network.getConnectedNodes(no_sel_pv[0]).length

                    // RETORN COR CINZA PARA OS RÓTULOS DOS NÓS SELECIONADOS
                    for (let i=0; i<no_sel_pv.length; i++) {
                        nodes.update({id: no_sel_pv[i], font: {color: '#777777'}});
                    }
                
                    toggle_pv = 2;
                    
                    tempAlert(`Tecla ${event.key} - Seleciona nós adjacentes de ORIGEM (<--) das arestas do nó selecionado (${temp_from.length}/${cn})`, 3000);




                } else if (toggle_pv == 1 && no_sel_pv.length == 1 && temp_from.length == 0) {
                    
                    network.unselectAll();
                    network.redraw();
                    toggle_pv = 2;

                    let cn = network.getConnectedNodes(no_sel_pv[0]).length

                    // RETORN COR CINZA PARA OS RÓTULOS DOS NÓS SELECIONADOS
                    for (let i=0; i<no_sel_pv.length; i++) {
                        nodes.update({id: no_sel_pv[i], font: {color: '#777777'}});
                    }

                    tempAlert(`Tecla ${event.key} - Seleciona nós adjacentes de ORIGEM (<--) das arestas dos nó selecionado (${temp_from.length}/${cn})`, 3000);


            
                // VOLTA A SELECIONAR OS NÓS ORIGINAIS
                } else if (toggle_pv == 2 && no_sel_pv.length == 1) {
                
                    network.unselectAll();
                    network.selectNodes(no_sel_pv);
            
                    // REINICIALIZA VARIÁVEIS
                    toggle_pv = 0;
                    no_sel_pv = [];
                    ar_adj = [];
                    temp_to = [];
                    temp_from = [];
            
                    tempAlert(`Tecla ${event.key} - Retorna à seleção inicial (${network.getSelectedNodes().length})`, 3000);
                }

            }

            // USADO APENAS PARA TESTES
            //console.log(toggle_pv);
            //console.log(no_sel_pv);
            //console.log(network.getSelectedNodes().length);

        })



        // ##########################################################
        // SELECIONA NÓS ADICIONADOS NA REQUISIÇÃO ANTERIOR - TECLA /
        // ##########################################################

        var toggle_bar = 0;

        document.addEventListener('keydown', (event) => {

            if (event.key == "/" && toggle_bar == 0 && network.getSelectedNodes().length == 0) {

                let nn = nodes.getIds()
                let li = []
                for (let i=0; i<nn.length; i++) {
                    if (network.body.nodes[nn[i]].options.z_novo == '1') {
                        li.push(nn[i])
                    }
                }
                network.selectNodes(li);

                toggle_bar = 1;

                tempAlert(`Tecla ${event.key} - Seleciona nós adicionados na requisição anterior (${li.length}/${nn.length})`, 3000);
            
            } else if (event.key == "/" && toggle_bar == 1) {
                let nn = nodes.getIds()
                network.unselectAll();
                toggle_bar = 0;
                tempAlert(`Tecla ${event.key} - Desseleciona todos os nós (${nn.length})`, 3000);
            }

        });



        // ##################################################
        // SELECIONA NÓS POR TIPO DE IMAGEM - TECLA . (PONTO)
        // ##################################################

        // 15 itens (0 a 14)
        var img_names2 = ['pf_homem.png',
                        'pf_homem_com_bandeira.png',
                        'pf_mulher.png',
                        'pf_mulher_com_bandeira.png',
                        'pj_brasil_ativa.png',
                        'pj_brasil_ativa_com_bandeira.png', 
                        'pj_brasil_inativa.png',
                        'pj_brasil_inativa_com_bandeira.png',
                        'pj_exterior_ativa.png',
                        'pj_exterior_ativa_com_bandeira.png', 
                        'pj_exterior_inativa.png', 
                        'pj_exterior_inativa_com_bandeira.png', 
                        'endereco.png', 
                        'telefone.png',
                        'email.png'
                        ]

        var cont_t2 = 0
        var temp_t2 = nodes.getIds();

        document.addEventListener('keydown', (event) => {
            
            //if (event.key == '.' && network.physics.options.solver == 'barnesHut') {
            if (event.key == '.') {
                                    
                if (cont_t2 == 0) {
                    network.unselectAll();
                    let temp = [];
                    let nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[0]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona homens (${temp.length}/${nodes.getIds().length})`, 3000);
                    

                    
                } else if (cont_t2 == 1) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[1]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona homens com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 2) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[2]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona mulheres (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 3) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[3]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona mulheres com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 4) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[4]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona PJs ativas domiciliadas no Brasil (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 5) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[5]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona PJs ativas domiciliadas no Brasil com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 6) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[6]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona PJs inativas domiciliadas no Brasil (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 7) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[7]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona PJs inativas domiciliadas no Brasil com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);
                

                } else if (cont_t2 == 8) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[8]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona PJs ativas domiciliadas no exterior (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 9) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[9]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona PJs ativas domiciliadas no exterior com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 10) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[10]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona PJs inativas domiciliadas no exterior (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 11) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[11]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona PJs inativas domiciliadas no exterior com bandeira vermelha (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 12) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[12]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona endereços (${temp.length}/${nodes.getIds().length})`, 3000);

                    
                } else if (cont_t2 == 13) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[13]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona telefones (${temp.length}/${nodes.getIds().length})`, 3000);


                } else if (cont_t2 == 14) {
                    network.unselectAll();
                    temp = [];
                    nos = [];
                    for (var i = 0; i < temp_t2.length; i++) {

                        // CASO O NÓ TENHA SIDO DELETADO
                        if (network.body.nodes[temp_t2[i]] == undefined) {
                            continue
                        }

                        if (network.body.nodes[temp_t2[i]].options.image.split('\\').at(-1) == img_names2[14]) {
                            nos.push(temp_t2[i]);
                            temp.push(temp_t2[i]);
                        }
                    }
                    network.selectNodes(nos);
                    cont_t2 = cont_t2 + 1;
                    tempAlert(`Tecla ${event.key} - Seleciona e-mails (${temp.length}/${nodes.getIds().length})`, 3000);

                    
                } else if (cont_t2 == 15) {
                    network.unselectAll();
                    cont_t2 = 0;
                    tempAlert(`Tecla ${event.key} - Desseleciona todos os nós (${temp_t.length})`, 3000);
                }
            }
        });



        // ###################################################################
        // ABRE POPUP COM RÓTULOS DAS ARESTAS SELECIONADAS - TECLA , (VÍRGULA)
        // ###################################################################

        var popup;
        var nn;

        // EXECUTA FUNÇÃO createPopup SE HOUVER NÓ SELECIONADO, PASSANDO COMO PARÂMETRO O ARRAY DOS NÓS SELECIONADOS (nn)
        document.addEventListener("keydown", function(event) {
        if (event.key === ",") {
            nn = network.getSelectedNodes();
            if (nn.length > 0) {
                createPopup(nn);
                tempAlert(`Tecla ${event.key} - Abre popup com nós selecionados (${nn.length})`, 3000);
            } else if (nn.length == 0) {
                tempAlert(`Tecla ${event.key} - Selecione um ou mais nós para abrir popup contendo nós selecionados`, 3000);
            }
        }
        });


        // DECLARA FUNÇÃO QUE CRIA POPUP
        function createPopup(nn) {

        let lista_ids = [];

        // EXTRAI ARRAY DE RÓTULOS (labels)
        let labels = nn.map(function(nodeId) {
            let node = network.body.data.nodes.get(nodeId);
            lista_ids.push(node.id + '_' + node.label);
        });


        // ordena os labels conforme especificação
        lista_ids.sort(function(a, b) {
            let order = ["PF_", "PJ_", "PE_", "EN_", "TE_", "EM_"];
            let aIndex = order.findIndex(function(prefix) {
            return a.startsWith(prefix);
            });
            let bIndex = order.findIndex(function(prefix) {
            return b.startsWith(prefix);
            });
            return aIndex - bIndex;
        });

        let popupText = "";
        let prefix_atual = '';
            
        let lista_pf = [];
        let lista_pj = [];
        let lista_pe = [];
        let lista_en = [];
        let lista_te = [];
        let lista_em = [];
            
        for (let i=0; i<lista_ids.length; i++) {

            if (lista_ids[i].split('_')[0] == 'PF') {
                lista_pf.push(lista_ids[i].split('_')[2]);
            }

            if (lista_ids[i].split('_')[0] == 'PJ') {
                lista_pj.push(lista_ids[i].split('_')[2]);
            }

            if (lista_ids[i].split('_')[0] == 'PE') {
                lista_pe.push(lista_ids[i].split('_')[2]);
            }

            if (lista_ids[i].split('_')[0] == 'EN') {
                lista_en.push(lista_ids[i].split('_')[2]);
            }

            if (lista_ids[i].split('_')[0] == 'TE') {
                lista_te.push(lista_ids[i].split('_')[2]);
            }

            if (lista_ids[i].split('_')[0] == 'EM') {
                lista_em.push(lista_ids[i].split('_')[2]);
            }
        }

        lista_pf.sort();
        lista_pj.sort();
        lista_pe.sort();
        lista_en.sort();
        lista_te.sort();
        lista_em.sort();

        if (lista_pf.length > 0) {
            popupText += `<b>PF (${lista_pf.length})</b><br>${lista_pf.join("<br>")}<br><br>`;
        }

        if (lista_pj.length > 0) {
            popupText += `<b>PJ (${lista_pj.length})</b><br>${lista_pj.join("<br>")}<br><br>`;
        }

        if (lista_pe.length > 0) {
            popupText += `<b>PE (${lista_pe.length})</b><br>${lista_pe.join("<br>")}<br><br>`;
        }

        if (lista_en.length > 0) {
            popupText += `<b>EN (${lista_en.length})</b><br>${lista_en.join("<br>")}<br><br>`;
        }

        if (lista_te.length > 0) {
            popupText += `<b>TE (${lista_te.length})</b><br>${lista_te.join("<br>")}<br><br>`;
        }

        if (lista_em.length > 0) {
            popupText += `<b>EM (${lista_em.length})</b><br>${lista_em.join("<br>")}<br><br>`;
        }
            
        if (!popup || popup.closed) {
            popup = window.open('', target="_blank", windowFeature='left=50,top=50,width=700,height=400,scrollbars=1');

            var link = popup.document.createElement('link');
            link.rel = 'icon';
            link.href = 'favicon.ico';
            popup.document.head.appendChild(link);

            popup.document.write("<html><head><title>SINARC - Nós Selecionados</title><style>body{font-family: Arial, sans-serif; font-size: 14px; color: #333; line-height: 1.5; padding: 10px;} b{font-size: 16px; font-weight: bold;}<\/style><\/head><body><\/body><\/html>");
        }

        var popupBody = popup.document.body;
        popupBody.innerHTML = `<b>NÓS SELECIONADOS (${lista_ids.length}):</b><br><br>` + popupText;
        }

        //network.on("click", function(params) {
        //if (popup) {
        //    popup.close();
        //}
        //});



        // ##############################################
        // AUMENTA A MASSA DOS NÓS SELECIONADOS - TECLA ]
        // ##############################################

        // var par_n2 = 1

        // document.addEventListener('keydown', (event) => {

        //     if (event.key == ']' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length > 0) {

        //         if (network.physics.adaptiveTimestepEnabled == false) {
        //             network.setOptions({"nodes": {"physics": true}});
        //         }
                
        //         let nod = network.getSelectedNodes();

        //         for (let i=0; i<nod.length; i++) {

        //             let size = network.body.nodes[nod[i]].options.size

        //             // Aumenta a massa em 5 unidades
        //             nodes.update({
        //                 id: nod[i],
        //                 mass: par_n2 + 5
        //             });
        //         }

        //         // Atualiza variável
        //         par_n2 = par_n2 + 5

        //         network.redraw();
            
        //         // Exibe informações na tela
        //         tempAlert(`Tecla ${event.key} - Aumenta massa dos nós selecionados em 5 unidades. Fator: ${par_n2} (${network.getSelectedNodes().length})`, 3000);
            
        //     } else if (event.key == ']' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length == 0) {
        //         tempAlert(`Tecla ${event.key} - Selecione um ou mais nós para aumentar suas massas em 5 unidades`, 3000);
        //     }
        // })


        document.addEventListener('keydown', (event) => {

            if (event.key == ']' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length > 0) {

                if (network.physics.adaptiveTimestepEnabled == false) {
                    network.setOptions({"nodes": {"physics": true}});
                }
                
                let nod = network.getSelectedNodes();
                let firstNodeMass = 0;

                for (let i=0; i<nod.length; i++) {
                    let currentMass = network.body.nodes[nod[i]].options.mass;
                    let newMass = currentMass + 5;

                    // Aumenta a massa em 5 unidades
                    nodes.update({
                        id: nod[i],
                        mass: newMass
                    });

                    if (i === 0) {
                        firstNodeMass = newMass;
                    }
                }

                network.redraw();
            
                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Aumenta massa dos nós selecionados em 5 unidades (${network.getSelectedNodes().length})`, 3000);
            
            } else if (event.key == ']' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length == 0) {
                tempAlert(`Tecla ${event.key} - Selecione um ou mais nós para aumentar suas massas em 5 unidades`, 3000);
            }
        })



        // ###############################################
        // DIMINUI A MASSA DOS NÓS SELECIONADOS - TECLAS [
        // ###############################################

        // document.addEventListener('keydown', (event) => {

        //     if (event.key == '[' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length > 0) {

        //         if (network.physics.adaptiveTimestepEnabled == false) {
                    network.setOptions({"nodes": {"physics": true}});
        //         }

        //         //if ((par_n2 - 5) <= 1) {
        //         //    par_n2 = 1;
        //         //}

        //         par_n2 = par_n2 - 5

        //         if (par_n2 <= 1) {
        //             par_n2 = 1
        //         }
                
        //         let nod = network.getSelectedNodes();

        //         for (let i=0; i<nod.length; i++) {

        //             let size = network.body.nodes[nod[i]].options.size

        //             // Diminui a massa em 5 unidades
        //            nodes.update({
        //                 id: nod[i],
        //                 //mass: par_n2 - 5
        //                 mass: par_n2
        //             });
        //         }

        //         // Atualiza a variável
        //         //par_n2 = par_n2 - 5

        //         //if (par_n2 <= 1) {
        //         //    par_n2 = 1
        //         //}

        //         // Exibe informações na tela
        //         tempAlert(`Tecla ${event.key} - Diminui massa dos nós selecionados em 5 unidades. Fator: ${par_n2} (${network.getSelectedNodes().length})`, 3000);

        //         network.redraw();

        //     } else if (event.key == '[' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length == 0) {
        //         tempAlert(`Tecla ${event.key} - Selecione um ou mais nós para diminuir suas massas em 5 unidades`, 3000);
        //     }

        // })


        document.addEventListener('keydown', (event) => {

            if (event.key == '[' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length > 0) {

                if (network.physics.adaptiveTimestepEnabled == false) {
                    network.setOptions({"nodes": {"physics": true}});
                }
                
                let nod = network.getSelectedNodes();
                let firstNodeMass = 0;

                for (let i=0; i<nod.length; i++) {
                    let currentMass = network.body.nodes[nod[i]].options.mass;
                    let newMass = currentMass - 5;

                    if (newMass < 1) {
                        newMass = 1;
                    }

                    // Diminui a massa em 5 unidades
                    nodes.update({
                        id: nod[i],
                        mass: newMass
                    });

                    if (i === 0) {
                        firstNodeMass = newMass;
                    }
                }

                // Exibe informações na tela
                tempAlert(`Tecla ${event.key} - Diminui massa dos nós selecionados em 5 unidades (${network.getSelectedNodes().length})`, 3000);

                network.redraw();

            } else if (event.key == '[' && network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length == 0) {
                tempAlert(`Tecla ${event.key} - Selecione um ou mais nós para diminuir suas massas em 5 unidades`, 3000);
            }

        })



        // ############################################
        // GERA CÓPIA DO GRAFO COM ALTERAÇÕES - TECLA !
        // ############################################

        document.addEventListener('keydown', (event) => {

            if (event.key == '!') {
                
                async function copyOperation(param) {
                    await navigator.clipboard.writeText(param)
                };

                setTimeout(() => {copyOperation('***atualizar_grafo***')}, 0)

                tempAlert(`Tecla ${event.key} - Gera novo arquivo HTML com configuração atual do grafo`, 3000);
            }
        });




        // ###############################
        // EXIBE ATALHOS NA TELA - TECLA ?
        // ###############################

        var el_3 = '';
        var toggle_int = 0;

        document.addEventListener('keydown', (event) => {

            if(event.key == "?" && toggle_int == 0){

                let ajuste_tela = "ATALHOS:<br>Ajuste da tela: F11 b<br>";
                let posicao = "Posição dos nós: F5 k K f p Clique+Arrasto Shift+(L/R) ] [ m M Espaço n N Shift+(U/D)<br>";
                let selecao = "Seleção dos nós: Clique Ctrl+Clique a A ç Ç I j J q Q . ; /<br>";
                let visualizacao = "Visualização de nós e arestas: Esc BotãoDeRolagem c e l i t T V z<br>";
                let cor = "Cor dos nós: x X w v<br>";
                let sites = "Sites externos: d D g G 1 2 4 5 6 7 8<br>";
                let delecao = "Deleção de nós: Del r R W<br>";
                let consulta = "Consulta à base de dados: o O s y<br>";
                let outras = "Outras funções: h ? L u U + - , |";

                el_3 = document.createElement("div");
                
                el_3.setAttribute("style","position:absolute; top:30px; left:21px; border:5px solid rgba(178, 255, 178, 0); border-radius: 5px; background-color:rgba(178, 255, 178, 0); font-size: 18px; color: rgba(59, 190, 30, 1); font-family: serif; background-color: rgba(59, 190, 30, 0.05); border-radius: 5px");
                
                el_3.innerHTML = ajuste_tela + posicao + selecao + visualizacao + cor + sites + delecao + consulta + outras;
                
                document.body.appendChild(el_3);

                el_3.style.opacity = "1.0";

                toggle_int = 1

                tempAlert(`Tecla ${event.key} - Exibe teclas de atalhos`, 3000);

            } else if (event.key == "?" && toggle_int == 1) {

                el_3.style.display = "none";

                toggle_int = 0

                tempAlert(`Tecla ${event.key} - Oculta teclas de atalhos`, 3000);

            }
        });

        

    
        // ################################
        // DESSELECIONA TODOS OS NÓS
        // ################################

        network.on('click', (event) => {

            let sel = network.getSelectedNodes();
            //let n = nodes.getIds().length;

            // Quando se clica no fundo, sel.length fica igual a 0 (truque)
            if (sel.length == 0) {
                network.unselectAll();
                
                //con_nodes_a = [];
                sel_anterior = [];
                
                // EXTRAÍDO DA TECLA A
                //temp_a = [];

                // VARIÁVEL DECLARADA NO SCRIPT DA TECLA q
                target_id = [];
                con = [];

                // Exibe informações na tela
                //if (sel_anterior.length > 0) {
                tempAlert(`Clique na área do grafo - Desseleciona todos os nós (${nodes.getIds().length})`, 3000);
                //}
            }

            // Exibe informações na tela
            //if (sel.length > 0) {
            //    tempAlert(`Clique na área do grafo - Desseleciona todos os nós`, 3000);
            //}

            // Limpa variável global 'sel_anterior' do script da TECLA 'a', para não continuar a sequência de seleção do ponto onde parou
            sel_anterior = [];

            // Limpa vairávels globais do script da TECLA ';', para não reiniciar a sequência de seleção do ponto onde parou
            toggle_pv = 0;
            no_sel_pv = [];
            ar_adj = [];
            temp_to = [];
            temp_from = [];

        });



        // ############################################################
        // DESSELECIONA ARESTAS DE NÓS DESSELECIONADOS COM CTRL + CLICK
        // ############################################################

        // AO SAIR DE CIMA DO NÓ E EVENTUALMENTE TER DESSELECIONADO O RESPECTIVO NÓ
        network.on('blurNode', function f(params) {

            // OBTÉM LISTA DE NÓS SELECIONADOS (O QUE ACABOU DE SER DESSELECIONADO NÃO APARECE NESTA LISTA)
            let ns = network.getSelectedNodes();

            // DESSELECIONA TUDO
            network.unselectAll();
            network.redraw();

            // SELECIONA APENAS NÓS MANTIDOS SELECIONADOS APÓS DESS
            //console.log(ns);
            network.selectNodes(ns);

        });



        // ###############################################################################################
        // AUMENTA E DIMINUI TAMANHO REFERNCIAL DOS NÓS - TECLAS SHIFT + 'ARROW UP' / SHIFT + 'ARROW DOWN'
        // ###############################################################################################

        var t_ref = 40

        document.addEventListener('keydown', (event) => {

            if ((event.shiftKey && event.key == 'ArrowUp') || event.key === '>') {

                if (t_ref < 100) {
                    t_ref = t_ref + 5
                }

//                if (screen_height == 0) {
//                    let element = document.getElementById("mynetwork");
//                    let canvas = element.querySelector('canvas');
//                    screen_height = parseInt(canvas.getAttribute('height'));
//                }
//                element = document.getElementById("mynetwork");
//                screen_height = screen_height + 10;
//                element.style.height = screen_height.toString() + 'px';
                //console.log(screen_height);

                //alert(`Tamanho referencial do no para ativacao da tecla n: ${t_ref}`)
                //console.log(t_ref)
                network.redraw();

                // Exibe informações na tela (não está exibindo)
                tempAlert(`Teclas Shift + ${event.key} - Aumenta tamanho referencial dos nós em 5 unidades (${t_ref})`, 3000);

            } else if ((event.shiftKey && event.key == 'ArrowDown') || event.key === '<'){
                
                if (t_ref > 20) {
                    t_ref = t_ref - 5
                }
                
//                if (screen_height == 0) {
//                    let element = document.getElementById("mynetwork");
//                    let canvas = element.querySelector('canvas');
//                    screen_height = parseInt(canvas.getAttribute('height'));
//                }
//                element = document.getElementById("mynetwork");
//                screen_height = screen_height - 10;
//                element.style.height = screen_height.toString() + 'px';
                //console.log(screen_height);

                //alert(`Tamanho referencial do no para ativacao da tecla n: ${t_ref}`)
                //console.log(t_ref)
                network.redraw();

                // Exibe informações na tela (não está exibindo)
                tempAlert(`Teclas Shift + ${event.key} - Diminui tamanho referencial dos nós em 5 unidades (${t_ref})`, 3000);

            }
        });



        // ###############################################
        // DESSELECIONA TODOS OS NÓS - TECLAS 'ARROW DOWN'
        // ###############################################

        //document.addEventListener('keydown', (event) => {

        //    if (event.key == "ArrowDown") {
        //        network.unselectAll();
        //        network.redraw();

        //    }

        //})



        // ###########################################################################################
        // AUMENTA E DIMINUI A TAMANHO DA ARESTA - TECLAS SHIFT + 'ARROW LEFT' / SHIFT + 'ARROW RIGHT'
        // ###########################################################################################

        var tamanho_aresta = 300
        document.addEventListener('keydown', (event) => {

            if (event.shiftKey && event.key == 'ArrowRight'){
                tamanho_aresta += 30;
                network.setOptions({"edges": {"length": tamanho_aresta}});

                // Exibe informações na tela (não está exibindo)
                tempAlert(`Teclas Shift + ${event.key} - Aumenta tamanho das arestas em 30 unidades (${tamanho_aresta})`, 3000);
                
            } else if (event.shiftKey && event.key == 'ArrowLeft') {
                tamanho_aresta -= 30;
                network.setOptions({"edges": {"length": tamanho_aresta}});

                // Exibe informações na tela (não está exibindo)
                tempAlert(`Teclas Shift + ${event.key} - Diminui tamanho das arestas em 30 unidades (${tamanho_aresta})`, 3000);
            }
        });



        // ########################################################
        // MUDA COR DO TEXTO DO NÓ PARA VERMELHO QUANDO SELECIONADO
        // ########################################################

        network.on("select", function (params) {

            // Reseta variável de controle da massa
            // par_n2 = 1;

            let selectedNodeId2 = params.nodes;
            //console.log('selected:', selectedNodeId2);
            for (id in params.nodes) {
                let node = network.body.nodes[params.nodes[id]];
                //console.log('node:', node);
                node.setOptions({
                    font: {
                    color: "#ff0000"
                    }
                });
            }

            // Exibe informações na tela
            let temp = network.getSelectedNodes();

            let tamanho = ''
            let massa2 = ''
            let grupo = ''
            if (network.getSelectedNodes().length == 1) {
                let temp_t = Math.round(network.body.nodes[params.nodes[id]].options.size * 100) / 100
                //tamanho = `. Tamanho: ${network.body.nodes[params.nodes[id]].options.size}`
                tamanho = `. Tamanho: ${temp_t}`
                
                massa2 = `. Massa: ${Math.round(network.body.nodes[params.nodes[id]].options.mass * 100) / 100}`
                //Math.round(num * 100) / 100

                grupo = `. Grupo: ${network.body.nodes[params.nodes[id]].options.z_group}/${network.body.nodes[params.nodes[id]].options.z_group_total}`
            }
            
            tempAlert(`Clique sobre nó - Seleciona nó (${temp.length})${tamanho}${massa2}${grupo}`, 3000);

        });

        network.on("deselectNode", function (params) {
            let deselectedNodeId2 = params.previousSelection.nodes; // ACRESCENTEI ['id']
            if (deselectedNodeId2.length > 100) { // DESSELECIONA TUDO DE UMA SÓ VEZ A PARTIR DE 100 NÓS SELECIONADOS
                network.unselectAll();
                return;
            }
            //console.log('deselected:', deselectedNodeId2);
            for (id in params.previousSelection.nodes) {
                let node = network.body.nodes[params.previousSelection.nodes[id]['id']];
                //console.log('node:', node);
                
                // INCLUÍDO POR DAR ERRO 'id' UNDEFINED
                if (node != undefined) { 
                    nodes.update({id: node['id'], // deselectedNodeId
                            font: {
                                color: '#777777'
                            },
                    });
                } 
                // INCLUIDO POR DAR ERRO 'id' UNDEFINED
            }
        });



        // ############################################################
        // APROXIMA NÓ SELECIONADO QUANDO CLICA SOBRE ELE - DUPLO CLICK
        // ############################################################

//        function esconde() {
//            network.setOptions({nodes: {scaling: {label: {enabled: true, drawThreshold: 100}}}, edges: {hidden: true}});
//        }
//        function exibe() {
//            network.setOptions({nodes: {scaling: {label: {enabled: true, drawThreshold: 8}}}, edges: {hidden: false}});
//        }

//        network.on('doubleClick', function() {

            // SÓ FUNCIONA NO LAYOUT BARNES-HUT E COM APENAS UM NÓ SELECIONADO
//            if (network.physics.options.solver == 'barnesHut' && network.getSelectedNodes().length == 1) {

//                // Evita compartamento errático no modo transparência (arestas são exibidas)
//                if (toggle_t == false) {
//                    return;
//                }            

//                let ss = network.getSelectedNodes();
//                if (ss.length == 1 ) {
//                    network.setOptions({physics: {enabled: false}});
//                    let p = '';
//                    let num = 0;
//                    num = 700 + nodes.length / 10;
//                    //console.log(num + 'ms');
//                    for (let i=0; i<ss.length; i++) {
//                        esconde();
//                        p = network.getPosition(ss[i]);
//                        network.moveTo({
//                            position: {x: p['x'], y: p['y']},
//                            scale: 1,
//                            offset: {x:0, y:0},
//                            animation: {
//                            duration: 500,
//                            easingFunction: 'linear'
//                            }
//                        });
//                        setTimeout(exibe, num);
//                        network.releaseNode();
//                    }
//                    network.setOptions({physics: {enabled: true}});

                // ###################################

//                let ss = network.getSelectedNodes();
                //if (ss.length == 1 ) {

                // DESABILITA ELEMENTOS PARA EVITAR TRAVAMENTO DA IMAGEM (MELHROA DESEMPENHO)
//                network.physics.physicsEnabled = false;
//                network.physics.stopSimulation();
                //network.setOptions({"edges": {"hidden": true}});
                //network.setOptions({nodes: {scaling: {label: {enabled: true, drawThreshold: 100}}}});
                
                // FÓRMULA QUE CALCULA O TEMPO DE TRANSIÇÃO. USADO TAMBÉM NA FUNÇÃO setTimeout
//                let time = 1000;
//                if (1000 + nodes.getIds().length - 500 < 1000) {
//                    time = 1000;
//                } else {
//                    time = 1000 + nodes.getIds().length - 1000;
//                }

                // PARTE PRINCIPAL
//                for (let i=0; i<ss.length; i++) {
//                    p = network.getPosition(ss[i]);
//                    network.moveTo({
//                        position: {x: p['x'], y: p['y']},
//                        scale: 1,
//                        offset: {x:0, y:0}
                        //animation: {
                        //duration: time,
                        //easingFunction: 'linear'
                        //}
//                    });
//                }
                //network.fit({nodes: con_nodes, maxZoomLevel: 1, animation: {duraton: time}});

                // FUNÇÃO EXECUTADA APÓS A PARTE PRINCIPAL
//                function f2() {

                    // REABILITA RECURSOS APÓS PARTE PRINCIPAL
                    //network.setOptions({physics: {enabled: true}});
//                    network.setOptions({"edges": {"hidden": false}});
//                    network.setOptions({nodes: {scaling: {label: {enabled: true, drawThreshold: 8}}}});
//                }
                
                //setTimeout(f2, time + 100);

                //setTimeout(network.physics.stopSimulation, time + 200);





//                }
//            }
//        });



        // ##################################
        // ALTERA FLATICON E TÍTULO DA PÁGINA
        // ##################################
        var link = document.querySelector("link[rel~='icon']");
        if (!link) {
            link = document.createElement('link');
            link.rel = 'icon';
            document.getElementsByTagName('head')[0].appendChild(link);
        }
        //link.href = 'https://cdn-icons-png.flaticon.com/512/4803/4803070.png';
        
        // Colocar logo na pasta do arquivo sinarc.py
        link.href = 'logo.png';
        

        // EXTRAI NÚMERO DE CAMADAS SOLICITADAS
        var no_pj = nodes.getIds();
        var n_cam = '';
        for (let i=0; i < no_pj.length; i++) {
            if (no_pj[i].slice(0, 3) == 'PJ_') {
                n_cam = network.body.nodes[no_pj[i]].options.camadas_solicitadas;
                //console.log(n_cam);
                break;
            };
        };



        // EXTRAI NÚMERO DE NÓS E FORMATA PARA STRING
        // https://stackoverflow.com/questions/9461621/format-a-number-as-2-5k-if-a-thousand-or-more-otherwise-900
        function nFormatter(num, digits) {
            const lookup = [
                { value: 1, symbol: "" },
                { value: 1e3, symbol: "k" },
                { value: 1e6, symbol: "M" },
                { value: 1e9, symbol: "G" },
                { value: 1e12, symbol: "T" },
                { value: 1e15, symbol: "P" },
                { value: 1e18, symbol: "E" }
            ];
            const rx = /\.0+$|(\.[0-9]*[1-9])0+$/;
            var item = lookup.slice().reverse().find(function(item) {
                return num >= item.value;
            });
            return item ? (num / item.value).toFixed(digits).replace(rx, "$1") + item.symbol : "0";
        }

        let temp = ''
        temp = nFormatter(nodes.getIds().length, 1);

        //let datt = new Date();
        //let hora = datt.getHours();
        //let minuto = datt.getMinutes();
        //document.title = n_cam + '/' + temp + ' SINARC ' + hora + ':' + minuto;

        document.title = n_cam + '/' + temp + ' SINARC';



        // ##############################################
        // AJUSTA ALTURA DA ÁREA DO GRAFO AUTOMATICAMENTE
        // ##############################################

        // Existe outra forma de ajustar a altura área do grafo: TECLA b

        function ajusta_altura() {

            // EXTRAI DIMENSÕES DA JANELA DO NAVEGADOR
            var w = window.innerWidth;
            let h = window.innerHeight;

            // AJUSTA ALTURA DA ÁREA DO GRAFO À ALTURA DA JANELA
            document.querySelector('#mynetwork').style.height = h - 20;

        };

        setTimeout(() => {ajusta_altura()}, 0);


        // ##########################
        // CENTRALIZA GRAFO NO INÍCIO
        // ##########################

        setTimeout(() => {
                    document.dispatchEvent(new KeyboardEvent('keydown', {key: 'Escape'}));
                }, 1000);



    
</script>
    




<!-- PARA TESTE NO CELULAR - INÍCIO -->

    <!-- Botão fixado no rodapé -->
    <div id="keyboard-toggle"></div>

    <!-- Campo de entrada invisível, mas funcional -->
    <input 
    type="text" 
    id="hidden-input" 
    style="
        position: fixed; 
        bottom: 60px; 
        left: 50%; 
        transform: translateX(-50%);
        opacity: 0; <!-- Estava em 0.01 -->
        height: 0; <!-- Estava em 20 -->
        width: 0;  <!-- Estava em 120 -->
        border: none; 
        background: transparent;
        z-index: -1; <!-- Estava em 9999 -->
        pointer-events: none;
    "
    autocomplete="off"
    autocorrect="off"
    autocapitalize="off"
    spellcheck="false"
    tabindex="-1"
    />

    <style>
    #keyboard-toggle {
        position: fixed;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        width: 120px;
        height: 15px;
        background-color: transparent;
        border: 2px solid rgba(89, 201, 67, 1);
        border-radius: 10px;
        cursor: pointer;
        z-index: 9998;
        transition: background-color 0.3s ease;
        color: #000;
        text-align: center;
        line-height: 30px;
        font-size: 14px;
    }

    #keyboard-toggle:active {
        background-color: rgba(200, 200, 200, 0.2);
    }
    </style>





    <script>
    const toggle = document.getElementById('keyboard-toggle');
    const hiddenInput = document.getElementById('hidden-input');

    toggle.addEventListener('click', () => {
        hiddenInput.focus();
    });
    </script>




    <!-- PARA TESTE NO CELULAR - FIM -->











    <!-- ===================================================== -->
    <!-- AUMENTA TAMANHO DOS NÓS COM HOVER                     -->
    <!-- ===================================================== -->
    
    <script>
        const tamanhosOriginais = {};
        const tamanhosFonteOriginais = {};
        const coresFonteOriginais = {};

        function animarTamanho(nodeId, inicio, fim, duracao = 200) {
            const node = network.body.nodes[nodeId];
            if (!node) return;

            if (node._animacaoId) {
                cancelAnimationFrame(node._animacaoId);
            }

            const inicioTempo = performance.now();
            const diferenca = fim - inicio;

            function frame(tempo) {
                const progresso = Math.min((tempo - inicioTempo) / duracao, 1);
                node.options.size = inicio + (diferenca * progresso);
                network.redraw();
                if (progresso < 1) {
                    node._animacaoId = requestAnimationFrame(frame);
                }
            }
            requestAnimationFrame(frame);
        }

        network.on("hoverNode", e => {
            if (network.physics.physicsEnabled === false) {
                const nodeId = e.node;
                const node = network.body.nodes[nodeId];
                if (!node || tecla_e_ativada) return;

                if (!tamanhosOriginais[nodeId]) {
                    tamanhosOriginais[nodeId] = node.options.size;
                }
                if (!tamanhosFonteOriginais[nodeId]) {
                    tamanhosFonteOriginais[nodeId] = (node.options.font && node.options.font.size) || (node.labelModule && node.labelModule.fontOptions.size) || 14;
                }
                if (!coresFonteOriginais[nodeId]) {
                    coresFonteOriginais[nodeId] = (node.options.font && node.options.font.color) || (node.labelModule && node.labelModule.fontOptions.color) || '#343434';
                }

                const tamanhoAlvo = tamanhosOriginais[nodeId] * 2;
                const fonteAlvo = tamanhosFonteOriginais[nodeId] * 2;

                const newOptions = {
                    font: {
                        size: fonteAlvo,
                        color: 'red'
                    }
                };
                node.setOptions(newOptions);
                animarTamanho(nodeId, node.options.size, tamanhoAlvo);
            }
        });

        network.on("blurNode", e => {
            if (network.physics.physicsEnabled === false) {
                const nodeId = e.node;
                const node = network.body.nodes[nodeId];
                if (!node || !tamanhosOriginais[nodeId] || tecla_e_ativada) return;

                const fonteOriginal = tamanhosFonteOriginais[nodeId];
                const corOriginal = coresFonteOriginais[nodeId];

                const newOptions = {
                    font: {
                        size: fonteOriginal,
                        color: corOriginal
                    }
                };
                node.setOptions(newOptions);
                animarTamanho(nodeId, node.options.size, tamanhosOriginais[nodeId]);
            }
        });

        // Restaura os nós para o estado original se a física for reativada
        // network.on("startStabilizing", () => {
        //     Object.keys(network.body.nodes).forEach(nodeId => {
        //         const node = network.body.nodes[nodeId];
        //         if (node._animacaoId) cancelAnimationFrame(node._animacaoId);
                
        //         if (tamanhosOriginais[nodeId]) {
        //             const newOptions = {
        //                 size: tamanhosOriginais[nodeId],
        //                 font: {
        //                     size: tamanhosFonteOriginais[nodeId],
        //                     color: coresFonteOriginais[nodeId]
        //                 }
        //             };
        //             node.setOptions(newOptions);
        //         }
        //     });
        //     network.redraw();
        // });
    </script>




    


    <!-- ===================================================== -->
    <!-- MARCA D'ÁGUA SINARC                                   -->
    <!-- ===================================================== -->
    <div id="sinarc-watermark">SINARC</div>

    <style>
    #sinarc-watermark {
        position: fixed;
        top: 38px;
        left: 65px;
        font-size: 15px;
        // font-weight: bold;
        font-family: Arial, sans-serif;
        color: rgba(204, 204, 204, 0.5); /* Cinza claro com 50% de opacidade */
        z-index: 9990; /* Abaixo do menu, mas acima do grafo */
        pointer-events: none; /* Permite clicar através da marca d'água */
        user-select: none; /* Impede que o texto seja selecionado */
    }
    </style>
    <!-- ===================================================== -->


    <!-- ===================================================== -->
    <!-- MENU SUSPENSO SINARC - COMANDOS DE TECLADO            -->
    <!-- Versão 2.0 com hover automático e simulação de teclas -->
    <!-- ===================================================== -->
    <!-- Este código deve ser inserido no arquivo sinarc.py    -->
    <!-- LOCALIZAÇÃO: Após a linha 8733 (antes de 






    <script>
    // ========================================
    // FUNÇÃO DE OTIMIZAÇÃO AUTOMÁTICA DO GRAFO
    // ========================================

    function otimizarGrafoAutomaticamente() {
        console.log("🎯 OTIMIZAÇÃO AUTOMÁTICA - INICIANDO...");

        

        // 0. RESETAR MASSA DOS NÓS ALTERADOS
        for (let i=0; i<n_bag.length; i++) {
            nodes.update({id: n_bag[i], mass: 1});
            // console.log('Reset mass for node id:', n_bag[i]);
        }
        // Limpa o array de nós já processados
        n_bag = [];
        
        // Reseta a referência de tamanho e o controle de primeira execução
        t_ref = 40;
        pula_100 = true;

        console.log("✓ Sistema de ajuste de massa resetado (todas as massas = 1)");




    
        // ========================================
        // VERIFICA SE É GRAFO DE 1 CAMADA
        // ========================================
        if (typeof n_cam !== 'undefined' && n_cam === 1) {
            console.log("✓ Grafo de 1 camada detectado - Pressionando K...");
            
            const evtK = new KeyboardEvent('keydown', {
                key: 'k', code: 'KeyK', keyCode: 75, which: 75,
                bubbles: true, cancelable: true, view: window
            });
            document.dispatchEvent(evtK);
            
            tempAlert('Grafo de 1 camada: aplicando layout hierárquico...', 2000);

            return;
        }

        


        // 1. DELETAR NÓS TE, EN, EM
        let nodosParaDeletar = [];
        let todosNos = nodes.getIds();
        
        for (let i = 0; i < todosNos.length; i++) {
            let nodeId = todosNos[i];
            if (nodeId.slice(0, 3) === "TE_" || nodeId.slice(0, 3) === "EN_" || nodeId.slice(0, 3) === "EM_") {
                nodosParaDeletar.push(nodeId);
            }
        }
        
        if (nodosParaDeletar.length > 0) {
            nodes.remove(nodosParaDeletar);
            console.log(`✓ ${nodosParaDeletar.length} nós deletados (TE/EN/EM)`);
            tempAlert(`Otimização: ${nodosParaDeletar.length} nós deletados`, 2000);
        }
        


        
        /* // 1. SELECIONAR E DELETAR NÓS TE, EN, EM (ç + ç + DEL)
        const inp = document.getElementById('hidden-input');
        const t = inp || document;
        if (inp) inp.focus();

        // Primeira ç
        ['keydown', 'keypress', 'keyup'].forEach(type => {
            t.dispatchEvent(new KeyboardEvent(type, {
                key: 'ç', code: 'Semicolon', keyCode: 186, which: 186,
                bubbles: true, cancelable: true, view: window
            }));
        });

        // Segunda ç
        ['keydown', 'keypress', 'keyup'].forEach(type => {
            t.dispatchEvent(new KeyboardEvent(type, {
                key: 'ç', code: 'Semicolon', keyCode: 186, which: 186,
                bubbles: true, cancelable: true, view: window
            }));
        });

        // DEL
        ['keydown', 'keyup'].forEach(type => {
            t.dispatchEvent(new KeyboardEvent(type, {
                key: 'Delete', code: 'Delete', keyCode: 46, which: 46,
                bubbles: true, cancelable: true, view: window
            }));
        });*/





        // 2. DISTRIBUIÇÃO DE NÓS POR FAIXA
        todosNos = nodes.getIds();
        let distribuicao = {100:[], 95:[], 90:[], 85:[], 80:[], 75:[], 70:[], 65:[], 60:[], 55:[], 50:[], 45:[], 40:[], 35:[], 30:[], 25:[], 20:[]};
        
        for (let i = 0; i < todosNos.length; i++) {
            let nodeId = todosNos[i];
            let tamanho = network.body.nodes[nodeId].options.size;
            
            if (tamanho >= 99.99) distribuicao[100].push(nodeId);
            else if (tamanho >= 95) distribuicao[95].push(nodeId);
            else if (tamanho >= 90) distribuicao[90].push(nodeId);
            else if (tamanho >= 85) distribuicao[85].push(nodeId);
            else if (tamanho >= 80) distribuicao[80].push(nodeId);
            else if (tamanho >= 75) distribuicao[75].push(nodeId);
            else if (tamanho >= 70) distribuicao[70].push(nodeId);
            else if (tamanho >= 65) distribuicao[65].push(nodeId);
            else if (tamanho >= 60) distribuicao[60].push(nodeId);
            else if (tamanho >= 55) distribuicao[55].push(nodeId);
            else if (tamanho >= 50) distribuicao[50].push(nodeId);
            else if (tamanho >= 45) distribuicao[45].push(nodeId);
            else if (tamanho >= 40) distribuicao[40].push(nodeId);
            else if (tamanho >= 35) distribuicao[35].push(nodeId);
            else if (tamanho >= 30) distribuicao[30].push(nodeId);
            else if (tamanho >= 25) distribuicao[25].push(nodeId);
            else if (tamanho >= 20) distribuicao[20].push(nodeId);
        }
        
        console.log("DISTRIBUIÇÃO:", distribuicao);
        
        // 3. CALCULAR NÚMERO IDEAL DE PRESSIONAMENTOS
        let totalNos = todosNos.length;
        let nosAcumulados = 0;
        let pressionamentosIdeal = 0;
        let faixas = [100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20];
        
        // =========================================================================
        // CONFIGURAÇÕES - AJUSTÁVEIS
        // =========================================================================
        // ESTRATÉGIA: 3 critérios independentes para detectar saltos
        // Mínimo relativo adapta-se ao tamanho do grafo
        // =========================================================================
        
        const LIMIAR_SALTO_PERCENTUAL = 0.15;      // 10% do total (salto absoluto)
        const LIMIAR_SALTO_RELATIVO = 2.0;         // 3.5x a média (salto moderado)
        const LIMIAR_MINIMO_RELATIVO = 0.05;       // 5% do total (mínimo para salto moderado)
        const LIMIAR_SALTO_GIGANTE = 9.0;          // 9x a média (salto gigante)
        const MINIMO = 2;                          // Mínimo 2 pressionamentos
        const MAXIMO = 16;                         // Máximo 16 pressionamentos
        
        // Calcula mínimo absoluto baseado no tamanho do grafo (mínimo: 10 nós)
        let minimoAbsoluto = Math.max(3, Math.floor(totalNos * LIMIAR_MINIMO_RELATIVO));
        console.log(`\nMínimo absoluto calculado: ${minimoAbsoluto} nós (${LIMIAR_MINIMO_RELATIVO*100}% de ${totalNos})`);
        
        // Calcula média móvel das últimas faixas processadas (janela de 3)
        let historicoFaixas = [];
        
        console.log("\n=== ANÁLISE FAIXA POR FAIXA ===");
        
        for (let i = 0; i < faixas.length - 1; i++) {
            let faixaAtual = faixas[i];
            let faixaProxima = faixas[i + 1];
            let nosNaFaixaAtual = distribuicao[faixaAtual].length;
            let nosNaProximaFaixa = distribuicao[faixaProxima].length;
            
            // Adiciona faixa atual ao acumulado
            nosAcumulados += nosNaFaixaAtual;
            pressionamentosIdeal++;
            
            let porcentagemFaixaAtual = nosNaFaixaAtual / totalNos;
            let porcentagemProximaFaixa = nosNaProximaFaixa / totalNos;
            
            // Atualiza histórico (mantém últimas 3 faixas não-vazias)
            if (nosNaFaixaAtual > 0) {
                historicoFaixas.push(nosNaFaixaAtual);
                if (historicoFaixas.length > 3) {
                    historicoFaixas.shift();
                }
            }
            
            // Calcula média das faixas recentes
            let mediaRecente = historicoFaixas.length > 0 
                ? historicoFaixas.reduce((a, b) => a + b, 0) / historicoFaixas.length 
                : nosNaFaixaAtual;
            
            console.log(`Faixa ${faixaAtual}: ${nosNaFaixaAtual} nós (${(porcentagemFaixaAtual*100).toFixed(1)}%)`);
            console.log(`  → Próxima faixa ${faixaProxima}: ${nosNaProximaFaixa} nós (${(porcentagemProximaFaixa*100).toFixed(1)}%)`);
            console.log(`  → Média recente: ${mediaRecente.toFixed(1)} nós`);
            
            // =====================================================================
            // CRITÉRIOS DE DETECÇÃO DE SALTO (3 critérios independentes)
            // =====================================================================
            
            if (pressionamentosIdeal >= MINIMO) {
                
                // CRITÉRIO 1: SALTO ABSOLUTO (% do total)
                // Para se próxima faixa tem muitos nós em relação ao total
                if (porcentagemProximaFaixa >= LIMIAR_SALTO_PERCENTUAL) {
                    console.log(`✓ CRITÉRIO 1 - SALTO ABSOLUTO detectado!`);
                    console.log(`  Próxima faixa ${faixaProxima} tem ${(porcentagemProximaFaixa*100).toFixed(1)}% dos nós (limiar: ${(LIMIAR_SALTO_PERCENTUAL*100).toFixed(0)}%)`);
                    console.log(`  → PARA AQUI para evitar espalhar grafo`);
                    break;
                }
                
                // CRITÉRIO 2: SALTO GIGANTE (independente do valor absoluto)
                // Para se próxima faixa tem MUITAS vezes mais nós que a média
                if (mediaRecente > 0 && nosNaProximaFaixa > mediaRecente * LIMIAR_SALTO_GIGANTE) {
                    console.log(`✓ CRITÉRIO 2 - SALTO GIGANTE detectado!`);
                    console.log(`  Próxima faixa ${faixaProxima} tem ${nosNaProximaFaixa} nós`);
                    console.log(`  Média recente: ${mediaRecente.toFixed(1)} nós`);
                    console.log(`  Proporção: ${(nosNaProximaFaixa / mediaRecente).toFixed(1)}x (limiar: ${LIMIAR_SALTO_GIGANTE}x)`);
                    console.log(`  → PARA AQUI para evitar espalhar grafo`);
                    break;
                }
                
                // CRITÉRIO 3: SALTO MODERADO + MUITOS NÓS (relativo ao total)
                // Para se próxima faixa é maior que a média E tem muitos nós proporcionalmente
                if (mediaRecente > 0 && 
                    nosNaProximaFaixa > mediaRecente * LIMIAR_SALTO_RELATIVO &&
                    nosNaProximaFaixa >= minimoAbsoluto) {
                    console.log(`✓ CRITÉRIO 3 - SALTO MODERADO + MUITOS NÓS detectado!`);
                    console.log(`  Próxima faixa ${faixaProxima} tem ${nosNaProximaFaixa} nós`);
                    console.log(`  Média recente: ${mediaRecente.toFixed(1)} nós`);
                    console.log(`  Proporção: ${(nosNaProximaFaixa / mediaRecente).toFixed(1)}x (limiar: ${LIMIAR_SALTO_RELATIVO}x)`);
                    console.log(`  E tem ≥${minimoAbsoluto} nós (${LIMIAR_MINIMO_RELATIVO*100}% do total)`);
                    console.log(`  → PARA AQUI para evitar espalhar grafo`);
                    break;
                }
            }
            
            // Limite máximo de segurança
            if (pressionamentosIdeal >= MAXIMO) {
                console.log(`✓ Limite máximo de segurança atingido (${MAXIMO})`);
                break;
            }
        }
        
        // Garante mínimo de segurança
        if (pressionamentosIdeal < MINIMO) {
            pressionamentosIdeal = MINIMO;
            console.log(`✓ Aplicando mínimo de segurança: ${MINIMO} pressionamentos`);
        }

        console.log(`\n>>> RESULTADO: ${pressionamentosIdeal} pressionamentos`);
        console.log(`>>> Cobertura: ${(nosAcumulados/totalNos*100).toFixed(1)}%`);
        
        // 4. PRESSIONAR TECLA ESPAÇO
        tempAlert(`Otimização: Aplicando ${pressionamentosIdeal} ajustes...`, 2000);
        
        function simularEspaco() {
            const evt = new KeyboardEvent('keydown', {
                key: ' ', code: 'Space', keyCode: 32, which: 32,
                bubbles: true, cancelable: true, view: window
            });
            document.dispatchEvent(evt);
        }
        
        let contador = 0;
        const intervalo = setInterval(() => {
            simularEspaco();
            contador++;
            console.log(`  Pressionamento ${contador}/${pressionamentosIdeal}`);
            
            if (contador >= pressionamentosIdeal) {
                clearInterval(intervalo);
                
                // 5. CENTRALIZAR (ESC)
                setTimeout(() => {
                    const evtEsc = new KeyboardEvent('keydown', {
                        key: 'Escape', code: 'Escape', keyCode: 27, which: 27,
                        bubbles: true, cancelable: true, view: window
                    });
                    document.dispatchEvent(evtEsc);

                    // ✅ DESSELECIONA TODOS OS NÓS APÓS CADA PRESSIONAMENTO
                    network.unselectAll();
                    
                    console.log("✓ OTIMIZAÇÃO CONCLUÍDA!");
                    tempAlert(`✓ Grafo otimizado! (${pressionamentosIdeal} ajustes aplicados)`, 3000);
                }, 1000);
            }
        }, 200);
    }

    // Torna função global
    window.otimizarGrafoAutomaticamente = otimizarGrafoAutomaticamente;

    </script>


    


    <script>
    // Event listener para o botão de otimização
    document.getElementById('sinarc-otimizar-button').addEventListener('click', function() {
        // Feedback visual
        this.style.background = 'rgba(89, 201, 67, 0.4)';
        setTimeout(() => {
            this.style.background = '';
        }, 300);
        
        // Chama a função de otimização
        if (typeof otimizarGrafoAutomaticamente === 'function') {
            otimizarGrafoAutomaticamente();
        } else {
            console.error('Função otimizarGrafoAutomaticamente não encontrada!');
            alert('Erro: Função de otimização não está disponível.');
        }
    });
    </script>





    <script>
    // ========================================
    // DUPLO CLIQUE NO FUNDO = ESC
    // ========================================

    function ativarDuploCliqueESC() {
        let container = document.getElementById('mynetwork') || 
                        document.querySelector('#network') || 
                        document.querySelector('[id*="network"]');
        
        if (!container) {
            console.error('❌ Container do grafo não encontrado!');
            return;
        }
        
        if (typeof network === 'undefined') {
            console.error('❌ Objeto network não encontrado!');
            return;
        }
        
        // Listener para duplo clique
        network.on('doubleClick', function(params) {
            // Verificar se clicou no fundo (não em nó ou aresta)
            if (params.nodes.length === 0 && params.edges.length === 0) {
                //console.log('⚡ Duplo clique no fundo - simulando ESC');
                
                // Simular pressionamento da tecla ESC
                const eventESC = new KeyboardEvent('keydown', {
                    key: 'Escape',
                    code: 'Escape',
                    keyCode: 27,
                    which: 27,
                    bubbles: true,
                    cancelable: true
                });
                
                document.dispatchEvent(eventESC);
                
                // Também disparar keyup para completar o ciclo
                const eventESCUp = new KeyboardEvent('keyup', {
                    key: 'Escape',
                    code: 'Escape',
                    keyCode: 27,
                    which: 27,
                    bubbles: true,
                    cancelable: true
                });
                
                document.dispatchEvent(eventESCUp);
            }
        });
        
        //console.log('✅ Duplo clique no fundo = ESC ativado');
    }

    // Ativar quando o network estiver pronto
    if (typeof network !== 'undefined') {
        ativarDuploCliqueESC();
    } else {
        // Tentar após um pequeno delay se network ainda não existe
        setTimeout(function() {
            if (typeof network !== 'undefined') {
                ativarDuploCliqueESC();
            }
        }, 1000);
    }
    </script>






    
<script>

// ===================================================
// IMPORTADOR DE EXCEL + SUBSTITUIR IMAGEM + CRIAR NÓS
// (VERSÃO OTIMIZADA - COM RECÁLCULO COMPLETO)
// ===================================================

function iniciarImportadorSinarc() {
    // Prevenção de múltiplas inicializações
    if (window._sinarcImportadorAtivo) {
        console.log('⚠️ Importador já ativo, pulando inicialização');
        return;
    }
    window._sinarcImportadorAtivo = true;
    
    // Carregar XLSX.js se necessário
    if (typeof XLSX === 'undefined') {
        let script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js';
        script.onload = () => iniciarImportador();
        script.onerror = () => console.error('❌ Erro ao carregar XLSX.js');
        document.head.appendChild(script);
    } else {
        iniciarImportador();
    }
    
    function iniciarImportador() {
        let container = document.getElementById('mynetwork') || 
                    document.querySelector('#network') || 
                    document.querySelector('[id*="network"]');
        
        if (!container) {
            console.error('❌ Container do grafo não encontrado!');
            return;
        }
        
        // ========================================
        // CONFIGURAÇÕES PADRÃO DO GRAFO
        // ========================================
        
        const CONFIG_NO_PADRAO = {
            font: {
                color: '#777777',
                strokeWidth: 4,
                strokeColor: '#ffffff'
            },
            shapeProperties: {
                useBorderWithImage: true,
                interpolation: true
            },
            color: {
                border: 'transparent',
                background: 'transparent',
                hover: {
                    border: 'transparent',
                    background: 'transparent'
                },
                highlight: {
                    border: 'transparent',
                    background: 'rgba(0, 255, 0, 0.3)'
                }
            }
        };
        
        const CONFIG_ARESTA_PADRAO = {
            smooth: {
                enabled: false
            },
            font: {
                align: 'top',
                color: '#777777',
                size: 15
            },
            color: {
                color: '#2B7CE9',
                highlight: '#FF0000',
                hover: '#FF0000',
                inherit: false
            },
            arrowStrikethrough: false,
            width: 1,
            length: 300
        };
        
        // ========================================
        // ✅ RECÁLCULO COM DEBOUNCE
        // ========================================
        
        let timeoutRecalculo = null;
        
        function recalcularTamanhosDebounced() {
            if (timeoutRecalculo) {
                clearTimeout(timeoutRecalculo);
            }
            
            timeoutRecalculo = setTimeout(() => {
                recalcularTamanhos();
            }, 100);  // 100ms de debounce
        }
        
        // ========================================
        // ✅ LISTENERS COMPLETOS (NÓS + ARESTAS)
        // ========================================
        
        if (typeof nodes !== 'undefined' && !nodes._sinarcListenerAdded) {
            // Quando nós são ADICIONADOS
            nodes.on('add', function(event, properties) {
                console.log(`➕ ${properties.items.length} nó(s) adicionado(s)`);
                recalcularTamanhosDebounced();
            });
            
            // Quando nós são REMOVIDOS
            nodes.on('remove', function(event, properties) {
                console.log(`🗑️ ${properties.items.length} nó(s) removido(s)`);
                recalcularTamanhosDebounced();
            });
            
            nodes._sinarcListenerAdded = true;
            console.log('👂 Listeners de nós ativados');
        }
        
        if (typeof edges !== 'undefined' && !edges._sinarcListenerAdded) {
            // Quando arestas são ADICIONADAS
            edges.on('add', function(event, properties) {
                console.log(`🔗 ${properties.items.length} aresta(s) adicionada(s)`);
                recalcularTamanhosDebounced();
            });
            
            // Quando arestas são REMOVIDAS
            edges.on('remove', function(event, properties) {
                console.log(`✂️ ${properties.items.length} aresta(s) removida(s)`);
                recalcularTamanhosDebounced();
            });
            
            edges._sinarcListenerAdded = true;
            console.log('👂 Listeners de arestas ativados');
        }
        
        // Paleta de cores
        let paletaCores = [
            '#97c2fc', '#fb7e81', '#ffa807', '#7be141', '#c2c2f0',
            '#ffeb9c', '#ad85e4', '#ff9da6', '#8dd1e1', '#d4a76a',
            '#6e6efa', '#5dc8cd', '#ffc857', '#db3a34', '#084c61',
            '#56b4e9', '#e69f00', '#009e73', '#f0e442', '#0072b2'
        ];
        
        let mapaTipoCor = new Map();
        let indiceCor = 0;
        
        // Constantes de proximidade
        const DISTANCIA_SUBSTITUIR = 30;
        const DISTANCIA_CONECTAR = 100;
        
        // Variáveis para drag de imagem
        let noSobCursor = null;
        let noProximo = null;
        let ultimaPosicao = {x: 0, y: 0};
        let modoArrastar = null;
        
        // Cache de posições
        let cachePosicoes = null;
        let timestampCache = 0;
        const CACHE_EXPIRY = 200;
        
        function escurecerCor(cor, porcentagem) {
            cor = cor.replace('#', '');
            let num = parseInt(cor, 16);
            let r = (num >> 16);
            let g = ((num >> 8) & 0x00FF);
            let b = (num & 0x0000FF);
            
            r = Math.floor(r * (1 - porcentagem / 100));
            g = Math.floor(g * (1 - porcentagem / 100));
            b = Math.floor(b * (1 - porcentagem / 100));
            
            r = Math.max(0, Math.min(255, r));
            g = Math.max(0, Math.min(255, g));
            b = Math.max(0, Math.min(255, b));
            
            return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        }
        
        function obterCorPorTipo(tipo) {
            if (!tipo) tipo = 'default';
            tipo = String(tipo).trim();
            
            if (mapaTipoCor.has(tipo)) {
                return mapaTipoCor.get(tipo);
            }
            
            let cor = paletaCores[indiceCor % paletaCores.length];
            mapaTipoCor.set(tipo, cor);
            indiceCor++;
            
            return cor;
        }
        
        function calcularDistancia(x1, y1, x2, y2) {
            return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
        }
        
        function detectarNoProximo(canvasX, canvasY) {
            if (typeof network === 'undefined') return null;
            
            let agora = Date.now();
            if (!cachePosicoes || (agora - timestampCache) > CACHE_EXPIRY) {
                let todosNos = nodes.get();
                cachePosicoes = todosNos.map(no => ({
                    id: no.id,
                    pos: network.getPositions([no.id])[no.id]
                })).filter(item => item.pos);
                timestampCache = agora;
            }
            
            let noMaisProximo = null;
            let menorDistancia = Infinity;
            
            for (let i = 0; i < cachePosicoes.length; i++) {
                let item = cachePosicoes[i];
                let distancia = calcularDistancia(canvasX, canvasY, item.pos.x, item.pos.y);
                
                if (distancia < menorDistancia) {
                    menorDistancia = distancia;
                    noMaisProximo = {id: item.id, distancia: distancia};
                    
                    if (distancia < DISTANCIA_SUBSTITUIR) {
                        break;
                    }
                }
            }
            
            return noMaisProximo;
        }
        
        // ========================================
        // ✅ RECÁLCULO EFICIENTE
        // ========================================
        
        function recalcularTamanhos() {
            if (typeof nodes === 'undefined' || typeof edges === 'undefined') return;
            
            let contagemConexao = {};
            
            let todosNos = nodes.get();
            let todasArestas = edges.get();
            
            // Inicializar contagem
            for (let i = 0; i < todosNos.length; i++) {
                contagemConexao[todosNos[i].id] = 0;
            }
            
            // Contar conexões
            for (let i = 0; i < todasArestas.length; i++) {
                let aresta = todasArestas[i];
                if (contagemConexao[aresta.from] !== undefined) {
                    contagemConexao[aresta.from]++;
                }
                if (contagemConexao[aresta.to] !== undefined) {
                    contagemConexao[aresta.to]++;
                }
            }
            
            let maxConexao = Math.max(...Object.values(contagemConexao), 1);
            
            // Atualizar tamanhos em lote
            let updates = [];
            for (let i = 0; i < todosNos.length; i++) {
                let no = todosNos[i];
                let valor = contagemConexao[no.id] || 0;
                
                let tamanho = maxConexao === 1 
                    ? 50 
                    : 20 + Math.round(80 * (valor) / (maxConexao));
                
                tamanho = Math.max(20, Math.min(100, tamanho));
                
                updates.push({
                    id: no.id,
                    size: tamanho,
                    value: valor
                });
            }
            
            nodes.update(updates);
            cachePosicoes = null;
            
            console.log(`🔄 Tamanhos recalculados: ${todosNos.length} nós, max ${maxConexao} conexões`);
        }
        
        // ========================================
        // DRAG AND DROP
        // ========================================
        
        let ultimoDragover = 0;
        const THROTTLE_DRAGOVER = 50;
        
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(evt => {
            container.addEventListener(evt, e => {
                e.preventDefault();
                e.stopPropagation();
            }, false);
        });
        
        container.addEventListener('dragover', function(e) {
            e.preventDefault();
            
            let agora = Date.now();
            if (agora - ultimoDragover < THROTTLE_DRAGOVER) {
                return;
            }
            ultimoDragover = agora;
            
            if (e.dataTransfer.types.includes('Files')) {
                ultimaPosicao.x = e.clientX;
                ultimaPosicao.y = e.clientY;
                
                if (typeof network !== 'undefined') {
                    let rect = container.getBoundingClientRect();
                    let canvasX = e.clientX - rect.left;
                    let canvasY = e.clientY - rect.top;
                    
                    let posCanvas = network.DOMtoCanvas({x: canvasX, y: canvasY});
                    let noInfo = detectarNoProximo(posCanvas.x, posCanvas.y);
                    
                    if (noInfo) {
                        let posicaoNo = network.getPositions([noInfo.id])[noInfo.id];
                        let posicaoNoTela = network.canvasToDOM(posicaoNo);
                        let distanciaTela = calcularDistancia(canvasX, canvasY, posicaoNoTela.x, posicaoNoTela.y);
                        
                        if (distanciaTela < DISTANCIA_SUBSTITUIR) {
                            modoArrastar = 'substituir';
                            noSobCursor = noInfo.id;
                            noProximo = null;
                            container.style.borderColor = '#2196F3';
                            container.style.backgroundColor = 'rgba(33, 150, 243, 0.2)';
                        } else if (distanciaTela < DISTANCIA_CONECTAR) {
                            modoArrastar = 'conectar';
                            noSobCursor = null;
                            noProximo = noInfo.id;
                            container.style.borderColor = '#FF9800';
                            container.style.backgroundColor = 'rgba(255, 152, 0, 0.15)';
                        } else {
                            modoArrastar = 'criar';
                            noSobCursor = null;
                            noProximo = null;
                            container.style.borderColor = '#4CAF50';
                            container.style.backgroundColor = 'rgba(76, 175, 80, 0.1)';
                        }
                    } else {
                        modoArrastar = 'criar';
                        noSobCursor = null;
                        noProximo = null;
                        container.style.borderColor = '#4CAF50';
                        container.style.backgroundColor = 'rgba(76, 175, 80, 0.1)';
                    }
                }
            }
        }, false);
        
        container.addEventListener('dragleave', function(e) {
            container.style.borderColor = '';
            container.style.backgroundColor = '';
            noSobCursor = null;
            noProximo = null;
            modoArrastar = null;
        }, false);
        
        container.addEventListener('drop', function(e) {
            e.preventDefault();
            
            container.style.borderColor = '';
            container.style.backgroundColor = '';
            
            let file = e.dataTransfer.files[0];
            
            if (!file) {
                console.log('❌ Nenhum arquivo detectado');
                return;
            }
            
            if (file.type.startsWith('image/')) {
                let rect = container.getBoundingClientRect();
                let canvasX = ultimaPosicao.x - rect.left;
                let canvasY = ultimaPosicao.y - rect.top;
                let posCanvas = network.DOMtoCanvas({x: canvasX, y: canvasY});
                
                if (modoArrastar === 'substituir' && noSobCursor) {
                    substituirImagemNo(noSobCursor, file);
                } else if (modoArrastar === 'conectar' && noProximo) {
                    criarNoConectado(noProximo, file, posCanvas.x, posCanvas.y);
                } else {
                    criarNoIsolado(file, posCanvas.x, posCanvas.y);
                }
                
                noSobCursor = null;
                noProximo = null;
                modoArrastar = null;
                return;
            }
            
            if (file.name.match(/\.(xlsx|xls)$/i)) {
                let reader = new FileReader();
                
                reader.onload = function(evt) {
                    try {
                        processarExcel(evt.target.result);
                    } catch (erro) {
                        console.error('Erro:', erro);
                        alert('❌ Erro ao processar: ' + erro.message);
                    }
                };
                
                reader.readAsArrayBuffer(file);
            }
            
            noSobCursor = null;
            noProximo = null;
            modoArrastar = null;
        }, false);
        
        // ========================================
        // SUBSTITUIR IMAGEM
        // ========================================
        
        function substituirImagemNo(noId, arquivo) {
            let reader = new FileReader();
            
            reader.onload = function(evt) {
                try {
                    let no = nodes.get(noId);
                    
                    if (!no) {
                        console.error('❌ Nó não encontrado:', noId);
                        alert('❌ Nó não encontrado: ' + noId);
                        return;
                    }
                    
                    let noAtualizado = {
                        id: no.id,
                        shape: 'image',
                        image: evt.target.result,
                        color: CONFIG_NO_PADRAO.color,
                        borderWidth: 0,
                        borderWidthSelected: 0,
                        imagePadding: 0
                    };
                    
                    if (no.label !== undefined) noAtualizado.label = no.label;
                    if (no.title !== undefined) noAtualizado.title = no.title;
                    if (no.size !== undefined) noAtualizado.size = no.size;
                    if (no.value !== undefined) noAtualizado.value = no.value;
                    if (no.font !== undefined) noAtualizado.font = no.font;
                    if (no.z_ancestor !== undefined) noAtualizado.z_ancestor = no.z_ancestor;
                    if (no.z_group !== undefined) noAtualizado.z_group = no.z_group;
                    if (no.z_novo !== undefined) noAtualizado.z_novo = no.z_novo;
                    if (no.shapeProperties !== undefined) noAtualizado.shapeProperties = no.shapeProperties;
                    
                    nodes.update(noAtualizado);
                    cachePosicoes = null;
                    
                } catch (erro) {
                    console.error('❌ Erro ao substituir:', erro);
                    alert('❌ Erro: ' + erro.message);
                }
            };
            
            reader.onerror = function(erro) {
                console.error('❌ Erro ao ler arquivo:', erro);
                alert('❌ Erro ao ler imagem');
            };
            
            reader.readAsDataURL(arquivo);
        }
        
        // ========================================
        // CRIAR NÓ ISOLADO
        // ========================================
        
        function criarNoIsolado(arquivo, x, y) {
            let labelNo = prompt('Digite o label do novo nó:', arquivo.name.split('.')[0]);
            
            if (labelNo === null) {
                console.log('⚠️ Criação de nó cancelada pelo usuário');
                return;
            }
            
            if (labelNo === undefined || labelNo.trim() === '') {
                labelNo = '';
            }
            
            let reader = new FileReader();
            
            reader.onload = function(evt) {
                try {
                    let timestamp = Date.now();
                    let novoId = `img_${timestamp}`;
                    
                    let novoNo = {
                        id: novoId,
                        label: labelNo,
                        title: arquivo.name,
                        shape: 'image',
                        image: evt.target.result,
                        size: 20,
                        value: 0,
                        x: x,
                        y: y,
                        font: CONFIG_NO_PADRAO.font,
                        shapeProperties: CONFIG_NO_PADRAO.shapeProperties,
                        z_ancestor: "true",
                        z_group: 1,
                        z_novo: 1,
                        color: CONFIG_NO_PADRAO.color,
                        borderWidth: 0,
                        borderWidthSelected: 0,
                        imagePadding: 0
                    };
                    
                    nodes.add(novoNo);
                    cachePosicoes = null;
                    // ✅ Listener 'add' dispara recálculo automaticamente
                    
                } catch (erro) {
                    console.error('❌ Erro ao criar nó:', erro);
                    alert('❌ Erro: ' + erro.message);
                }
            };
            
            reader.readAsDataURL(arquivo);
        }
        
        // ========================================
        // CRIAR NÓ CONECTADO
        // ========================================
        
        function criarNoConectado(noIdAlvo, arquivo, x, y) {
            let inverterDirecao = confirm(
                '🔄 Direção da seta:\n\n' +
                '✓ OK = Nó existente → Novo nó (padrão)\n' +
                '✗ Cancelar = Novo nó → Nó existente'
            );
            
            let labelNo = prompt('Digite o label do novo nó:', arquivo.name.split('.')[0]);
            
            if (labelNo === null) {
                console.log('⚠️ Criação de nó cancelada pelo usuário');
                return;
            }
            
            if (labelNo === undefined || labelNo.trim() === '') {
                labelNo = '';
            }
            
            let labelAresta = prompt('Digite o label da conexão (deixe vazio se não quiser):', '');
            
            if (labelAresta === null) {
                console.log('⚠️ Criação de nó cancelada pelo usuário');
                return;
            }
            
            if (labelAresta === undefined || labelAresta.trim() === '') {
                labelAresta = '';
            }
            
            let reader = new FileReader();
            
            reader.onload = function(evt) {
                try {
                    let timestamp = Date.now();
                    let novoId = `img_${timestamp}`;
                    
                    let novoNo = {
                        id: novoId,
                        label: labelNo,
                        title: arquivo.name,
                        shape: 'image',
                        image: evt.target.result,
                        size: 20,
                        value: 1,
                        x: x,
                        y: y,
                        font: CONFIG_NO_PADRAO.font,
                        shapeProperties: CONFIG_NO_PADRAO.shapeProperties,
                        z_ancestor: "true",
                        z_group: 1,
                        z_novo: 1,
                        color: CONFIG_NO_PADRAO.color,
                        borderWidth: 0,
                        borderWidthSelected: 0,
                        imagePadding: 0
                    };
                    
                    nodes.add(novoNo);
                    
                    let fromId, toId;
                    if (inverterDirecao) {
                        fromId = noIdAlvo;
                        toId = novoId;
                    } else {
                        fromId = novoId;
                        toId = noIdAlvo;
                    }
                    
                    let novaAresta = {
                        from: fromId,
                        to: toId,
                        arrows: 'to',
                        smooth: CONFIG_ARESTA_PADRAO.smooth,
                        font: CONFIG_ARESTA_PADRAO.font,
                        color: CONFIG_ARESTA_PADRAO.color,
                        arrowStrikethrough: CONFIG_ARESTA_PADRAO.arrowStrikethrough,
                        width: CONFIG_ARESTA_PADRAO.width,
                        length: CONFIG_ARESTA_PADRAO.length
                    };
                    
                    if (labelAresta !== '') {
                        novaAresta.label = labelAresta;
                        novaAresta.title = labelAresta;
                    }
                    
                    edges.add(novaAresta);
                    cachePosicoes = null;
                    // ✅ Listeners disparam recálculo automaticamente
                    
                } catch (erro) {
                    console.error('❌ Erro ao criar nó conectado:', erro);
                    alert('❌ Erro: ' + erro.message);
                }
            };
            
            reader.readAsDataURL(arquivo);
        }
        
        // ========================================
        // PROCESSAR EXCEL
        // ========================================
        
        function processarExcel(data) {
            let workbook = XLSX.read(data, {type: 'array'});
            let sheet = workbook.Sheets[workbook.SheetNames[0]];
            let linhas = XLSX.utils.sheet_to_json(sheet);
            
            adicionarAoGrafo(linhas);
        }
        
        function adicionarAoGrafo(linhas) {
            if (typeof nodes !== 'undefined' && nodes.length > 0) {
                alert('⚠️ O grafo possui nós.\n\nDelete todos os nós do grafo antes de importar dados do Excel.');
                console.warn('❌ Importação cancelada - grafo não está vazio');
                return;
            }
            
            let mapaNo = new Map();
            let contagemConexao = {};
            let listaAresta = [];
            let erro = [];
            
            let tiposUnicos = new Set();
            linhas.forEach(linha => {
                let tipo1 = linha.type_1 || linha.TYPE_1 || 'default';
                let tipo2 = linha.type_2 || linha.TYPE_2 || 'default';
                tiposUnicos.add(String(tipo1).trim());
                tiposUnicos.add(String(tipo2).trim());
            });
            
            Array.from(tiposUnicos).sort().forEach(tipo => {
                obterCorPorTipo(tipo);
            });
            
            linhas.forEach((linha, idx) => {
                try {
                    let label1 = linha.label_1 || linha.LABEL_1;
                    let image1 = linha.image_1 || linha.IMAGE_1 || '';
                    let title1 = linha.title_1 || linha.TITLE_1 || label1;
                    let tipo1 = String(linha.type_1 || linha.TYPE_1 || 'default').trim();
                    
                    let label2 = linha.label_2 || linha.LABEL_2;
                    let image2 = linha.image_2 || linha.IMAGE_2 || '';
                    let title2 = linha.title_2 || linha.TITLE_2 || label2;
                    let tipo2 = String(linha.type_2 || linha.TYPE_2 || 'default').trim();
                    
                    let edgeTitle = linha.edge_label || linha.EDGE_LABEL || '';
                    
                    if (!label1 || !label2) {
                        erro.push(`Linha ${idx + 2}: Labels obrigatórios`);
                        return;
                    }
                    
                    if (!mapaNo.has(label1)) {
                        mapaNo.set(label1, {
                            label: label1, 
                            image: image1, 
                            title: title1,
                            tipo: tipo1
                        });
                        contagemConexao[label1] = 0;
                    }
                    
                    if (!mapaNo.has(label2)) {
                        mapaNo.set(label2, {
                            label: label2, 
                            image: image2, 
                            title: title2,
                            tipo: tipo2
                        });
                        contagemConexao[label2] = 0;
                    }
                    
                    contagemConexao[label1]++;
                    contagemConexao[label2]++;
                    
                    listaAresta.push({from: label1, to: label2, label: edgeTitle});
                    
                } catch (e) {
                    erro.push(`Linha ${idx + 2}: ${e.message}`);
                }
            });
            
            let maxConexao = Math.max(...Object.values(contagemConexao), 1);
            
            let novosNos = [];
            let novasArestas = [];
            
            mapaNo.forEach((info, id) => {
                try {
                    let valor = contagemConexao[id] || 1;
                    
                    let tamanho = maxConexao === 1 
                        ? 50 
                        : 20 + Math.round(80 * (valor - 1) / (maxConexao - 1));
                    
                    tamanho = Math.max(20, Math.min(100, tamanho));
                    
                    let no = {
                        id: id,
                        label: info.label,
                        title: info.title,
                        size: tamanho,
                        value: valor,
                        font: CONFIG_NO_PADRAO.font,
                        shapeProperties: CONFIG_NO_PADRAO.shapeProperties,
                        z_ancestor: "true",
                        z_group: 1,
                        z_novo: 1
                    };
                    
                    if (info.image && info.image.trim() !== '') {
                        no.shape = 'image';
                        no.image = info.image;
                        no.color = CONFIG_NO_PADRAO.color;
                        no.borderWidth = 0;
                        no.borderWidthSelected = 0;
                        no.imagePadding = 0;
                    } else {
                        no.shape = 'dot';
                        let cor = obterCorPorTipo(info.tipo);
                        let corBorda = escurecerCor(cor, 30);
                        
                        no.color = {
                            background: cor,
                            border: corBorda,
                            hover: {
                                background: cor,
                                border: corBorda
                            },
                            highlight: {
                                background: cor,
                                border: corBorda
                            }
                        };
                    }
                    
                    novosNos.push(no);
                    
                } catch (e) {
                    if (!e.message || !e.message.includes('already exists')) {
                        erro.push(`Nó ${id}: ${e.message}`);
                    }
                }
            });
            
            listaAresta.forEach((aresta) => {
                try {
                    let novaAresta = {
                        from: aresta.from,
                        to: aresta.to,
                        arrows: 'to',
                        smooth: CONFIG_ARESTA_PADRAO.smooth,
                        font: CONFIG_ARESTA_PADRAO.font,
                        color: CONFIG_ARESTA_PADRAO.color,
                        arrowStrikethrough: CONFIG_ARESTA_PADRAO.arrowStrikethrough,
                        width: CONFIG_ARESTA_PADRAO.width
                    };
                    
                    if (aresta.label && aresta.label.trim() !== '') {
                        novaAresta.label = aresta.label;
                        novaAresta.title = aresta.label;
                    }
                    
                    novasArestas.push(novaAresta);
                } catch (e) {
                    if (!e.message.includes('already exists')) {
                        erro.push(`Aresta: ${e.message}`);
                    }
                }
            });
            
            // Adicionar tudo em lote
            nodes.add(novosNos);
            edges.add(novasArestas);
            
            cachePosicoes = null;
            
            Array.from(mapaTipoCor.entries())
                .sort((a, b) => a[0].localeCompare(b[0]))
                .forEach(([tipo, cor]) => {
                    console.log(`  ${tipo}: ${cor}`);
                });
            
            let msg = `✅ ${novosNos.length} nós\n`;
            msg += `✅ ${novasArestas.length} arestas\n`;
            msg += `📊 Máx conexões: ${maxConexao}\n`;
            msg += `🎨 Tipos: ${mapaTipoCor.size}`;
            
            if (erro.length > 0) {
                msg += `\n\n⚠️ ${erro.length} avisos`;
                console.warn('Avisos:', erro);
            }
            
            alert(msg);
            
            if (typeof network !== 'undefined' && network.fit) {
                network.fit();
            }
        }
        
        console.log('📦 Excel: label_1, image_1, title_1, type_1, edge_label, label_2, image_2, title_2, type_2');
        console.log('🖼️ Imagem: Em cima=substituir | Próximo=conectar | Vazio=criar isolado');
        console.log('🔄 Recálculo automático: ATIVADO (nós + arestas)');
    }
}

// Iniciar quando a página carregar
window.addEventListener('load', iniciarImportadorSinarc);

</script>




    


    




</body>)     -->
    <!-- ===================================================== -->

    <style>
    /* Estilos do Menu Suspenso SINARC */
    #sinarc-menu-container {
        position: fixed;
        top: 30px;
        left: 21px;
        z-index: 10000;
        font-family: Arial, sans-serif;
    }

    #sinarc-menu-toggle {
        background: rgba(255, 255, 255, 0.7);
        border: 1px solid rgba(89, 201, 67, 0.6);
        border-radius: 4px;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 16px;
        font-weight: normal;
        color: #555;
        box-shadow: 0 1px 5px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        user-select: none;
    }

    #sinarc-menu-toggle:hover {
        background: rgba(89, 201, 67, 0.15);
        border-color: rgba(89, 201, 67, 0.9);
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    #sinarc-menu-dropdown {
        display: none;
        position: absolute;
        top: 35px;
        left: 0;
        background: rgba(255, 255, 255, 0.97);
        border: 2px solid rgba(89, 201, 67, 1);
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        min-width: 300px;
        max-height: 600px;
        overflow-y: auto;
        overflow-x: hidden;
    }

    #sinarc-menu-dropdown.show {
        display: block;
    }

    .menu-category {
        border-bottom: 1px solid rgba(200, 200, 200, 0.5);
    }

    .menu-category:last-child {
        border-bottom: none;
    }

    .category-header {
        background: linear-gradient(to right, rgba(89, 201, 67, 0.15), rgba(89, 201, 67, 0.05));
        padding: 10px 15px;
        font-weight: bold;
        font-size: 13px;
        color: #2c5f2d;
        cursor: pointer;
        user-select: none;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background 0.2s ease;
    }

    .category-header:hover {
        background: linear-gradient(to right, rgba(89, 201, 67, 0.25), rgba(89, 201, 67, 0.1));
    }

    .category-header .arrow {
        font-size: 12px;
        transition: transform 0.3s ease;
    }

    .category-header.expanded .arrow {
        transform: rotate(90deg);
    }

    .category-items {
        display: none;
        background: rgba(255, 255, 255, 0.5);
    }

    .category-items.show {
        display: block;
    }

    .menu-item {
        padding: 8px 15px 8px 30px;
        font-size: 12px;
        border-bottom: 1px solid rgba(230, 230, 230, 0.5);
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .menu-item:last-child {
        border-bottom: none;
    }

    .menu-item:hover {
        background: rgba(89, 201, 67, 0.1);
        padding-left: 35px;
    }

    .menu-item:active {
        background: rgba(89, 201, 67, 0.3);
    }

    .menu-item .key {
        display: inline-block;
        background: rgba(89, 201, 67, 0.3);
        padding: 2px 8px;
        border-radius: 4px;
        font-weight: bold;
        font-size: 11px;
        min-width: 70px;
        text-align: center;
        margin-right: 10px;
        color: #2c5f2d;
        font-family: 'Consolas', 'Courier New', monospace; /* <-- FONTE DAS LETRAS DO BOTÃO */
    }

    .menu-item .description {
        color: #555;
        font-size: 11px;
    }

    .menu-search {
        padding: 10px;
        border-bottom: 2px solid rgba(89, 201, 67, 0.3);
    }

    .menu-search input {
        width: 100%;
        padding: 8px;
        border: 1px solid rgba(200, 200, 200, 0.8);
        border-radius: 5px;
        font-size: 12px;
        box-sizing: border-box;
    }

    .menu-search input:focus {
        outline: none;
        border-color: rgba(89, 201, 67, 1);
    }

    /* Scrollbar personalizada */
    #sinarc-menu-dropdown::-webkit-scrollbar {
        width: 8px;
    }

    #sinarc-menu-dropdown::-webkit-scrollbar-track {
        background: rgba(240, 240, 240, 0.5);
        border-radius: 4px;
    }

    #sinarc-menu-dropdown::-webkit-scrollbar-thumb {
        background: rgba(89, 201, 67, 0.5);
        border-radius: 4px;
    }

    #sinarc-menu-dropdown::-webkit-scrollbar-thumb:hover {
        background: rgba(89, 201, 67, 0.8);
    }

    .menu-item.hidden {
        display: none;
    }

    .menu-note {
        padding: 8px 15px;
        font-size: 10px;
        color: #777;
        font-style: italic;
        background: rgba(255, 255, 200, 0.3);
    }

    /* Oculta campo de busca */
    .menu-search {
        display: none !important;
    }

    </style>

    <div id="sinarc-menu-container">
        <div id="sinarc-menu-toggle" title="Comandos do SINARC">⌨</div>
        <div id="sinarc-menu-dropdown">
            
            <!-- Campo de Busca -->
            <div class="menu-search">
                <input type="text" id="menu-search-input" placeholder="🔍 Buscar comando..." autocomplete="off">
            </div>

            <!-- 1. CONTROLES BÁSICOS E NAVEGAÇÃO -->
            <div class="menu-category">
                <div class="category-header" data-category="basicos">
                    <span>🎮 Controles Básicos</span>
                    <span class="arrow">▶</span>
                </div>
                <div class="category-items" data-category="basicos">
                    <div class="menu-item" data-key="F5" title="Recarrega grafo em uma posição aleatória (apenas tecla física)">
                        <span class="key">F5</span>
                        <span class="description">Recarrega grafo (tecla física)</span>
                    </div>
                    <div class="menu-item" data-key="Escape" title="Centraliza grafo na tela">
                        <span class="key">ESC</span>
                        <span class="description">Centraliza grafo</span>
                    </div>
                    <div class="menu-item" data-key="F11" title="Ativa/desativa modo tela cheia (apenas tecla física)">
                        <span class="key">F11</span>
                        <span class="description">Modo tela cheia (tecla física)</span>
                    </div>
                    <div class="menu-item" data-key="b" title="Ajusta altura da janela de visualização (elimina barra de rolagem vertical)">
                        <span class="key">b</span>
                        <span class="description">Ajusta altura janela</span>
                    </div>
                    <div class="menu-item" data-key="p" title="Pausa/retoma movimentos">
                        <span class="key">p</span>
                        <span class="description">Pausa movimentos</span>
                    </div>
                    <div class="menu-item" data-key="f" title="Fixa/libera nós selecionados">
                        <span class="key">f</span>
                        <span class="description">Fixa nós selecionados</span>
                    </div>                    
                    <div class="menu-item" data-key="h" title="Abre manual do SINARC no navegador">
                        <span class="key">h</span>
                        <span class="description">Abre manual SINARC</span>
                    </div>
                </div>
            </div>

            <!-- 2. LAYOUTS E VISUALIZAÇÃO -->
            <div class="menu-category">
                <div class="category-header" data-category="layout">
                    <span>👁 Layouts e Visualização</span>
                    <span class="arrow">▶</span>
                </div>
                <div class="category-items" data-category="layout">
                    <div class="menu-item" data-key="k" title="Alterna layouts: gravitacional → hierárquico folhas → hierárquico raízes (3 opções cíclicas)">
                        <span class="key">k</span>
                        <span class="description">Alterna layouts</span>
                    </div>
                    <div class="menu-item" data-key="K" title="Ativa/desativa layout circular (2 opções cíclicas)">
                        <span class="key">Shift + k</span>
                        <span class="description">Layout circular</span>
                    </div>
                    <div class="menu-item" data-key="e" title="Alterna tamanho dos nós e exibição de seus rótulos (7 opções cíclicas)">
                        <span class="key">e</span>
                        <span class="description">Tamanho e rótulos dos nós</span>
                    </div>
                    <div class="menu-item" data-key="l" title="Alterna exibição das arestas e de seus rótulos (3 opções cíclicas)">
                        <span class="key">l</span>
                        <span class="description">Rótulos das arestas</span>
                    </div>
                    <div class="menu-item" data-key="t" title="Modo transparência por tipos de nós (15 opções cíclicas, F5 para reset)">
                        <span class="key">t</span>
                        <span class="description">Transparência por tipos de nós</span>
                    </div>
                    <div class="menu-item" data-key="T" title="Modo transparência por conexões (hover mostra adjacentes, F5 para reset)">
                        <span class="key">Shift + t</span>
                        <span class="description">Transparência por conexões</span>
                    </div>
                    <div class="menu-item" data-key="z" title="Ativa modo de navegação automática pelos nós">
                        <span class="key">z</span>
                        <span class="description">Visualização automática</span>
                    </div>
                </div>
            </div>

            <!-- 3. SELEÇÃO DE NÓS -->
            <div class="menu-category">
                <div class="category-header" data-category="selecao">
                    <span>🎯 Seleção de Nós</span>
                    <span class="arrow">▶</span>
                </div>
                <div class="category-items" data-category="selecao">
                    <div class="menu-item" data-key="a" title="Amplia seleção para nós adjacentes">
                        <span class="key">a</span>
                        <span class="description">Nós adjacentes</span>
                    </div>
                    <div class="menu-item" data-key="A" title="Seleciona todos os nós">
                        <span class="key">Shift + a</span>
                        <span class="description">Todos os nós</span>
                    </div>
                    <div class="menu-item" data-key="c" title="Centraliza nós selecionados e adjacentes">
                        <span class="key">c</span>
                        <span class="description">Centraliza seleção</span>
                    </div>
                    <div class="menu-item" data-key="i" title="Alterna entre nós selecionados">
                        <span class="key">i</span>
                        <span class="description">Alterna entre nós selecionados</span>
                    </div>
                    <div class="menu-item" data-key="I" title="Inverte seleção dos nós">
                        <span class="key">Shift + i</span>
                        <span class="description">Inverte seleção</span>
                    </div>
                    <div class="menu-item" data-key="j" title="Seleciona nós adjacentes comuns aos nós selecionados (mínimo 2 nós)">
                        <span class="key">j</span>
                        <span class="description">Nós comuns</span>
                    </div>
                    <div class="menu-item" data-key="J" title="Seleciona nós não comuns (mínimo 2 nós)">
                        <span class="key">Shift + j</span>
                        <span class="description">Nós não comuns</span>
                    </div>
                    <div class="menu-item" data-key="q" title="Localiza nós no grafo pelos rótulos e IDs (ENTER para localizar por arestas)">
                        <span class="key">q</span>
                        <span class="description">Localiza nós</span>
                    </div>
                    <div class="menu-item" data-key="Q" title="Seleciona apenas nós-alvos (bordas vermelhas)">
                        <span class="key">Shift + q</span>
                        <span class="description">Seleciona nós-alvos</span>
                    </div>
                    <div class="menu-item" data-key="ç" title="Seleciona endereços (EN), telefones (TE) e e-mails (EM) de forma cumulativa pelo nº de conexões">
                        <span class="key">ç</span>
                        <span class="description">EN/TE/EM por conexões</span>
                    </div>
                    <div class="menu-item" data-key="Shift + ç" title="Seleciona nós por número de conexões">
                        <span class="key">Shift + ç</span>
                        <span class="description">Nós por nº de conexões</span>
                    </div>
                    <div class="menu-item" data-key="." title="Alterna seleção por tipo de imagem (15 opções cíclicas)">
                        <span class="key">.</span>
                        <span class="description">Nós por tipo de imagem</span>
                    </div>
                    <div class="menu-item" data-key=";" title="Alterna seleção dos nós adjacentes por origem/destino das arestas (3 opções cíclicas)">
                        <span class="key">;</span>
                        <span class="description">Nós por origem/destino</span>
                    </div>
                    <div class="menu-item" data-key="/" title="Seleciona nós acrescidos na última consulta ao banco de dados">
                        <span class="key">/</span>
                        <span class="description">Nós da última consulta</span>
                    </div>
                    <div class="menu-item" data-key="," title="Exibe relação de nós selecionados em nova janela do navegador">
                        <span class="key">,</span>
                        <span class="description">Exibe nós selecionados</span>
                    </div>
                </div>
            </div>

            <!-- 4. MASSA E TAMANHO DOS NÓS -->
            <div class="menu-category">
                <div class="category-header" data-category="massa">
                    <span>⚖ Massa e Tamanho</span>
                    <span class="arrow">▶</span>
                </div>
                <div class="category-items" data-category="massa">
                    <div class="menu-item" data-key="m" title="Aumenta massa de todos os nós (+0.5)">
                        <span class="key">m</span>
                        <span class="description">+ massa todos nós</span>
                    </div>
                    <div class="menu-item" data-key="M" title="Diminui massa de todos os nós (-0.5)">
                        <span class="key">Shift + m</span>
                        <span class="description">- massa todos nós</span>
                    </div>
                    <div class="menu-item" data-key="n" title="Aumenta massa dos nós ≥ tamanho ref (+5) - padrão 40">
                        <span class="key">n</span>
                        <span class="description">+ massa nós grandes</span>
                    </div>
                    <div class="menu-item" data-key="N" title="Diminui massa dos nós ≥ tamanho ref (-5) - padrão 40">
                        <span class="key">Shift + n</span>
                        <span class="description">- massa nós grandes</span>
                    </div>
                    <div class="menu-item" data-key=" " title="Aumenta massa dos nós de forma proporcional ao seu tamanho (cíclico) - do maior para o menor tamanho">
                        <span class="key">ESPAÇO</span>
                        <span class="description">+ massa nós proporcional</span>
                    </div>
                    <div class="menu-item" data-key="]" title="Aumenta massa dos nós selecionados (+5)">
                        <span class="key">]</span>
                        <span class="description">+ massa nós selecionados</span>
                    </div>
                    <div class="menu-item" data-key="[" title="Diminui massa dos nós selecionados (-5)">
                        <span class="key">[</span>
                        <span class="description">- massa nós selecionados</span>
                    </div>
                    <div class="menu-item" data-key="Shift + ArrowUp" title="Aumenta tamanho de referência dos nós (+5) - padrão 40">
                        <span class="key">Shift + Seta ↑</span>
                        <span class="description">+ tamanho referência nós</span>
                    </div>
                    <div class="menu-item" data-key="Shift + ArrowDown" title="Diminui tamanho de referência dos nós (-5) - padrão 40">
                        <span class="key">Shift + Seta ↓</span>
                        <span class="description">- tamanho referência nós</span>
                    </div>
                    <div class="menu-item" data-key="Shift + ArrowRight" title="Aumenta comprimento das arestas (+30) - padrão 300">
                        <span class="key">Shift + Seta →</span>
                        <span class="description">+ comprimento arestas</span>
                    </div>
                    <div class="menu-item" data-key="Shift + ArrowLeft" title="Aumenta comprimento das arestas (-30) - padrão 300">
                        <span class="key">Shift + Seta ←</span>
                        <span class="description">- comprimento arestas</span>
                    </div>
                </div>
            </div>

            <!-- 5. ANÁLISE E COMUNIDADES -->
            <div class="menu-category">
                <div class="category-header" data-category="analise">
                    <span>🔗 Análise e Comunidades</span>
                    <span class="arrow">▶</span>
                </div>
                <div class="category-items" data-category="analise">
                    <div class="menu-item" data-key="u" title="Medidas de centralidade do grafo">
                        <span class="key">u</span>
                        <span class="description">Medidas de centralidade</span>
                    </div>
                    <div class="menu-item" data-key="U" title="Distribuição de nós por tamanho">
                        <span class="key">Shift + u</span>
                        <span class="description">Distribuição nós por tamanhos</span>
                    </div>
                    <div class="menu-item" data-key="L" title="Distribuição de arestas por tipo">
                        <span class="key">Shift + l</span>
                        <span class="description">Distribuição arestas por tipo</span>
                    </div>
                    <div class="menu-item" data-key="v" title="Destaca comunidades com cores">
                        <span class="key">v</span>
                        <span class="description">Destaca comunidades</span>
                    </div>
                    <div class="menu-item" data-key="V" title="Exibe nós por comunidade (F5 para reset)">
                        <span class="key">Shift + v</span>
                        <span class="description">Exibe nós por comunidade</span>
                    </div>
                    <div class="menu-item" data-key="w" title="Colore nós da cadeia hierárquica">
                        <span class="key">w</span>
                        <span class="description">Destaca cadeia hierárquica</span>
                    </div>
                    <div class="menu-item" data-key="W" title="Deleta nós fora da cadeia hierárquica (F5 para reset)">
                        <span class="key">Shift + w</span>
                        <span class="description">Isola cadeia hierárquica</span>
                    </div>
                    <div class="menu-item" data-key="x" title="Adiciona cores sequenciais aos nós selecionados (4 cores)">
                        <span class="key">x</span>
                        <span class="description">Adiciona cores nós</span>
                    </div>
                    <div class="menu-item" data-key="X" title="Remove cores de todos os nós">
                        <span class="key">Shift + x</span>
                        <span class="description">Remove cores nós</span>
                    </div>
                </div>
            </div>

            <!-- 6. EXCLUSÃO E FILTRAGEM -->
            <div class="menu-category">
                <div class="category-header" data-category="exclusao">
                    <span>✂ Exclusão e Filtragem</span>
                    <span class="arrow">▶</span>
                </div>
                <div class="category-items" data-category="exclusao">
                    <div class="menu-item" data-key="Delete" title="Deleta nós selecionados (F5 para reset)">
                        <span class="key">Delete</span>
                        <span class="description">Deleta nós selecionados</span>
                    </div>
                    <div class="menu-item" data-key="Backspace" title="Mesmo que Delete (para celular)">
                        <span class="key">Backspace</span>
                        <span class="description">Deleta nós selecionados</span>
                    </div>
                    <div class="menu-item" data-key="r" title="Deleta nós NÃO selecionados (F5 para reset)">
                        <span class="key">r</span>
                        <span class="description">Deleta nós não selecionados</span>
                    </div>
                    <div class="menu-item" data-key="R" title="Isola nós com arestas coloridas (F5 para reset)">
                        <span class="key">Shift + r</span>
                        <span class="description">Isola nós com arestas coloridas</span>
                    </div>
                </div>
            </div>

            <!-- 7. CONSULTAS E PESQUISAS -->
            <div class="menu-category">
                <div class="category-header" data-category="consultas">
                    <span>🔍 Consultas e Pesquisas</span>
                    <span class="arrow">▶</span>
                </div>
                <div class="category-items" data-category="consultas">
                    <div class="menu-item" data-key="d" title="Detalhes sobre os nós em sites externos (exceto TE)">
                        <span class="key">d</span>
                        <span class="description">Sites externos</span>
                    </div>
                    <div class="menu-item" data-key="D" title="Pesquisa em DOU, DIO-ES, DOM-ES, etc">
                        <span class="key">Shift + d</span>
                        <span class="description">Pesquisa diários</span>
                    </div>
                    <div class="menu-item" data-key="g" title="Pesquisa geral no Google (exceto TE)">
                        <span class="key">g</span>
                        <span class="description">Pesquisa geral Google</span>
                    </div>
                    <div class="menu-item" data-key="G" title="Pesquisa avançada no Google (domínios oficiais)">
                        <span class="key">Shift + g</span>
                        <span class="description">Pesquisa avançada Google</span>
                    </div>
                    <div class="menu-item" data-key="1" title="Comprovante de inscrição no CNPJ (RFB)">
                        <span class="key">1</span>
                        <span class="description">Comprovante CNPJ</span>
                    </div>
                    <div class="menu-item" data-key="2" title="Sanções CGU (CEIS, CNEP, CEPIM, Acordos de Leniência)">
                        <span class="key">2</span>
                        <span class="description">Sanções CGU</span>
                    </div>
                    <div class="menu-item" data-key="5" title="Abre site do Rede CNPJ">
                        <span class="key">5</span>
                        <span class="description">Site Rede CNPJ</span>
                    </div>
                    <div class="menu-item" data-key="6" title="Bases de dados primárias (CNPJ, Sanções, Dívida Ativa União, PEP)">
                        <span class="key">6</span>
                        <span class="description">Bases primárias</span>
                    </div>
                    <div class="menu-item" data-key="7" title="Detalhes JSON do CNPJ">
                        <span class="key">7</span>
                        <span class="description">CNPJ no formato JSON</span>
                    </div>
                    <div class="menu-item" data-key="8" title="API Compras Governamentais">
                        <span class="key">8</span>
                        <span class="description">Compras Gov Federal</span>
                    </div>
                    <div class="menu-note">⚠️ Comandos 1, 2, 5, 7 e 8 requerem nó selecionado</div>
                </div>
            </div>

            <!-- 8. BANCO DE DADOS (consultas ao vivo) -->
            <div class="menu-category">
                <div class="category-header" data-category="bd">
                    <span>💾 Banco de Dados</span>
                    <span class="arrow">▶</span>
                </div>
                <div class="category-items" data-category="bd">
                    <div class="menu-item" data-key="s" title="Consulta livre por CNPJ, razão social, nome de fantasia ou CPF (sem destaque vermelho)">
                        <span class="key">s</span>
                        <span class="description">Consulta livre</span>
                    </div>
                    <div class="menu-item" data-key="S" title="Abre nós selecionados em 1 camada (sem destaque vermelho)">
                        <span class="key">Shift + s</span>
                        <span class="description">Abre nós selecionados</span>
                    </div>
                    <div class="menu-item" data-key="o" title="Abre nós selecionados (nós-alvos) em n camadas">
                        <span class="key">o</span>
                        <span class="description">Abre nós selecionados</span>
                    </div>
                    <div class="menu-item" data-key="O" title="Abre matriz e filiais do nó selecionado (apenas PJ)">
                        <span class="key">Shift + o</span>
                        <span class="description">Abre matriz e filiais</span>
                    </div>
                    <div class="menu-item" data-key="+" title="Adiciona nós selecionados à lista de alvos ou exibe os nós armazenados">
                        <span class="key">+</span>
                        <span class="description">Inclui nós à lista de alvos</span>
                    </div>
                    <div class="menu-item" data-key="-" title="Remove último nó da lista de alvos">
                        <span class="key">-</span>
                        <span class="description">Exclui nós da lista de alvos</span>
                    </div>
                    <div class="menu-item" data-key="y" title="Abre lista de alvos acumulados">
                        <span class="key">y</span>
                        <span class="description">Abre lista de alvos</span>
                    </div>
                    <div class="menu-item" data-key="4" title="Gera arquivo Excel com nós e arestas">
                        <span class="key">4</span>
                        <span class="description">Gera arquivo Excel</span>
                    </div>
                    <div class="menu-item" data-key="|" title="Ativa/desativa modo captura">
                        <span class="key">|</span>
                        <span class="description">Modo captura</span>
                    </div>
                    <div class="menu-item" data-key="9" title="Baixa objetos JSON do vis.js (nodes.json e edges.json) contendo exclusões e alterações de massa dos nós. Salve-os na pasta 'sinarc-main'">
                        <span class="key">9</span>
                        <span class="description">Baixa arquivos JSON</span>
                    </div>
                    <div class="menu-item" data-key="!" title="Gera novo arquivo HTML (grafo_final_atualizado.html) a partir dos arquivos JSON (nodes.json e edges.json).">
                        <span class="key">!</span>
                        <span class="description">Gera arquivo HTML atualizado</span>
                    </div>
                    <div class="menu-note">⚠️ Requer SINARC em execução no computador</div>
                </div>
            </div>

        </div>
    </div>




    <script>
    // JavaScript para controlar o menu suspenso com HOVER automático e simulação de teclas
    (function() {
        const menuToggle = document.getElementById('sinarc-menu-toggle');
        const menuDropdown = document.getElementById('sinarc-menu-dropdown');
        const categoryHeaders = document.querySelectorAll('.category-header');
        const searchInput = document.getElementById('menu-search-input');
        const menuItems = document.querySelectorAll('.menu-item');

        // Toggle do menu principal
        menuToggle.addEventListener('click', function(e) {
            e.stopPropagation();
            menuDropdown.classList.toggle('show');
        });

        // // Fecha o menu ao clicar fora (funcionalidade desativada)
        // document.addEventListener('click', function(e) {
        //     if (!document.getElementById('sinarc-menu-container').contains(e.target)) {
        //         menuDropdown.classList.remove('show');
        //     }
        // });

        // Toggle das categorias (apenas CLICK)
        categoryHeaders.forEach(header => {
            header.addEventListener('click', function(e) {
                e.stopPropagation();
                const category = this.getAttribute('data-category');
                const items = document.querySelector(`.category-items[data-category="${category}"]`);
                
                this.classList.toggle('expanded');
                items.classList.toggle('show');
            });
        });

        // Expande primeira categoria por padrão
        // if (categoryHeaders.length > 0) {
        //     categoryHeaders[0].click();
        // }

        // Função para simular pressionamento de tecla
        function simulateKeyPress(keyData) {
            const hiddenInput = document.getElementById('hidden-input');
            const target = hiddenInput || document;
            
            if (hiddenInput) hiddenInput.focus();
            
            // Determina as propriedades da tecla
            let key, code, keyCode;
            let shiftKey = false;
            let mainKey = keyData.trim(); // Remove espaços extras
            
            // console.log('SHIFT:', shiftKey, 'TECLA:', mainKey)
            // Verifica se tem Shift (aceita "Shift +" ou "Shift+")
            if (mainKey.startsWith('Shift +') || mainKey.startsWith('Shift+')) {
                shiftKey = true;
                mainKey = mainKey.replace(/^Shift\s*\+\s*/, '').trim();
            }
            // console.log('SHIFT:', shiftKey, 'TECLA:', mainKey)

            // --- TRATAMENTO ESPECIAL PARA Ç (TECLADO ABNT2) ---
            if (mainKey === 'ç') {
                key = shiftKey ? 'Ç' : 'ç';  // Maiúscula se Shift ativo
                code = 'Semicolon';           // Code físico comum para Ç
                keyCode = 186;                // KeyCode padrão
                
                const eventInitDict = {
                    key: key,
                    code: code,
                    keyCode: keyCode,
                    which: keyCode,
                    shiftKey: shiftKey,
                    bubbles: true,
                    cancelable: true,
                    view: window
                };

                target.dispatchEvent(new KeyboardEvent('keydown', eventInitDict));
                target.dispatchEvent(new KeyboardEvent('keypress', eventInitDict));
                target.dispatchEvent(new KeyboardEvent('keyup', eventInitDict));
                
                // console.log(`Tecla Ç enviada: ${key} (Code: ${code}, Shift: ${shiftKey})`);
                return; // Retorna aqui para Ç
            }
            
            // --- OUTRAS TECLAS ---
            
            // Setas
            if (mainKey.includes('↑') || mainKey === 'ArrowUp') {
                key = 'ArrowUp';
                code = 'ArrowUp';
                keyCode = 38;
            } else if (mainKey.includes('↓') || mainKey === 'ArrowDown') {
                key = 'ArrowDown';
                code = 'ArrowDown';
                keyCode = 40;
            } else if (mainKey.includes('→') || mainKey === 'ArrowRight') {
                key = 'ArrowRight';
                code = 'ArrowRight';
                keyCode = 39;
            } else if (mainKey.includes('←') || mainKey === 'ArrowLeft') {
                key = 'ArrowLeft';
                code = 'ArrowLeft';
                keyCode = 37;
            }
            // [NOVO] Correção Pontual para o "c" (minúscula)
            else if (mainKey === 'c') { 
                key = 'c'; 
                code = 'KeyC'; 
                keyCode = 67; 
            }

            // [NOVO] Adiciona o bloco de despacho de eventos para setas

            if (['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'].includes(key)) {
                    const eventInitDict = {
                    key: key,
                    code: code,
                    keyCode: keyCode,
                    which: keyCode,
                    shiftKey: shiftKey,
                    bubbles: true,
                    cancelable: true,
                    view: window
                };

                target.dispatchEvent(new KeyboardEvent('keydown', eventInitDict));
                // Teclas não imprimíveis (setas) geralmente só disparam keydown/keyup
                // target.dispatchEvent(new KeyboardEvent('keypress', eventInitDict)); // Opcional para setas
                target.dispatchEvent(new KeyboardEvent('keyup', eventInitDict));

                // console.log(`Tecla Seta enviada: ${key} (Code: ${code}, Shift: ${shiftKey})`);
                return; // Adiciona return para setas
            }

            // Teclas de Controle
            else if (mainKey === 'ESC' || mainKey === 'Escape') {
                key = 'Escape';
                code = 'Escape';
                keyCode = 27;
            } else if (mainKey === 'ESPAÇO' || mainKey === ' ') {
                key = ' ';
                code = 'Space';
                keyCode = 32;
            } else if (mainKey === 'Delete') {
                key = 'Delete';
                code = 'Delete';
                keyCode = 46;
            } else if (mainKey === 'Backspace') {
                key = 'Backspace';
                code = 'Backspace';
                keyCode = 8;
            } else if (mainKey === 'F5') {
                key = 'F5';
                code = 'F5';
                keyCode = 116;
            } else if (mainKey === 'F11') {
                key = 'F11';
                code = 'F11';
                keyCode = 122;
            }
            // Padrão (Letras, Números e Símbolos)
            else {
                key = mainKey;
                code = mainKey.length === 1 ? 'Key' + mainKey.toUpperCase() : mainKey;
                keyCode = mainKey.toUpperCase().charCodeAt(0);
            }

            // Define o valor final da tecla (maiúscula se Shift ativo)
            const finalKey = shiftKey ? key.toUpperCase() : key;

            // Cria eventos de teclado
            const eventInitDict = {
                key: finalKey,
                code: code,
                keyCode: keyCode,
                which: keyCode,
                shiftKey: shiftKey,
                ctrlKey: false,
                altKey: false,
                metaKey: false,
                bubbles: true,
                cancelable: true,
                view: window
            };

            // Dispara eventos keydown, keypress e keyup
            target.dispatchEvent(new KeyboardEvent('keydown', eventInitDict));
            target.dispatchEvent(new KeyboardEvent('keypress', eventInitDict));
            target.dispatchEvent(new KeyboardEvent('keyup', eventInitDict));
            
            // console.log(`Comando enviado: ${finalKey} (Code: ${code}, Shift: ${shiftKey})`);
        }

        // Adiciona evento de clique aos itens do menu para simular tecla
        menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.stopPropagation();
                
                const keyData = this.getAttribute('data-key');
                if (keyData) {
                    // Feedback visual
                    this.style.background = 'rgba(89, 201, 67, 0.4)';
                    setTimeout(() => {
                        this.style.background = '';
                    }, 300);
                    
                    // Simula o pressionamento da tecla
                    simulateKeyPress(keyData);
                    
                    // Opcional: fecha o menu após clicar
                    // menuDropdown.classList.remove('show');
                }
            });
        });

        // Função de busca
        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase().trim();
            
            if (searchTerm === '') {
                // Mostra todos os itens e fecha todas as categorias
                menuItems.forEach(item => item.classList.remove('hidden'));
                categoryHeaders.forEach(header => {
                    header.classList.remove('expanded');
                    const category = header.getAttribute('data-category');
                    const items = document.querySelector(`.category-items[data-category="${category}"]`);
                    items.classList.remove('show');
                });
            } else {
                // Filtra itens
                categoryHeaders.forEach(header => {
                    const category = header.getAttribute('data-category');
                    const categoryItems = document.querySelectorAll(`.category-items[data-category="${category}"] .menu-item`);
                    let categoryHasResults = false;
                    
                    categoryItems.forEach(item => {
                        const text = item.textContent.toLowerCase();
                        if (text.includes(searchTerm)) {
                            item.classList.remove('hidden');
                            categoryHasResults = true;
                        } else {
                            item.classList.add('hidden');
                        }
                    });
                    
                    // Expande categorias com resultados
                    const items = document.querySelector(`.category-items[data-category="${category}"]`);
                    if (categoryHasResults) {
                        header.classList.add('expanded');
                        items.classList.add('show');
                    } else {
                        header.classList.remove('expanded');
                        items.classList.remove('show');
                    }
                });
            }
        });

        // Previne que cliques nos itens fechem o menu
        menuDropdown.addEventListener('click', function(e) {
            e.stopPropagation();
        });

        // Previne que busca feche o menu
        searchInput.addEventListener('click', function(e) {
            e.stopPropagation();
        });

    })();
    </script>

    
    
    <!-- ======================================================== -->
    <!-- BOTÃO DE OTIMIZAÇÃO AUTOMÁTICA - CANTO INFERIOR ESQUERDO -->
    <!-- ======================================================== -->

    <style>
    #sinarc-otimizar-container {
        position: fixed;
        bottom: 33px;
        left: 21px;  /* Alinhado com o menu suspenso */
        z-index: 10000;
        font-family: Arial, sans-serif;
    }

    #sinarc-otimizar-button {
        background: rgba(255, 255, 255, 0.7);
        border: 1px solid rgba(89, 201, 67, 0.6);
        border-radius: 4px;
        width: 40px;
        height: 40px;
        cursor: pointer;
        font-size: 20px;
        color: #555;
        box-shadow: 0 1px 5px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        user-select: none;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #sinarc-otimizar-button:hover {
        background: rgba(89, 201, 67, 0.15);
        border-color: rgba(89, 201, 67, 0.9);
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        transform: scale(1.05);
    }

    #sinarc-otimizar-button:active {
        background: rgba(89, 201, 67, 0.3);
        transform: scale(0.95);
    }

    /* Tooltip ao passar o mouse */
    #sinarc-otimizar-button::after {
        content: 'Otimizar grafo automaticamente (Botão Fireworks)';
        position: absolute;
        bottom: 50px;
        left: 0;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 8px 12px;
        border-radius: 4px;
        font-size: 12px;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
    }

    /* ✅ OCULTA O TOOLTIP */
    #sinarc-otimizar-button::after {
        display: none !important;
    }

    #sinarc-otimizar-button:hover::after {
        opacity: 1;
    }
    </style>


    <div id="sinarc-otimizar-container">
        <div id="sinarc-otimizar-button" title="Otimizar grafo automaticamente (Botão Fireworks)">🪄</div>
    </div>


     











    <script>
    // ========================================
    // FUNÇÃO DE OTIMIZAÇÃO AUTOMÁTICA DO GRAFO
    // ========================================

    function otimizarGrafoAutomaticamente() {
        console.log("🎯 OTIMIZAÇÃO AUTOMÁTICA - INICIANDO...");

        

        // 0. RESETAR MASSA DOS NÓS ALTERADOS
        for (let i=0; i<n_bag.length; i++) {
            nodes.update({id: n_bag[i], mass: 1});
            // console.log('Reset mass for node id:', n_bag[i]);
        }
        // Limpa o array de nós já processados
        n_bag = [];
        
        // Reseta a referência de tamanho e o controle de primeira execução
        t_ref = 40;
        pula_100 = true;

        console.log("✓ Sistema de ajuste de massa resetado (todas as massas = 1)");




    
        // ========================================
        // VERIFICA SE É GRAFO DE 1 CAMADA
        // ========================================
        if (typeof n_cam !== 'undefined' && n_cam === 1) {
            console.log("✓ Grafo de 1 camada detectado - Pressionando K...");
            
            const evtK = new KeyboardEvent('keydown', {
                key: 'k', code: 'KeyK', keyCode: 75, which: 75,
                bubbles: true, cancelable: true, view: window
            });
            document.dispatchEvent(evtK);
            
            tempAlert('Grafo de 1 camada: aplicando layout hierárquico...', 2000);

            return;
        }

        


        // 1. DELETAR NÓS TE, EN, EM
        let nodosParaDeletar = [];
        let todosNos = nodes.getIds();
        
        for (let i = 0; i < todosNos.length; i++) {
            let nodeId = todosNos[i];
            if (nodeId.slice(0, 3) === "TE_" || nodeId.slice(0, 3) === "EN_" || nodeId.slice(0, 3) === "EM_") {
                nodosParaDeletar.push(nodeId);
            }
        }
        
        if (nodosParaDeletar.length > 0) {
            nodes.remove(nodosParaDeletar);
            console.log(`✓ ${nodosParaDeletar.length} nós deletados (TE/EN/EM)`);
            tempAlert(`Otimização: ${nodosParaDeletar.length} nós deletados`, 2000);
        }
        


        
        /* // 1. SELECIONAR E DELETAR NÓS TE, EN, EM (ç + ç + DEL)
        const inp = document.getElementById('hidden-input');
        const t = inp || document;
        if (inp) inp.focus();

        // Primeira ç
        ['keydown', 'keypress', 'keyup'].forEach(type => {
            t.dispatchEvent(new KeyboardEvent(type, {
                key: 'ç', code: 'Semicolon', keyCode: 186, which: 186,
                bubbles: true, cancelable: true, view: window
            }));
        });

        // Segunda ç
        ['keydown', 'keypress', 'keyup'].forEach(type => {
            t.dispatchEvent(new KeyboardEvent(type, {
                key: 'ç', code: 'Semicolon', keyCode: 186, which: 186,
                bubbles: true, cancelable: true, view: window
            }));
        });

        // DEL
        ['keydown', 'keyup'].forEach(type => {
            t.dispatchEvent(new KeyboardEvent(type, {
                key: 'Delete', code: 'Delete', keyCode: 46, which: 46,
                bubbles: true, cancelable: true, view: window
            }));
        });*/





        // 2. DISTRIBUIÇÃO DE NÓS POR FAIXA
        todosNos = nodes.getIds();
        let distribuicao = {100:[], 95:[], 90:[], 85:[], 80:[], 75:[], 70:[], 65:[], 60:[], 55:[], 50:[], 45:[], 40:[], 35:[], 30:[], 25:[], 20:[]};
        
        for (let i = 0; i < todosNos.length; i++) {
            let nodeId = todosNos[i];
            let tamanho = network.body.nodes[nodeId].options.size;
            
            if (tamanho >= 99.99) distribuicao[100].push(nodeId);
            else if (tamanho >= 95) distribuicao[95].push(nodeId);
            else if (tamanho >= 90) distribuicao[90].push(nodeId);
            else if (tamanho >= 85) distribuicao[85].push(nodeId);
            else if (tamanho >= 80) distribuicao[80].push(nodeId);
            else if (tamanho >= 75) distribuicao[75].push(nodeId);
            else if (tamanho >= 70) distribuicao[70].push(nodeId);
            else if (tamanho >= 65) distribuicao[65].push(nodeId);
            else if (tamanho >= 60) distribuicao[60].push(nodeId);
            else if (tamanho >= 55) distribuicao[55].push(nodeId);
            else if (tamanho >= 50) distribuicao[50].push(nodeId);
            else if (tamanho >= 45) distribuicao[45].push(nodeId);
            else if (tamanho >= 40) distribuicao[40].push(nodeId);
            else if (tamanho >= 35) distribuicao[35].push(nodeId);
            else if (tamanho >= 30) distribuicao[30].push(nodeId);
            else if (tamanho >= 25) distribuicao[25].push(nodeId);
            else if (tamanho >= 20) distribuicao[20].push(nodeId);
        }
        
        console.log("DISTRIBUIÇÃO:", distribuicao);
        
        // 3. CALCULAR NÚMERO IDEAL DE PRESSIONAMENTOS
        let totalNos = todosNos.length;
        let nosAcumulados = 0;
        let pressionamentosIdeal = 0;
        let faixas = [100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20];
        
        // =========================================================================
        // CONFIGURAÇÕES - AJUSTÁVEIS
        // =========================================================================
        // ESTRATÉGIA: 3 critérios independentes para detectar saltos
        // Mínimo relativo adapta-se ao tamanho do grafo
        // =========================================================================
        
        const LIMIAR_SALTO_PERCENTUAL = 0.15;      // 10% do total (salto absoluto)
        const LIMIAR_SALTO_RELATIVO = 2.0;         // 3.5x a média (salto moderado)
        const LIMIAR_MINIMO_RELATIVO = 0.05;       // 5% do total (mínimo para salto moderado)
        const LIMIAR_SALTO_GIGANTE = 9.0;          // 9x a média (salto gigante)
        const MINIMO = 2;                          // Mínimo 2 pressionamentos
        const MAXIMO = 16;                         // Máximo 16 pressionamentos
        
        // Calcula mínimo absoluto baseado no tamanho do grafo (mínimo: 10 nós)
        let minimoAbsoluto = Math.max(3, Math.floor(totalNos * LIMIAR_MINIMO_RELATIVO));
        console.log(`\nMínimo absoluto calculado: ${minimoAbsoluto} nós (${LIMIAR_MINIMO_RELATIVO*100}% de ${totalNos})`);
        
        // Calcula média móvel das últimas faixas processadas (janela de 3)
        let historicoFaixas = [];
        
        console.log("\n=== ANÁLISE FAIXA POR FAIXA ===");
        
        for (let i = 0; i < faixas.length - 1; i++) {
            let faixaAtual = faixas[i];
            let faixaProxima = faixas[i + 1];
            let nosNaFaixaAtual = distribuicao[faixaAtual].length;
            let nosNaProximaFaixa = distribuicao[faixaProxima].length;
            
            // Adiciona faixa atual ao acumulado
            nosAcumulados += nosNaFaixaAtual;
            pressionamentosIdeal++;
            
            let porcentagemFaixaAtual = nosNaFaixaAtual / totalNos;
            let porcentagemProximaFaixa = nosNaProximaFaixa / totalNos;
            
            // Atualiza histórico (mantém últimas 3 faixas não-vazias)
            if (nosNaFaixaAtual > 0) {
                historicoFaixas.push(nosNaFaixaAtual);
                if (historicoFaixas.length > 3) {
                    historicoFaixas.shift();
                }
            }
            
            // Calcula média das faixas recentes
            let mediaRecente = historicoFaixas.length > 0 
                ? historicoFaixas.reduce((a, b) => a + b, 0) / historicoFaixas.length 
                : nosNaFaixaAtual;
            
            console.log(`Faixa ${faixaAtual}: ${nosNaFaixaAtual} nós (${(porcentagemFaixaAtual*100).toFixed(1)}%)`);
            console.log(`  → Próxima faixa ${faixaProxima}: ${nosNaProximaFaixa} nós (${(porcentagemProximaFaixa*100).toFixed(1)}%)`);
            console.log(`  → Média recente: ${mediaRecente.toFixed(1)} nós`);
            
            // =====================================================================
            // CRITÉRIOS DE DETECÇÃO DE SALTO (3 critérios independentes)
            // =====================================================================
            
            if (pressionamentosIdeal >= MINIMO) {
                
                // CRITÉRIO 1: SALTO ABSOLUTO (% do total)
                // Para se próxima faixa tem muitos nós em relação ao total
                if (porcentagemProximaFaixa >= LIMIAR_SALTO_PERCENTUAL) {
                    console.log(`✓ CRITÉRIO 1 - SALTO ABSOLUTO detectado!`);
                    console.log(`  Próxima faixa ${faixaProxima} tem ${(porcentagemProximaFaixa*100).toFixed(1)}% dos nós (limiar: ${(LIMIAR_SALTO_PERCENTUAL*100).toFixed(0)}%)`);
                    console.log(`  → PARA AQUI para evitar espalhar grafo`);
                    break;
                }
                
                // CRITÉRIO 2: SALTO GIGANTE (independente do valor absoluto)
                // Para se próxima faixa tem MUITAS vezes mais nós que a média
                if (mediaRecente > 0 && nosNaProximaFaixa > mediaRecente * LIMIAR_SALTO_GIGANTE) {
                    console.log(`✓ CRITÉRIO 2 - SALTO GIGANTE detectado!`);
                    console.log(`  Próxima faixa ${faixaProxima} tem ${nosNaProximaFaixa} nós`);
                    console.log(`  Média recente: ${mediaRecente.toFixed(1)} nós`);
                    console.log(`  Proporção: ${(nosNaProximaFaixa / mediaRecente).toFixed(1)}x (limiar: ${LIMIAR_SALTO_GIGANTE}x)`);
                    console.log(`  → PARA AQUI para evitar espalhar grafo`);
                    break;
                }
                
                // CRITÉRIO 3: SALTO MODERADO + MUITOS NÓS (relativo ao total)
                // Para se próxima faixa é maior que a média E tem muitos nós proporcionalmente
                if (mediaRecente > 0 && 
                    nosNaProximaFaixa > mediaRecente * LIMIAR_SALTO_RELATIVO &&
                    nosNaProximaFaixa >= minimoAbsoluto) {
                    console.log(`✓ CRITÉRIO 3 - SALTO MODERADO + MUITOS NÓS detectado!`);
                    console.log(`  Próxima faixa ${faixaProxima} tem ${nosNaProximaFaixa} nós`);
                    console.log(`  Média recente: ${mediaRecente.toFixed(1)} nós`);
                    console.log(`  Proporção: ${(nosNaProximaFaixa / mediaRecente).toFixed(1)}x (limiar: ${LIMIAR_SALTO_RELATIVO}x)`);
                    console.log(`  E tem ≥${minimoAbsoluto} nós (${LIMIAR_MINIMO_RELATIVO*100}% do total)`);
                    console.log(`  → PARA AQUI para evitar espalhar grafo`);
                    break;
                }
            }
            
            // Limite máximo de segurança
            if (pressionamentosIdeal >= MAXIMO) {
                console.log(`✓ Limite máximo de segurança atingido (${MAXIMO})`);
                break;
            }
        }
        
        // Garante mínimo de segurança
        if (pressionamentosIdeal < MINIMO) {
            pressionamentosIdeal = MINIMO;
            console.log(`✓ Aplicando mínimo de segurança: ${MINIMO} pressionamentos`);
        }

        console.log(`\n>>> RESULTADO: ${pressionamentosIdeal} pressionamentos`);
        console.log(`>>> Cobertura: ${(nosAcumulados/totalNos*100).toFixed(1)}%`);
        
        // 4. PRESSIONAR TECLA ESPAÇO
        tempAlert(`Otimização: Aplicando ${pressionamentosIdeal} ajustes...`, 2000);
        
        function simularEspaco() {
            const evt = new KeyboardEvent('keydown', {
                key: ' ', code: 'Space', keyCode: 32, which: 32,
                bubbles: true, cancelable: true, view: window
            });
            document.dispatchEvent(evt);
        }
        
        let contador = 0;
        const intervalo = setInterval(() => {
            simularEspaco();
            contador++;
            console.log(`  Pressionamento ${contador}/${pressionamentosIdeal}`);
            
            if (contador >= pressionamentosIdeal) {
                clearInterval(intervalo);
                
                // 5. CENTRALIZAR (ESC)
                setTimeout(() => {
                    const evtEsc = new KeyboardEvent('keydown', {
                        key: 'Escape', code: 'Escape', keyCode: 27, which: 27,
                        bubbles: true, cancelable: true, view: window
                    });
                    document.dispatchEvent(evtEsc);

                    // ✅ DESSELECIONA TODOS OS NÓS APÓS CADA PRESSIONAMENTO
                    network.unselectAll();
                    
                    console.log("✓ OTIMIZAÇÃO CONCLUÍDA!");
                    tempAlert(`✓ Grafo otimizado! (${pressionamentosIdeal} ajustes aplicados)`, 3000);
                }, 1000);
            }
        }, 200);
    }

    // Torna função global
    window.otimizarGrafoAutomaticamente = otimizarGrafoAutomaticamente;

    </script>


    


    <script>
    // Event listener para o botão de otimização
    document.getElementById('sinarc-otimizar-button').addEventListener('click', function() {
        // Feedback visual
        this.style.background = 'rgba(89, 201, 67, 0.4)';
        setTimeout(() => {
            this.style.background = '';
        }, 300);
        
        // Chama a função de otimização
        if (typeof otimizarGrafoAutomaticamente === 'function') {
            otimizarGrafoAutomaticamente();
        } else {
            console.error('Função otimizarGrafoAutomaticamente não encontrada!');
            alert('Erro: Função de otimização não está disponível.');
        }
    });
    </script>





    <script>
    // ========================================
    // DUPLO CLIQUE NO FUNDO = ESC
    // ========================================

    function ativarDuploCliqueESC() {
        let container = document.getElementById('mynetwork') || 
                        document.querySelector('#network') || 
                        document.querySelector('[id*="network"]');
        
        if (!container) {
            console.error('❌ Container do grafo não encontrado!');
            return;
        }
        
        if (typeof network === 'undefined') {
            console.error('❌ Objeto network não encontrado!');
            return;
        }
        
        // Listener para duplo clique
        network.on('doubleClick', function(params) {
            // Verificar se clicou no fundo (não em nó ou aresta)
            if (params.nodes.length === 0 && params.edges.length === 0) {
                //console.log('⚡ Duplo clique no fundo - simulando ESC');
                
                // Simular pressionamento da tecla ESC
                const eventESC = new KeyboardEvent('keydown', {
                    key: 'Escape',
                    code: 'Escape',
                    keyCode: 27,
                    which: 27,
                    bubbles: true,
                    cancelable: true
                });
                
                document.dispatchEvent(eventESC);
                
                // Também disparar keyup para completar o ciclo
                const eventESCUp = new KeyboardEvent('keyup', {
                    key: 'Escape',
                    code: 'Escape',
                    keyCode: 27,
                    which: 27,
                    bubbles: true,
                    cancelable: true
                });
                
                document.dispatchEvent(eventESCUp);
            }
        });
        
        //console.log('✅ Duplo clique no fundo = ESC ativado');
    }

    // Ativar quando o network estiver pronto
    if (typeof network !== 'undefined') {
        ativarDuploCliqueESC();
    } else {
        // Tentar após um pequeno delay se network ainda não existe
        setTimeout(function() {
            if (typeof network !== 'undefined') {
                ativarDuploCliqueESC();
            }
        }, 1000);
    }
    </script>






    
<script>

// ===================================================
// IMPORTADOR DE EXCEL + SUBSTITUIR IMAGEM + CRIAR NÓS
// (VERSÃO OTIMIZADA - COM RECÁLCULO COMPLETO)
// ===================================================

function iniciarImportadorSinarc() {
    // Prevenção de múltiplas inicializações
    if (window._sinarcImportadorAtivo) {
        console.log('⚠️ Importador já ativo, pulando inicialização');
        return;
    }
    window._sinarcImportadorAtivo = true;
    
    // Carregar XLSX.js se necessário
    if (typeof XLSX === 'undefined') {
        let script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js';
        script.onload = () => iniciarImportador();
        script.onerror = () => console.error('❌ Erro ao carregar XLSX.js');
        document.head.appendChild(script);
    } else {
        iniciarImportador();
    }
    
    function iniciarImportador() {
        let container = document.getElementById('mynetwork') || 
                    document.querySelector('#network') || 
                    document.querySelector('[id*="network"]');
        
        if (!container) {
            console.error('❌ Container do grafo não encontrado!');
            return;
        }
        
        // ========================================
        // CONFIGURAÇÕES PADRÃO DO GRAFO
        // ========================================
        
        const CONFIG_NO_PADRAO = {
            font: {
                color: '#777777',
                strokeWidth: 4,
                strokeColor: '#ffffff'
            },
            shapeProperties: {
                useBorderWithImage: true,
                interpolation: true
            },
            color: {
                border: 'transparent',
                background: 'transparent',
                hover: {
                    border: 'transparent',
                    background: 'transparent'
                },
                highlight: {
                    border: 'transparent',
                    background: 'rgba(0, 255, 0, 0.3)'
                }
            }
        };
        
        const CONFIG_ARESTA_PADRAO = {
            smooth: {
                enabled: false
            },
            font: {
                align: 'top',
                color: '#777777',
                size: 15
            },
            color: {
                color: '#2B7CE9',
                highlight: '#FF0000',
                hover: '#FF0000',
                inherit: false
            },
            arrowStrikethrough: false,
            width: 1,
            length: 300
        };
        
        // ========================================
        // ✅ RECÁLCULO COM DEBOUNCE
        // ========================================
        
        let timeoutRecalculo = null;
        
        function recalcularTamanhosDebounced() {
            if (timeoutRecalculo) {
                clearTimeout(timeoutRecalculo);
            }
            
            timeoutRecalculo = setTimeout(() => {
                recalcularTamanhos();
            }, 100);  // 100ms de debounce
        }
        
        // ========================================
        // ✅ LISTENERS COMPLETOS (NÓS + ARESTAS)
        // ========================================
        
        if (typeof nodes !== 'undefined' && !nodes._sinarcListenerAdded) {
            // Quando nós são ADICIONADOS
            nodes.on('add', function(event, properties) {
                console.log(`➕ ${properties.items.length} nó(s) adicionado(s)`);
                recalcularTamanhosDebounced();
            });
            
            // Quando nós são REMOVIDOS
            nodes.on('remove', function(event, properties) {
                console.log(`🗑️ ${properties.items.length} nó(s) removido(s)`);
                recalcularTamanhosDebounced();
            });
            
            nodes._sinarcListenerAdded = true;
            console.log('👂 Listeners de nós ativados');
        }
        
        if (typeof edges !== 'undefined' && !edges._sinarcListenerAdded) {
            // Quando arestas são ADICIONADAS
            edges.on('add', function(event, properties) {
                console.log(`🔗 ${properties.items.length} aresta(s) adicionada(s)`);
                recalcularTamanhosDebounced();
            });
            
            // Quando arestas são REMOVIDAS
            edges.on('remove', function(event, properties) {
                console.log(`✂️ ${properties.items.length} aresta(s) removida(s)`);
                recalcularTamanhosDebounced();
            });
            
            edges._sinarcListenerAdded = true;
            console.log('👂 Listeners de arestas ativados');
        }
        
        // Paleta de cores
        let paletaCores = [
            '#97c2fc', '#fb7e81', '#ffa807', '#7be141', '#c2c2f0',
            '#ffeb9c', '#ad85e4', '#ff9da6', '#8dd1e1', '#d4a76a',
            '#6e6efa', '#5dc8cd', '#ffc857', '#db3a34', '#084c61',
            '#56b4e9', '#e69f00', '#009e73', '#f0e442', '#0072b2'
        ];
        
        let mapaTipoCor = new Map();
        let indiceCor = 0;
        
        // Constantes de proximidade
        const DISTANCIA_SUBSTITUIR = 30;
        const DISTANCIA_CONECTAR = 100;
        
        // Variáveis para drag de imagem
        let noSobCursor = null;
        let noProximo = null;
        let ultimaPosicao = {x: 0, y: 0};
        let modoArrastar = null;
        
        // Cache de posições
        let cachePosicoes = null;
        let timestampCache = 0;
        const CACHE_EXPIRY = 200;
        
        function escurecerCor(cor, porcentagem) {
            cor = cor.replace('#', '');
            let num = parseInt(cor, 16);
            let r = (num >> 16);
            let g = ((num >> 8) & 0x00FF);
            let b = (num & 0x0000FF);
            
            r = Math.floor(r * (1 - porcentagem / 100));
            g = Math.floor(g * (1 - porcentagem / 100));
            b = Math.floor(b * (1 - porcentagem / 100));
            
            r = Math.max(0, Math.min(255, r));
            g = Math.max(0, Math.min(255, g));
            b = Math.max(0, Math.min(255, b));
            
            return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        }
        
        function obterCorPorTipo(tipo) {
            if (!tipo) tipo = 'default';
            tipo = String(tipo).trim();
            
            if (mapaTipoCor.has(tipo)) {
                return mapaTipoCor.get(tipo);
            }
            
            let cor = paletaCores[indiceCor % paletaCores.length];
            mapaTipoCor.set(tipo, cor);
            indiceCor++;
            
            return cor;
        }
        
        function calcularDistancia(x1, y1, x2, y2) {
            return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
        }
        
        function detectarNoProximo(canvasX, canvasY) {
            if (typeof network === 'undefined') return null;
            
            let agora = Date.now();
            if (!cachePosicoes || (agora - timestampCache) > CACHE_EXPIRY) {
                let todosNos = nodes.get();
                cachePosicoes = todosNos.map(no => ({
                    id: no.id,
                    pos: network.getPositions([no.id])[no.id]
                })).filter(item => item.pos);
                timestampCache = agora;
            }
            
            let noMaisProximo = null;
            let menorDistancia = Infinity;
            
            for (let i = 0; i < cachePosicoes.length; i++) {
                let item = cachePosicoes[i];
                let distancia = calcularDistancia(canvasX, canvasY, item.pos.x, item.pos.y);
                
                if (distancia < menorDistancia) {
                    menorDistancia = distancia;
                    noMaisProximo = {id: item.id, distancia: distancia};
                    
                    if (distancia < DISTANCIA_SUBSTITUIR) {
                        break;
                    }
                }
            }
            
            return noMaisProximo;
        }
        
        // ========================================
        // ✅ RECÁLCULO EFICIENTE
        // ========================================
        
        function recalcularTamanhos() {
            if (typeof nodes === 'undefined' || typeof edges === 'undefined') return;
            
            let contagemConexao = {};
            
            let todosNos = nodes.get();
            let todasArestas = edges.get();
            
            // Inicializar contagem
            for (let i = 0; i < todosNos.length; i++) {
                contagemConexao[todosNos[i].id] = 0;
            }
            
            // Contar conexões
            for (let i = 0; i < todasArestas.length; i++) {
                let aresta = todasArestas[i];
                if (contagemConexao[aresta.from] !== undefined) {
                    contagemConexao[aresta.from]++;
                }
                if (contagemConexao[aresta.to] !== undefined) {
                    contagemConexao[aresta.to]++;
                }
            }
            
            let maxConexao = Math.max(...Object.values(contagemConexao), 1);
            
            // Atualizar tamanhos em lote
            let updates = [];
            for (let i = 0; i < todosNos.length; i++) {
                let no = todosNos[i];
                let valor = contagemConexao[no.id] || 0;
                
                let tamanho = maxConexao === 1 
                    ? 50 
                    : 20 + Math.round(80 * (valor) / (maxConexao));
                
                tamanho = Math.max(20, Math.min(100, tamanho));
                
                updates.push({
                    id: no.id,
                    size: tamanho,
                    value: valor
                });
            }
            
            nodes.update(updates);
            cachePosicoes = null;
            
            console.log(`🔄 Tamanhos recalculados: ${todosNos.length} nós, max ${maxConexao} conexões`);
        }
        
        // ========================================
        // DRAG AND DROP
        // ========================================
        
        let ultimoDragover = 0;
        const THROTTLE_DRAGOVER = 50;
        
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(evt => {
            container.addEventListener(evt, e => {
                e.preventDefault();
                e.stopPropagation();
            }, false);
        });
        
        container.addEventListener('dragover', function(e) {
            e.preventDefault();
            
            let agora = Date.now();
            if (agora - ultimoDragover < THROTTLE_DRAGOVER) {
                return;
            }
            ultimoDragover = agora;
            
            if (e.dataTransfer.types.includes('Files')) {
                ultimaPosicao.x = e.clientX;
                ultimaPosicao.y = e.clientY;
                
                if (typeof network !== 'undefined') {
                    let rect = container.getBoundingClientRect();
                    let canvasX = e.clientX - rect.left;
                    let canvasY = e.clientY - rect.top;
                    
                    let posCanvas = network.DOMtoCanvas({x: canvasX, y: canvasY});
                    let noInfo = detectarNoProximo(posCanvas.x, posCanvas.y);
                    
                    if (noInfo) {
                        let posicaoNo = network.getPositions([noInfo.id])[noInfo.id];
                        let posicaoNoTela = network.canvasToDOM(posicaoNo);
                        let distanciaTela = calcularDistancia(canvasX, canvasY, posicaoNoTela.x, posicaoNoTela.y);
                        
                        if (distanciaTela < DISTANCIA_SUBSTITUIR) {
                            modoArrastar = 'substituir';
                            noSobCursor = noInfo.id;
                            noProximo = null;
                            container.style.borderColor = '#2196F3';
                            container.style.backgroundColor = 'rgba(33, 150, 243, 0.2)';
                        } else if (distanciaTela < DISTANCIA_CONECTAR) {
                            modoArrastar = 'conectar';
                            noSobCursor = null;
                            noProximo = noInfo.id;
                            container.style.borderColor = '#FF9800';
                            container.style.backgroundColor = 'rgba(255, 152, 0, 0.15)';
                        } else {
                            modoArrastar = 'criar';
                            noSobCursor = null;
                            noProximo = null;
                            container.style.borderColor = '#4CAF50';
                            container.style.backgroundColor = 'rgba(76, 175, 80, 0.1)';
                        }
                    } else {
                        modoArrastar = 'criar';
                        noSobCursor = null;
                        noProximo = null;
                        container.style.borderColor = '#4CAF50';
                        container.style.backgroundColor = 'rgba(76, 175, 80, 0.1)';
                    }
                }
            }
        }, false);
        
        container.addEventListener('dragleave', function(e) {
            container.style.borderColor = '';
            container.style.backgroundColor = '';
            noSobCursor = null;
            noProximo = null;
            modoArrastar = null;
        }, false);
        
        container.addEventListener('drop', function(e) {
            e.preventDefault();
            
            container.style.borderColor = '';
            container.style.backgroundColor = '';
            
            let file = e.dataTransfer.files[0];
            
            if (!file) {
                console.log('❌ Nenhum arquivo detectado');
                return;
            }
            
            if (file.type.startsWith('image/')) {
                let rect = container.getBoundingClientRect();
                let canvasX = ultimaPosicao.x - rect.left;
                let canvasY = ultimaPosicao.y - rect.top;
                let posCanvas = network.DOMtoCanvas({x: canvasX, y: canvasY});
                
                if (modoArrastar === 'substituir' && noSobCursor) {
                    substituirImagemNo(noSobCursor, file);
                } else if (modoArrastar === 'conectar' && noProximo) {
                    criarNoConectado(noProximo, file, posCanvas.x, posCanvas.y);
                } else {
                    criarNoIsolado(file, posCanvas.x, posCanvas.y);
                }
                
                noSobCursor = null;
                noProximo = null;
                modoArrastar = null;
                return;
            }
            
            if (file.name.match(/\.(xlsx|xls)$/i)) {
                let reader = new FileReader();
                
                reader.onload = function(evt) {
                    try {
                        processarExcel(evt.target.result);
                    } catch (erro) {
                        console.error('Erro:', erro);
                        alert('❌ Erro ao processar: ' + erro.message);
                    }
                };
                
                reader.readAsArrayBuffer(file);
            }
            
            noSobCursor = null;
            noProximo = null;
            modoArrastar = null;
        }, false);
        
        // ========================================
        // SUBSTITUIR IMAGEM
        // ========================================
        
        function substituirImagemNo(noId, arquivo) {
            let reader = new FileReader();
            
            reader.onload = function(evt) {
                try {
                    let no = nodes.get(noId);
                    
                    if (!no) {
                        console.error('❌ Nó não encontrado:', noId);
                        alert('❌ Nó não encontrado: ' + noId);
                        return;
                    }
                    
                    let noAtualizado = {
                        id: no.id,
                        shape: 'image',
                        image: evt.target.result,
                        color: CONFIG_NO_PADRAO.color,
                        borderWidth: 0,
                        borderWidthSelected: 0,
                        imagePadding: 0
                    };
                    
                    if (no.label !== undefined) noAtualizado.label = no.label;
                    if (no.title !== undefined) noAtualizado.title = no.title;
                    if (no.size !== undefined) noAtualizado.size = no.size;
                    if (no.value !== undefined) noAtualizado.value = no.value;
                    if (no.font !== undefined) noAtualizado.font = no.font;
                    if (no.z_ancestor !== undefined) noAtualizado.z_ancestor = no.z_ancestor;
                    if (no.z_group !== undefined) noAtualizado.z_group = no.z_group;
                    if (no.z_novo !== undefined) noAtualizado.z_novo = no.z_novo;
                    if (no.shapeProperties !== undefined) noAtualizado.shapeProperties = no.shapeProperties;
                    
                    nodes.update(noAtualizado);
                    cachePosicoes = null;
                    
                } catch (erro) {
                    console.error('❌ Erro ao substituir:', erro);
                    alert('❌ Erro: ' + erro.message);
                }
            };
            
            reader.onerror = function(erro) {
                console.error('❌ Erro ao ler arquivo:', erro);
                alert('❌ Erro ao ler imagem');
            };
            
            reader.readAsDataURL(arquivo);
        }
        
        // ========================================
        // CRIAR NÓ ISOLADO
        // ========================================
        
        function criarNoIsolado(arquivo, x, y) {
            let labelNo = prompt('Digite o label do novo nó:', arquivo.name.split('.')[0]);
            
            if (labelNo === null) {
                console.log('⚠️ Criação de nó cancelada pelo usuário');
                return;
            }
            
            if (labelNo === undefined || labelNo.trim() === '') {
                labelNo = '';
            }
            
            let reader = new FileReader();
            
            reader.onload = function(evt) {
                try {
                    let timestamp = Date.now();
                    let novoId = `img_${timestamp}`;
                    
                    let novoNo = {
                        id: novoId,
                        label: labelNo,
                        title: arquivo.name,
                        shape: 'image',
                        image: evt.target.result,
                        size: 20,
                        value: 0,
                        x: x,
                        y: y,
                        font: CONFIG_NO_PADRAO.font,
                        shapeProperties: CONFIG_NO_PADRAO.shapeProperties,
                        z_ancestor: "true",
                        z_group: 1,
                        z_novo: 1,
                        color: CONFIG_NO_PADRAO.color,
                        borderWidth: 0,
                        borderWidthSelected: 0,
                        imagePadding: 0
                    };
                    
                    nodes.add(novoNo);
                    cachePosicoes = null;
                    // ✅ Listener 'add' dispara recálculo automaticamente
                    
                } catch (erro) {
                    console.error('❌ Erro ao criar nó:', erro);
                    alert('❌ Erro: ' + erro.message);
                }
            };
            
            reader.readAsDataURL(arquivo);
        }
        
        // ========================================
        // CRIAR NÓ CONECTADO
        // ========================================
        
        function criarNoConectado(noIdAlvo, arquivo, x, y) {
            let inverterDirecao = confirm(
                '🔄 Direção da seta:\n\n' +
                '✓ OK = Nó existente → Novo nó (padrão)\n' +
                '✗ Cancelar = Novo nó → Nó existente'
            );
            
            let labelNo = prompt('Digite o label do novo nó:', arquivo.name.split('.')[0]);
            
            if (labelNo === null) {
                console.log('⚠️ Criação de nó cancelada pelo usuário');
                return;
            }
            
            if (labelNo === undefined || labelNo.trim() === '') {
                labelNo = '';
            }
            
            let labelAresta = prompt('Digite o label da conexão (deixe vazio se não quiser):', '');
            
            if (labelAresta === null) {
                console.log('⚠️ Criação de nó cancelada pelo usuário');
                return;
            }
            
            if (labelAresta === undefined || labelAresta.trim() === '') {
                labelAresta = '';
            }
            
            let reader = new FileReader();
            
            reader.onload = function(evt) {
                try {
                    let timestamp = Date.now();
                    let novoId = `img_${timestamp}`;
                    
                    let novoNo = {
                        id: novoId,
                        label: labelNo,
                        title: arquivo.name,
                        shape: 'image',
                        image: evt.target.result,
                        size: 20,
                        value: 1,
                        x: x,
                        y: y,
                        font: CONFIG_NO_PADRAO.font,
                        shapeProperties: CONFIG_NO_PADRAO.shapeProperties,
                        z_ancestor: "true",
                        z_group: 1,
                        z_novo: 1,
                        color: CONFIG_NO_PADRAO.color,
                        borderWidth: 0,
                        borderWidthSelected: 0,
                        imagePadding: 0
                    };
                    
                    nodes.add(novoNo);
                    
                    let fromId, toId;
                    if (inverterDirecao) {
                        fromId = noIdAlvo;
                        toId = novoId;
                    } else {
                        fromId = novoId;
                        toId = noIdAlvo;
                    }
                    
                    let novaAresta = {
                        from: fromId,
                        to: toId,
                        arrows: 'to',
                        smooth: CONFIG_ARESTA_PADRAO.smooth,
                        font: CONFIG_ARESTA_PADRAO.font,
                        color: CONFIG_ARESTA_PADRAO.color,
                        arrowStrikethrough: CONFIG_ARESTA_PADRAO.arrowStrikethrough,
                        width: CONFIG_ARESTA_PADRAO.width,
                        length: CONFIG_ARESTA_PADRAO.length
                    };
                    
                    if (labelAresta !== '') {
                        novaAresta.label = labelAresta;
                        novaAresta.title = labelAresta;
                    }
                    
                    edges.add(novaAresta);
                    cachePosicoes = null;
                    // ✅ Listeners disparam recálculo automaticamente
                    
                } catch (erro) {
                    console.error('❌ Erro ao criar nó conectado:', erro);
                    alert('❌ Erro: ' + erro.message);
                }
            };
            
            reader.readAsDataURL(arquivo);
        }
        
        // ========================================
        // PROCESSAR EXCEL
        // ========================================
        
        function processarExcel(data) {
            let workbook = XLSX.read(data, {type: 'array'});
            let sheet = workbook.Sheets[workbook.SheetNames[0]];
            let linhas = XLSX.utils.sheet_to_json(sheet);
            
            adicionarAoGrafo(linhas);
        }
        
        function adicionarAoGrafo(linhas) {
            if (typeof nodes !== 'undefined' && nodes.length > 0) {
                alert('⚠️ O grafo possui nós.\n\nDelete todos os nós do grafo antes de importar dados do Excel.');
                console.warn('❌ Importação cancelada - grafo não está vazio');
                return;
            }
            
            let mapaNo = new Map();
            let contagemConexao = {};
            let listaAresta = [];
            let erro = [];
            
            let tiposUnicos = new Set();
            linhas.forEach(linha => {
                let tipo1 = linha.type_1 || linha.TYPE_1 || 'default';
                let tipo2 = linha.type_2 || linha.TYPE_2 || 'default';
                tiposUnicos.add(String(tipo1).trim());
                tiposUnicos.add(String(tipo2).trim());
            });
            
            Array.from(tiposUnicos).sort().forEach(tipo => {
                obterCorPorTipo(tipo);
            });
            
            linhas.forEach((linha, idx) => {
                try {
                    let label1 = linha.label_1 || linha.LABEL_1;
                    let image1 = linha.image_1 || linha.IMAGE_1 || '';
                    let title1 = linha.title_1 || linha.TITLE_1 || label1;
                    let tipo1 = String(linha.type_1 || linha.TYPE_1 || 'default').trim();
                    
                    let label2 = linha.label_2 || linha.LABEL_2;
                    let image2 = linha.image_2 || linha.IMAGE_2 || '';
                    let title2 = linha.title_2 || linha.TITLE_2 || label2;
                    let tipo2 = String(linha.type_2 || linha.TYPE_2 || 'default').trim();
                    
                    let edgeTitle = linha.edge_label || linha.EDGE_LABEL || '';
                    
                    if (!label1 || !label2) {
                        erro.push(`Linha ${idx + 2}: Labels obrigatórios`);
                        return;
                    }
                    
                    if (!mapaNo.has(label1)) {
                        mapaNo.set(label1, {
                            label: label1, 
                            image: image1, 
                            title: title1,
                            tipo: tipo1
                        });
                        contagemConexao[label1] = 0;
                    }
                    
                    if (!mapaNo.has(label2)) {
                        mapaNo.set(label2, {
                            label: label2, 
                            image: image2, 
                            title: title2,
                            tipo: tipo2
                        });
                        contagemConexao[label2] = 0;
                    }
                    
                    contagemConexao[label1]++;
                    contagemConexao[label2]++;
                    
                    listaAresta.push({from: label1, to: label2, label: edgeTitle});
                    
                } catch (e) {
                    erro.push(`Linha ${idx + 2}: ${e.message}`);
                }
            });
            
            let maxConexao = Math.max(...Object.values(contagemConexao), 1);
            
            let novosNos = [];
            let novasArestas = [];
            
            mapaNo.forEach((info, id) => {
                try {
                    let valor = contagemConexao[id] || 1;
                    
                    let tamanho = maxConexao === 1 
                        ? 50 
                        : 20 + Math.round(80 * (valor - 1) / (maxConexao - 1));
                    
                    tamanho = Math.max(20, Math.min(100, tamanho));
                    
                    let no = {
                        id: id,
                        label: info.label,
                        title: info.title,
                        size: tamanho,
                        value: valor,
                        font: CONFIG_NO_PADRAO.font,
                        shapeProperties: CONFIG_NO_PADRAO.shapeProperties,
                        z_ancestor: "true",
                        z_group: 1,
                        z_novo: 1
                    };
                    
                    if (info.image && info.image.trim() !== '') {
                        no.shape = 'image';
                        no.image = info.image;
                        no.color = CONFIG_NO_PADRAO.color;
                        no.borderWidth = 0;
                        no.borderWidthSelected = 0;
                        no.imagePadding = 0;
                    } else {
                        no.shape = 'dot';
                        let cor = obterCorPorTipo(info.tipo);
                        let corBorda = escurecerCor(cor, 30);
                        
                        no.color = {
                            background: cor,
                            border: corBorda,
                            hover: {
                                background: cor,
                                border: corBorda
                            },
                            highlight: {
                                background: cor,
                                border: corBorda
                            }
                        };
                    }
                    
                    novosNos.push(no);
                    
                } catch (e) {
                    if (!e.message || !e.message.includes('already exists')) {
                        erro.push(`Nó ${id}: ${e.message}`);
                    }
                }
            });
            
            listaAresta.forEach((aresta) => {
                try {
                    let novaAresta = {
                        from: aresta.from,
                        to: aresta.to,
                        arrows: 'to',
                        smooth: CONFIG_ARESTA_PADRAO.smooth,
                        font: CONFIG_ARESTA_PADRAO.font,
                        color: CONFIG_ARESTA_PADRAO.color,
                        arrowStrikethrough: CONFIG_ARESTA_PADRAO.arrowStrikethrough,
                        width: CONFIG_ARESTA_PADRAO.width
                    };
                    
                    if (aresta.label && aresta.label.trim() !== '') {
                        novaAresta.label = aresta.label;
                        novaAresta.title = aresta.label;
                    }
                    
                    novasArestas.push(novaAresta);
                } catch (e) {
                    if (!e.message.includes('already exists')) {
                        erro.push(`Aresta: ${e.message}`);
                    }
                }
            });
            
            // Adicionar tudo em lote
            nodes.add(novosNos);
            edges.add(novasArestas);
            
            cachePosicoes = null;
            
            Array.from(mapaTipoCor.entries())
                .sort((a, b) => a[0].localeCompare(b[0]))
                .forEach(([tipo, cor]) => {
                    console.log(`  ${tipo}: ${cor}`);
                });
            
            let msg = `✅ ${novosNos.length} nós\n`;
            msg += `✅ ${novasArestas.length} arestas\n`;
            msg += `📊 Máx conexões: ${maxConexao}\n`;
            msg += `🎨 Tipos: ${mapaTipoCor.size}`;
            
            if (erro.length > 0) {
                msg += `\n\n⚠️ ${erro.length} avisos`;
                console.warn('Avisos:', erro);
            }
            
            alert(msg);
            
            if (typeof network !== 'undefined' && network.fit) {
                network.fit();
            }
        }
        
        console.log('📦 Excel: label_1, image_1, title_1, type_1, edge_label, label_2, image_2, title_2, type_2');
        console.log('🖼️ Imagem: Em cima=substituir | Próximo=conectar | Vazio=criar isolado');
        console.log('🔄 Recálculo automático: ATIVADO (nós + arestas)');
    }
}

// Iniciar quando a página carregar
window.addEventListener('load', iniciarImportadorSinarc);

</script>




    


    




</body>
</html>